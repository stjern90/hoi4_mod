###########################
# German Events
###########################

add_namespace = germany

# Austrian Anschluss Completed
country_event = {
	id = germany.4
	title = germany.4.t
	desc = germany.4.d
	picture = GFX_report_event_anschluss
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_ai = yes
			}	
			GER_add_ai_construction_q3 = yes
		}
	}
	
	option = {
		name = germany.4.a
		4 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		152 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		153 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		#AUS = {
		#	every_unit_leader = {
		#		set_nationality = GER
		#	}
		#}
		annex_country = { target = AUS transfer_troops = yes }
		add_political_power = 75
		add_named_threat = { threat = 9 name = germany.4.t }
		set_country_flag = AUS_annexed
		add_war_support = 0.05
		add_stability = 0.05
		
		custom_effect_tooltip = anschluss_mefo_bills_tt
		hidden_effect = { # Having it appear twice might be confusing
			GER_mefo_bills_level_down = yes
			GER_mefo_bills_level_down = yes
		}
		custom_effect_tooltip = anschluss_mefo_bills_double_reduction
		add_to_variable = { var = GER_mefo_bill_counter value = -10 }
		
		if = {
			limit = {
				has_dlc = "Death or Dishonor"
				country_exists = YUG
				YUG = { has_war = no }
			}
			#country_event = {  # enable?
			#	id = DOD_yugoslavia.30
			#	days = 4
			#}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.36 }
		}
	}
}
#Oil Weapon Treaty
country_event = {
	id = germany.250
	title = germany.250.t
	desc = germany.250.d
	picture = GFX_report_event_hitler_and_generals
	
	is_triggered_only = yes
	
	option = {
		name = germany.250.a	#accept
		ai_chance = {
			factor = 100
		}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_resource = {
		         	type = oil 
		         	amount = -36
		        	state = 46
	         	}
				add_resource = {
		         	type = oil 
		         	amount = 36
		        	state = 81
	         	}
				ROM = {
					give_resource_rights = { receiver = GER state = 46 }
				}
				else = {
					random_owned_controlled_state = {
						prioritize = { 65 }
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					ROM = {
						has_tech = infantry_weapons1
					}
				}
				ROM = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 1500 producer = GER }
				add_equipment_to_stockpile = { type = infantry_uniforms  amount = 1500 producer = GER }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 1500 producer = GER }
				}
			} 
			ROM = { 
			add_opinion_modifier = { target = GER modifier = pact_of_steel_opinion }
			}
	}
	
	option = {
		name = germany.250.b	#refuse
		ai_chance = {
			factor = 0
			}
		add_opinion_modifier = { target = GER modifier = hostile_status }
		GER = { add_opinion_modifier = { target = ROM modifier = hostile_status}
		}
	}
}
#Alliance Uk
country_event = {
	id = germany.251
	title =	germany.251.t
	desc = germany.251.d
	picture = GFX_report_event_lord_halifax

	is_triggered_only = yes
	
	option = {
		name = germany.251.a	#join
		ENG = { add_to_faction = GER }
		GER = { dismantle_faction = yes }
		every_other_country = {
			limit = {
				OR = {
					AND = {
						NOT = { tag = GER }
						has_government = fascism 
					}
					has_government = communism
				}
			}
			add_opinion_modifier = { target = GER modifier = unholy_alliance }
			add_opinion_modifier = { target = ENG modifier = unholy_alliance }
		}
	}
}

#Ask China to continue/start trade treaty
country_event = {
	id = germany.334
	title = germany.334.t 
	desc = germany.334.d 
	picture = GFX_report_event_chinese_officers
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = { #yes
		name = germany.334.a 
		ai_chance = { factor = 100 }
		748 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}	
		}
		
		add_opinion_modifier = {
			target = GER
			modifier = pact_of_steel_opinion
			modifier = ger_chi_diplomacy_focus
		}

		CHI = {	
			diplomatic_relation = {
				country = GER
				relation = non_aggression_pact
				active = yes
			}
			
		}
		
		add_ideas = german_chinese_trade_agreement_chi
	
		GER = {
		country_event = { id = germany.335 }
		}
	}
	option = { #no
		name = germany.334.b 
		ai_chance = { factor = 0 }
		add_political_power = -100
		add_stability = -0.05
		GER = { 
		country_event = { id = germany.336 days = 1 }
		}
	}	
}

country_event = {
	id = germany.335
	title = germany.335.t 
	desc = germany.335.d 
	picture = GFX_report_event_reichstag_hitler_speech
	
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = germany.335.a 
		ai_chance = { factor = 100 }
		
		add_opinion_modifier = {
			target = CHI
			modifier = pact_of_steel_opinion
			modifier = ger_chi_diplomacy_focus
		}
		
		add_ideas = german_chinese_trade_agreement_ger
		
		effect_tooltip = {
			748 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}	
			}
			
			add_opinion_modifier = {
				target = CHI
				modifier = pact_of_steel_opinion
				modifier = ger_chi_diplomacy_focus
			}
		
			diplomatic_relation = {
				country = CHI
				relation = non_aggression_pact
				active = yes
			}
			
			CHI = { add_ideas = german_chinese_trade_agreement_chi }
		}
	}
}

country_event = {
	id = germany.336
	title = germany.336.t 
	desc = germany.336.d 
	picture = GFX_report_event_reichstag_hitler_speech
	
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = germany.336.a 
		ai_chance = { factor = 100 }
		
		add_opinion_modifier = {
			target = CHI
			modifier = pact_against_us
		}
	}
}



country_event = {
	id = germany.337
	title = germany.337.t
	desc = germany.337.d
	picture = GFX_report_event_japanese_envoy
	
	is_triggered_only = yes
	
	option = {
		name = germany.337.a
		ai_chance = {
			factor = 100
		}

		add_political_power = 100
		add_war_support = 0.025
		
		diplomatic_relation = {
			country = GER
			relation = non_aggression_pact
			active = yes
		}
		add_opinion_modifier = { target = GER modifier = GER_replaced_abassador }
		
		CHI = {
			effect_tooltip = {
			add_stability = -0.025
			add_war_support = 0.025
			add_opinion_modifier = { target = GER modifier = GER_replaced_abassador_in_japan }
			}
			country_event = germany.340 	
		}
		
		GER = {
			effect_tooltip = {
				add_political_power = 100
				add_war_support = 0.025
				
				diplomatic_relation = {
				country = JAP
				relation = non_aggression_pact
				active = yes
				}
				add_opinion_modifier = { target = JAP modifier = GER_replace_the_abassador_in_japan }
			}
			country_event = germany.338
		}
	}
	
	option = {
		name = germany.337.b
		ai_chance = {
			factor = 0
		}
		
		add_political_power = -50
		add_stability = 0.01
		
		GER = {
			effect_tooltip = {
				add_political_power = -100
			}
			
			country_event = germany.339
		}
	}
}

country_event = {
	id = germany.338
	title = germany.338.t
	desc = germany.338.d
	picture = GFX_report_event_japanese_envoy
	
	is_triggered_only = yes
	
	option = {
		name = germany.338.a
		ai_chance = {
			base = 5
		}

		add_political_power = 100
		add_war_support = 0.025
		
		add_opinion_modifier = { target = JAP modifier = GER_replace_the_abassador_in_japan }
	}
}

country_event = {
	id = germany.339
	title = germany.339.t
	desc = germany.339.d
	picture = GFX_report_event_japanese_envoy
	
	is_triggered_only = yes
	
	option = {
		name = germany.339.a
		ai_chance = {
			base = 5
		}

		add_political_power = -100
	}
}

country_event = {
	id = germany.340
	title = germany.340.t
	desc = germany.340.d
	picture = GFX_report_event_japanese_envoy
	
	is_triggered_only = yes
	
	option = {
		name = germany.340.a
		ai_chance = {
			base = 5
		}

		add_stability = -0.025
		add_war_support = 0.025
		
		add_opinion_modifier = { target = GER modifier = GER_replaced_abassador_in_japan }
	}
}

country_event = {
	id = germany.341
	title = germany.341.t
	desc = germany.341.d
	picture = GFX_report_event_japanese_naval_officers
	
	is_triggered_only = yes
	
	option = {
		name = germany.341.a
		ai_chance = {
			factor = 100
		}
		
		add_political_power = 75
		add_war_support = 0.025
		
		diplomatic_relation = {
				country = JAP
				relation = non_aggression_pact
				active = yes
		}
		add_opinion_modifier = { target = JAP modifier = GER_replace_the_abassador_in_japan }
		
		CHI = {
			effect_tooltip = {
			add_stability = -0.025
			add_war_support = 0.025
			add_opinion_modifier = { target = GER modifier = GER_replaced_abassador_in_japan }
			}
			country_event = germany.340 	
		}
		
		JAP = {
			effect_tooltip = {
				add_political_power = 75
				add_war_support = 0.025
				
				diplomatic_relation = {
				country = GER
				relation = non_aggression_pact
				active = yes
				}
				add_opinion_modifier = { target = GER modifier = GER_replaced_abassador }
			}
			country_event = germany.342
		}
	}
	
	option = {
		name = germany.341.b
		ai_chance = {
			factor = 0
		}
		
		add_political_power = -25
		add_stability = 0.01
		
		JAP = {
			effect_tooltip = {
				add_political_power = -50
			}
			country_event = germany.343
		}
	}
}

country_event = {
	id = germany.342
	title = germany.342.t
	desc = germany.342.d
	picture = GFX_report_event_japan_europe_pact
	
	is_triggered_only = yes
	
	option = {
		name = germany.342.a
		ai_chance = {
			base = 5
		}

		add_political_power = 75
		add_war_support = 0.025
		
		add_opinion_modifier = { target = GER modifier = GER_replaced_abassador }
	}
}

country_event = {
	id = germany.343
	title = germany.343.t
	desc = germany.343.d
	picture = GFX_report_event_japan_army
	
	is_triggered_only = yes
	
	option = {
		name = germany.343.a
		ai_chance = {
			base = 5
		}

		add_political_power = -50
	}
}


### JAP/CHI - GER TECH COLLABORATION
country_event = {
	id = germany.344
	title = germany.344.t
	desc = germany.344.d
	picture = GFX_report_event_japanese_envoy
	
	is_triggered_only = yes
	
	option = {
		name = germany.344.a #accept
		ai_chance = {
			base = 5
		}
		trigger = { 
			original_tag = JAP
		}
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_relation_modifier = {
			target = GER
			modifier = GER_JAP_military_cooperation
		}
		GER = {
			country_event = germany.345
		}
	}
	
	option = {
		name = germany.344.c #accept
		ai_chance = {
			base = 5
		}
		trigger = { 
			original_tag = CHI
		}
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_relation_modifier = {
			target = GER
			modifier = GER_CHI_military_cooperation
		}
		GER = {
			country_event = germany.345
		}
	}
	
	option = {
		name = germany.344.e #accept
		ai_chance = {
			base = 5
		}
		trigger = { 
			original_tag = GER
		}
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_relation_modifier = {
			target = JAP
			modifier = GER_JAP_military_cooperation
		}
		JAP = {
			country_event = germany.345
		}
	}
	
	option = {
		name = germany.344.g #accept
		ai_chance = {
			base = 5
		}
		trigger = { 
			original_tag = GER
		}
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_relation_modifier = {
			target = CHI
			modifier = GER_CHI_military_cooperation
		}
		CHI = {
			country_event = germany.345
		}
	}
	
	
	option = {
		name = germany.344.b #refuse
		ai_chance = {
			base = 0
		}
		trigger = { 
			original_tag = JAP
		}
		add_political_power = -50
		
		GER = {
			country_event = germany.346
		}
	}
	
	option = {
		name = germany.344.i #refuse
		ai_chance = {
			base = 0
		}
		trigger = { 
			original_tag = CHI
		}
		add_political_power = -50
		
		GER = {
			country_event = germany.346
		}
	}
	
	option = {
		name = germany.344.f #refuse
		ai_chance = {
			base = 0
		}
		trigger = { 
			FROM = { original_tag = JAP }
			original_tag = GER
		}
		add_political_power = -50
		
		JAP = {
			country_event = germany.346
		}
	}
	
	option = {
		name = germany.344.h #refuse
		ai_chance = {
			base = 0
		}
		trigger = { 
			FROM = { original_tag = CHI }
			original_tag = GER
		}
		add_political_power = -50
		
		CHI = {
			country_event = germany.346
		}
	}
}

country_event = {
	id = germany.345
	title = germany.345.t
	desc = germany.345.d
	picture = GFX_report_event_japanese_envoy
	
	is_triggered_only = yes
	
	option = {
		name = germany.345.a
		ai_chance = {
			base = 5
		}
		trigger = { 
			FROM = { original_tag = JAP }
			original_tag = GER
		}
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_relation_modifier = {
			target = JAP
			modifier = GER_JAP_military_cooperation
		}
	}
	
	option = {
		name = germany.345.b
		ai_chance = {
			base = 5
		}
		trigger = { 
			FROM = { original_tag = CHI }
			original_tag = GER
		}
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_relation_modifier = {
			target = CHI
			modifier = GER_CHI_military_cooperation
		}
	}
	
	option = {
		name = germany.345.c
		ai_chance = {
			base = 5
		}
		trigger = { 
			original_tag = JAP
		}
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_relation_modifier = {
			target = GER
			modifier = GER_JAP_military_cooperation
		}
	}
	
	option = {
		name = germany.345.i
		ai_chance = {
			base = 5
		}
		trigger = { 
			original_tag = CHI
		}
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_relation_modifier = {
			target = GER
			modifier = GER_CHI_military_cooperation
		}
	}
}

country_event = {
	id = germany.346
	title = germany.346.t
	desc = germany.346.d
	picture = GFX_report_event_japanese_envoy
	
	is_triggered_only = yes
	
	option = {
		name = germany.346.a
		ai_chance = {
			base = 5
		}
		add_political_power = -75
	}
}

# Event for Japan to accept Tripartite Pact
country_event = {
	id = germany.347
	title = germany.347.t
	desc = germany.347.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = { save_event_target_as = GER_initiator }
			save_event_target_as = JAP_fascism
			random_country = {
				limit = {
					original_tag = ITA
					has_government = fascism
				}
				save_event_target_as = ITA_fascism
			}
		}
	}
	
	option = {
		name = germany.347.a #accept
		ai_chance = {
			base = 10
		}

		event_target:ITA_fascism = {
			country_event = { id = germany.348 hours = 6 }
		}
	}

	option = {
		name = germany.347.b #refuse
		ai_chance = {
			base = 0
		}

		event_target:GER_initiator = { country_event = { id = germany.350 hours = 6 } }
		event_target:ITA_fascism = { country_event = { id = germany.350 hours = 6 } }
	}
}

 # Event for Italy to accept Tripartite Pact
country_event = {
	id = germany.348
	title = germany.348.t
	desc = germany.348.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = germany.348.a ##accept
		ai_chance = {
			base = 10
		}
		event_target:GER_initiator = {
			give_guarantee = event_target:ITA_fascism
			give_guarantee = event_target:JAP_fascism
		}
		event_target:JAP_fascism = {
			give_guarantee = event_target:ITA_fascism
			give_guarantee = event_target:GER_initiator
		}
		event_target:ITA_fascism = {
			give_guarantee = event_target:GER_initiator
			give_guarantee = event_target:JAP_fascism
		}
		event_target:GER_initiator = { country_event = { id = germany.349 hours = 6 } }
		event_target:JAP_fascism = { country_event = { id = germany.351 hours = 6 } }
	}

	option = {
		name = germany.348.b ##refuse
		ai_chance = {
			base = 0
		}
		
		event_target:JAP_fascism = { country_event = { id = germany.350 hours = 6 } }
		event_target:GER_initiator = { country_event = { id = germany.350 hours = 6 } }
	}
}

 #Notification event that Tripartite Pact has been signed
country_event = {
	id = germany.349
	title = germany.349.t
	desc = germany.349.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = excellent
		ai_chance = {
			base = 10
		}
		effect_tooltip = {
			event_target:GER_initiator = {
				give_guarantee = event_target:ITA_fascism
				give_guarantee = event_target:JAP_fascism
			}
			event_target:JAP_fascism = {
				give_guarantee = event_target:ITA_fascism
				give_guarantee = event_target:GER_initiator
			}
			event_target:ITA_fascism = {
				give_guarantee = event_target:GER_initiator
				give_guarantee = event_target:JAP_fascism
			}
		}
		hidden_effect = {
			every_country = {
				limit = {
					is_literally_china = yes
				}
				event_target:ITA_fascism = {
					add_ai_strategy = {
						type = alliance
						id = PREV
						value = -500
					}
				}
				event_target:GER_initiator = {
					add_ai_strategy = {
						type = alliance
						id = PREV
						value = -500
					}
				}
			}
		}
	}
}

 #Notification event that FROM has rejected Tripartite Pact
country_event = {
	id = germany.350
	title = germany.350.t
	desc = germany.350.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = unfortunate
	}
}

 #Notification event for GER that ITA has accepted Tripartite Pact
country_event = {
	id = germany.351
	title = germany.351.t
	desc = germany.351.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = excellent
		effect_tooltip = {
			event_target:GER_initiator = {
				give_guarantee = event_target:ITA_fascism
				give_guarantee = event_target:JAP_fascism
			}
			event_target:JAP_fascism = {
				give_guarantee = event_target:ITA_fascism
				give_guarantee = event_target:GER_initiator
			}
			event_target:ITA_fascism = {
				give_guarantee = event_target:GER_initiator
				give_guarantee = event_target:JAP_fascism
			}
		}
	}
}

# tripartite_pact
# anti_comintern_pact nations are asked to join pact, agreeing = relations with GER and hit with SOV
country_event = {
	id = germany.6
	title = germany.6.t
	desc = germany.6.d
	picture = GFX_report_event_anti_comintern_pact
	
	is_triggered_only = yes
	
	option = {
		name = germany.6.a		#join
		remove_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		add_opinion_modifier = { target = GER modifier = tripartite_pact_opinion }
		remove_opinion_modifier = { target = SOV modifier = pact_against_us }
		add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
	}
	option = {
		name = germany.6.b		#refuse
		add_opinion_modifier = { target = GER modifier = refused_tripartite_pact_opinion }
	}
}
#molotov_ribbentrop_pact
# fire event to SOV to accept or not. adds claims
# SOV events sends reply to GER, adds claims if they said yes, hurts relations if they say no

# Molotov-Ribbentrop Pact (Soviets)
country_event = {
	id = germany.11
	title = germany.11.t
	desc = germany.11.d
	picture = GFX_report_event_mol_pact
	
	is_triggered_only = yes
	
	option = {
		name = germany.11.a	#sounds good
		ai_chance = { 
			factor = 90 
			modifier = {
				factor = 0
				GER = {
					OR = { 
						has_wargoal_against = SOV
						is_justifying_wargoal_against = SOV
					}
					NOT = {
						is_in_faction_with = SOV
					}
				}
			}
		}
		hidden_effect = {
			remove_opinion_modifier = { target = GER modifier = pact_against_us }
			remove_opinion_modifier = { target = GER modifier = worse_pact_against_us }
		}
		add_opinion_modifier = { target = GER modifier = MR_pact }# pact		
		custom_effect_tooltip = germany.11.a.tt
		add_state_claim = 96
		#add_state_claim = 722
		add_state_claim = 89
		add_state_claim = 91
		add_state_claim = 93
		add_state_claim = 94
		add_state_claim = 95
		add_state_claim = 97
		add_state_claim = 784
		hidden_effect =  {
			add_timed_idea = {
				idea = SOV_molotov_ribbentrop_pact days = 1000
			}
		}
		GER = {
			country_event = { days = 1 id = germany.12 }
			effect_tooltip = {
				add_opinion_modifier = { target = SOV modifier = MR_pact }# pact
			}
			hidden_effect = {
		    if = { limit = { SOV = { is_embargoed_by = GER } }
			    break_embargo = SOV
			}
		}
		}
		hidden_effect = {
		    if = { limit = { GER = { is_embargoed_by = SOV } }
			    break_embargo = GER
			}
		}
		set_global_flag = sov_yes_pact
		add_war_support = -0.05
	}
	
	option = {
		name = germany.11.b	#no way 
                trigger= {
		NOT = {
		has_game_rule = {
				rule = must_molotov
				option = block

			}
			}
			}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				GER = {
					NOT = { has_wargoal_against = SOV }
					NOT = { is_justifying_wargoal_against = SOV }
				}
			}
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		add_political_power = -50	
		add_opinion_modifier = { target = GER modifier = refused_MR_pact }# no pact 
		GER = {
			country_event = { days = 1 id = germany.13 }
		}
		set_global_flag = sov_no_pact
	}
}
# Soviets Sign MR Pact
country_event = {
	id = germany.12
	title = germany.12.t
	desc = germany.12.d
	picture = GFX_report_event_molotov_ribentrop_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.12.a	#neat
		every_other_country = {
			limit = {
				NOT = { tag = GER }
				has_government = fascism 
			}
			add_opinion_modifier = { target = GER modifier = MR_pact_fascists }
		}
		add_war_support = -0.05
		diplomatic_relation = { country = SOV relation = non_aggression_pact }
		add_opinion_modifier = { target = SOV modifier = MR_pact }# pact
		hidden_effect = {
			remove_opinion_modifier = { target = SOV modifier = pact_against_us }
			remove_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		
		if = { limit = { has_idea = anti_soviet_pact }
		GER = { 
			remove_ideas = anti_soviet_pact
		}
		JAP = {
			remove_ideas = anti_soviet_pact
		}
		GER = {
			remove_opinion_modifier = { target = JAP modifier = anti_comintern_pact_opinion }
		}
		JAP = {
			remove_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		}
		}
		
		hidden_effect = {
			country_event = { hours = 6 id = news.32 }
		}
	}
}
# Soviets Reject MR Pact
country_event = {
	id = germany.13
	title = germany.13.t
	desc = germany.13.d
	picture = GFX_report_event_sov_refuse_pact

	is_triggered_only = yes
	
	option = {
		name = germany.13.a	#bah
		add_stability = -0.05 # embarrased
		add_opinion_modifier = { target = SOV modifier = refused_MR_pact }# no pact
	}
}
# Poland conquered... honor MR Pact?
country_event = {
	id = germany.14
	title = germany.14.t
	desc = germany.14.d
	picture = GFX_report_event_ger_honors_pact
	
	fire_only_once = yes

	trigger = {
		tag = GER
		has_global_flag = sov_yes_pact
		SOV = { exists = yes }
		POL = { has_capitulated = yes }
		NOT =  { has_war_with = SOV }
	}
	
	option = {
		ai_chance = {
			base = 10
		}
		name = germany.14.a
		if = {
			limit = {
				10 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 10
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 10 }
		}
		if = {
			limit = {
				90 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 90
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 90 }
		}
		if = {
			limit = {
				85 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 85
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 85 }
		}
		if = {
			limit = {
				86 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 86
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 86 }
		}
		if = {
			limit = {
				762 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 762
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 762 }
		}
		if = {
			limit = {
				87 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 87
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 87 }
		}
		if = {
			limit = {
				88 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 88
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 88 }
		}
		if = {
			limit = {
				98 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 98
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 98 }
		}
		if = {
			limit = {
				92 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 92
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { set_state_controller = 92 }
		}
		if = {
			limit = {
				96 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 96
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 96 }
		}
		
		if = {
			limit = {
				95 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 95
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 95 }
		}
		if = {
			limit = {
				94 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 94
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 94 }
		}
		if = {
			limit = {
				93 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 93
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 93 }
		}
		if = {
			limit = {
				91 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 91
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 91 }
		}
		if = {
			limit = {
				97 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 97
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 97 }
		}
		if = {
			limit = {
				89 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 89
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 89 }
		}
		if = {
			limit = {
				784 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 784
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			if = {
				limit = {
					LIT = { exists = yes }
				}
				LIT = { transfer_state = 784 }
			else = {
				SOV = { transfer_state = 784 }
			}
			}
		}
		every_state = {
			limit = {
				is_core_of = POL
				is_controlled_by = SOV
			}
			GER = { set_state_controller = ROOT }
		}
		SOV = { remove_state_claim = 784 }
		SOV = { country_event = germany.15 }
		if = { limit = { TAN = { has_war_with = POL } }
			TAN = { white_peace = POL }
		}
		if = { limit = { SOV = { has_war_with = POL } }
			SOV = { white_peace = POL }
		}
		if = { limit = { MON = { has_war_with = POL } }
			MON = { white_peace = POL }
		}
	}
	option = {
		name = germany.14.b
                trigger= {
		NOT = {
		has_game_rule = {
				rule = must_molotov
				option = block

			}
			}
			}
		ai_chance = {
			base = 1
			modifier = {
				add = -1
			}
		}
		SOV = { country_event = germany.16 }
		clr_global_flag = sov_yes_pact
		diplomatic_relation = {
			country = SOV
			relation = non_aggression_pact
			active = no
		}
		SOV = {
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 97
			add_state_claim = 89
			add_state_claim = 784
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = GER
				}
			}
		}
	}
	
	option = {
	    name = germany.14.c      #### add transfer of some states to CZE (czech)
	    trigger = { CZE = { exists = yes } }
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				CZE = { exists = no }
			}
			modifier = {
				factor = 60
				is_in_faction_with = CZE
			}
			modifier = {
		     	factor = 60
				CZE = {
				     OR = {
				    	 has_government = communism
			     		 has_government = fascism
					 }
				}
			}
		}
		
		if = {
			limit = {
				96 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 96
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 96 }
		}
		if = {
			limit = {
				95 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 95
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 95 }
		}
		if = {
			limit = {
				94 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 94
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 94 }
		}
		if = {
			limit = {
				93 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 93
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 93 }
		}
		if = {
			limit = {
				91 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 91
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 91 }
		}
		if = {
			limit = {
				97 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 97
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 97 }
		}
		if = {
			limit = {
				89 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 89
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 89 }
		}
		if = {
			limit = {
				88 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 88
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			CZE = { transfer_state = 88 }
		}
		SOV = { country_event = germany.15 }
	}
}
# Germany honors MR Pact (Soviets)
country_event = {
	id = germany.15
	title = germany.15.t
	desc = germany.15.d
	picture = GFX_report_event_ger_honors_pact

	is_triggered_only = yes
	
	option = {
		name = germany.12.a
		add_war_support = -0.05
		hidden_effect = {
			country_event = { hours = 48 id = news.33 }
			country_event = { hours = 6 id = news.287 }
		}
	}
}

# Germany betrays MR Pact (Soviets)
country_event = {
	id = germany.16
	title = germany.16.t
	desc = germany.16.d
	picture = GFX_report_event_ger_breaks_pact

	is_triggered_only = yes
	
	option = {
	    ai_chance = {
			base = 2
		}
		name = germany.16.a
	}
	option = {
		name = germany.16.b
		ai_chance = {
			base = 2
			modifier = {
			      factor = 0
			      94 = {

					is_controlled_by = SOV
					}
			}
		}
		
		add_war_support = 0.1
		SOV = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 64 5 } 
			}
		}
	}
}

# Germany betrays MR Pact over Moldova (Soviets) 
country_event = {
	id = germany.17
	title = germany.17.t
	desc = germany.17.d
	picture = GFX_report_event_ger_breaks_pact

	is_triggered_only = yes
	
	option = {
	    ai_chance = {
			base = 2
		}
		send_embargo = GER
		name = germany.17.a
	}
	option = {
		name = germany.17.b
		ai_chance = {
			base = 2
			modifier = {
			      factor = 0
			      94 = {

					is_controlled_by = SOV
					}
			}
		}
		
		add_war_support = 0.1
		SOV = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 64 5 } 
			}
		}
	}
}

# Second Vienna Award
country_event = {
	id = germany.20
	title = germany.20.t
	desc = germany.20.d
	picture = GFX_report_event_vienna_award
	
	is_triggered_only = yes
	
	option = { # Give Hungary Northern Transylvania
		name = germany.20.a
		ai_chance = { factor = 80 }
		add_named_threat = { threat = 3 name = GER_second_vienna_award_HUN_north }
		HUN = {
			set_country_flag = GER_second_vienna_award_HUN_north
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_HUN_north } 
			HUN_croatia_decrease = yes
		}
		ROM = {
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_ROM_north }
			country_event = { id = romania.2 }
		}
	}
	option = { # Give Hungary all of Transylvania
		trigger = {
			ROM = {
				controls_state = 76
				controls_state = 83
				controls_state = 84
			}
		}
		name = germany.20.b
		ai_chance = { 
			factor = 10 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		add_named_threat = { threat = 6 name = GER_second_vienna_award_HUN_all } #Doubled threat given more revisionist
		HUN = { 
			set_country_flag = GER_second_vienna_award_HUN_all
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_HUN_all } 
			HUN_croatia_decrease = yes
		}
		ROM = {
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_ROM_all }
			country_event = { id = romania.3 }
		}
	}
	option = { # Give Hungary nothing
		name = germany.20.c
		ai_chance = { 
			factor = 10 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		ROM = {
			country_event = { id = romania.4 }
		}
		HUN = {
			set_country_flag = GER_second_vienna_award_noland
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_noland }
			country_event = { id = hungary.1 }
		}
	}
}

# Romania Rejects Decision!
country_event = {
	id = germany.21
	title = germany.21.t
	desc = germany.21.d
	picture = GFX_report_event_vienna_romania_rejects
	
	is_triggered_only = yes
	
	option = {
		name = germany.21.a
		create_wargoal = {
			type = take_state_focus
			target = ROM
			generator = { 76 }
		}
	}
}

# Claim Memel - Lithuania Folds
country_event = {
	id = germany.22
	title = germany.22.t
	desc = germany.22.d
	picture = GFX_report_event_german_troops_paris
	
	is_triggered_only = yes
	
	option = {
		name = germany.22.a
		GER = { 
			transfer_state = 188
		}
		hidden_effect = {
			country_event = { days = 1 id = news.19 }
			GER = {
			if = {
				limit = {
					is_ai = yes
				}	
				GER_add_ai_construction_q = yes
			}
            }
		}
	}
}

# Claim Memel - Lithuania Rejects Demand
country_event = {
	id = germany.23
	title = germany.23.t
	desc = germany.23.d
	picture = GFX_report_event_lithuania_army

	is_triggered_only = yes
	
	option = {
		name = germany.23.a
		create_wargoal = {
			type = take_state_focus
			target = LIT
			generator = { 188 }
		}
		hidden_effect = {
			country_event = { days = 1 id = news.20 }
			GER = {
			if = {
				limit = {
					is_ai = yes
				}	
				GER_add_ai_construction_q = yes
			}
            }			
		}
	}
}

# Japan Demands Withdrawal of Falkenhausen
country_event = {
	id = germany.24
	title = germany.24.t
	desc = germany.24.d
	picture = GFX_report_event_jap_diplo_ger

	is_triggered_only = yes
	
	option = { # Agree
		name = germany.24.a
		ai_chance = { 
		    factor = 100 
		    modifier = {
		      factor = 0
		      CHI = { has_government = fascism }
		    }
		}
		trigger = {
			NOT = { has_country_flag = GER_von_falkenhausen_promise_to_china }
		}
		JAP = {
			country_event = { days = 1 id = japan.8 }
		}
		hidden_effect = { 
			every_other_country = {
				limit = {
					has_character = CHI_alexander_von_falkenhausen
				}
				retire_character = CHI_alexander_von_falkenhausen
			}
		}
		CHI = {
			country_event = { days = 1 id = china.2 }
			effect_tooltip = {
				remove_ideas = german_advisors
				remove_ideas = german_chinese_trade_agreement_chi
			}
			hidden_effect = {
				set_country_flag = falkenhausen2
			}
		}
		remove_ideas = german_chinese_trade_agreement_ger
		add_stability = -0.01
	}
	option = { # Refuse
		name = germany.24.b
		ai_chance = { 
		    factor = 100 
		    modifier = {
		      factor = 0
		      NOT = { CHI = { has_government = fascism } }
		    }
		}
		trigger = {
			NOT = { has_country_flag = GER_von_falkenhausen_promise_to_china }
		}
		JAP = {
			country_event = { days = 1 id = japan.9 }
		}
		
	}

	option = { # Refuse, promised the Chinese in return for Tsingtao
		name = germany.24.c
		ai_chance = { 
		    factor = 100 
		    modifier = {
		      factor = 0
		      NOT = { CHI = { has_government = fascism } }
		    }
		}
		trigger = {
			has_country_flag = GER_von_falkenhausen_promise_to_china
		}
		JAP = {
			country_event = { days = 1 id = japan.9 }
		}
	}
}

# German - Chinese Relations Poor, Mission Recalled
country_event = {
	id = germany.25
	title = germany.25.t
	desc = germany.25.d
	picture = GFX_report_event_chinese_army_training

	fire_only_once = yes
	
	trigger = {
		tag = GER
		CHI = { has_idea = german_advisors }
		has_opinion = { target = CHI value < -20 }
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		CHI = { remove_ideas = german_advisors }
	}
	
	option = {
		name = germany.25.a
		CHI = {
			country_event = { id = china.3 }
		}
	}
}

# Germany at war with China, Advisors Detained
country_event = {
	id = germany.26
	title = germany.26.t
	desc = germany.26.d
	picture = GFX_report_event_china_at_war

	fire_only_once = yes
	
	trigger = {
		tag = GER
		CHI = { has_idea = german_advisors }
		has_war_with = CHI
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		CHI = { remove_ideas = german_advisors }
	}
	
	option = {
		name = germany.26.a
		CHI = {
			country_event = { id = china.4 }
		}
	}
}
# Fortifying the Westwall
country_event = {
	id = germany.27
	title = germany.27.t
	desc = germany.27.d
	picture = GFX_report_event_trenchger

	is_triggered_only = yes
	
	option = {
		name = germany.27.a
		50 = {	
			add_building_construction = {
				type = bunker
				province = 3530
				level = 3
			}
			add_building_construction = {
				type = bunker
				province = 11640
				level = 3
			}
			add_building_construction = {
				type = bunker
				province = 6542
				level = 3
			}
			add_building_construction = {
				type = bunker
				province = 6712
				level = 3
			}
		}
		42 = {	
			add_building_construction = {
				type = bunker
				province = 3558
				level = 3
			}		
			add_building_construction = {
				type = bunker
				province = 563
				level = 3
			}
			add_building_construction = {
				type = bunker
				province = 11531
				level = 3
			}
			add_building_construction = {
				type = bunker
				province = 9575
				level = 3
			}
		}
	}
}

# Austria asked about Anschluss
country_event = {
	id = germany.28
	title = germany.28.t
	desc = germany.28.d
	picture = GFX_report_event_austria_asks_anschluss
	
	is_triggered_only = yes
	
	option = { # Accept
		name = germany.28.a
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				GER = { has_army_size = { size < 45 } }
			}
			modifier = {
				add = 20
				GER = { has_army_size = { size > 50 } }
			}
			modifier = {
				add = 35
				GER = { has_army_size = { size > 60 } }
			}
			modifier = {
				add = 35
				GER = { has_army_size = { size > 70 } }
			}
			modifier = {
				add = 20
				is_in_faction_with = GER
			}
		}
		GER = {
			country_event = { hours = 2 id = germany.4 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = { # Refuse
		name = germany.28.b
		ai_chance = {
			base = 8 

			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				GER = { has_army_size = { size > 49 } }
				factor = 0.5
			}
			modifier = {
				add = 20
				GER = { has_army_size = { size < 35 } }
			}
			modifier = {
				add = 50
				HUN = { 
					is_in_faction_with = AUS
				}
			}
			modifier = {
				factor = 2
				is_in_faction = yes
				NOT = { is_in_faction_with = GER }
			}
			modifier = {
				any_other_country = {
					has_guaranteed = AUS
				}
				factor = 5
			}
		}
		GER = {
			add_opinion_modifier = { target = ROOT modifier = GER_anschluss_rejected }
			country_event = { hours = 2 id = germany.29 }
			if = { limit = { is_in_faction_with = AUS }
				remove_from_faction = AUS
			}
		}
	}
	
	option = {
		name = germany.28.c
		trigger = {
		HUN = {
		exists = yes
		has_completed_focus = HUN_invite_the_habsburg_prince
		}
		}
		
		ai_chance = {
			base = 10
			modifier = {
				add = 1
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			modifier = {
				add = 60
				HUN = { has_completed_focus = HUN_demand_a_referendum }
				GER = { is_ai = yes }			
			}
			modifier = {
				add = 100
				HUN = { is_ai = no }
				GER = { is_ai = yes }			
			}
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}

		}
		custom_effect_tooltip = GAME_OVER_TT
		HUN = { country_event = { id = DOD_hungary.4 } }
		news_event = { id = news.292 days = 1 }
	}
}

# Austria refuses Anschluss
country_event = {
	id = germany.29
	title = germany.29.t
	desc = germany.29.d
	picture = GFX_report_event_hitler_and_generals
	
	is_triggered_only = yes
	
	option = {
		name = germany.29.a
		add_state_claim = 4
		add_state_claim = 152
		add_state_claim = 153
		create_wargoal = {
			type = take_state_focus
			target = AUS
			generator = { 4 152 153 }
		}
	}
}

### Munich Conference

# Britain
country_event = {
	id = germany.40
	title = germany.40.t
	desc = {
		text = germany.40.d
		trigger = { NOT = { has_war_with = GER } }
	}
	desc = {
		text = germany.40.d_2
		trigger = { has_war_with = GER }
	}
	desc = {
		text = germany.40.d_3
		trigger = {
			NOT = { has_war_with = GER }
			tag = HOL
		}
	}
	picture = GFX_report_event_munich_conference
	
	is_triggered_only = yes
	
	option = { # Abandon the Czechs
		name = germany.40.a
		ai_chance = { 
			factor = 90 
			modifier = {
				factor = 0.3
				has_government = communism
				CZE = { has_government = communism }
			}
			modifier = {
				has_global_flag = GER_has_started_war
				NOT = { is_in_faction_with = GER }
				factor = 0
			}
		}
		trigger = { 
			NOT = { has_war_with = GER } 
			is_puppet = no # can't do anything if puppet
		}
		if = {
			limit = {
				tag = HOL
			}
			ENG = { country_event = germany.40 }
		}
		if = {
			limit = {
				tag = ENG
			}
			FRA = { country_event = germany.41 }
		}
		CZE = {
			add_opinion_modifier = { target = ENG modifier = western_betrayal }
		}
		if = {
			limit = {
				tag = HOL
				CZE = { is_guaranteed_by = HOL }
			}
			HOL = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "CZE"
					value = 100
				}
			}
		}
		if = {
			limit = {
				tag = ENG
				CZE = { is_guaranteed_by = ENG }
			}
			ENG = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "CZE"
					value = 100
				}
			}
		}
		if = {
			limit = {
				CZE = { is_in_faction_with = ROOT }
				is_faction_leader = yes
			}
			remove_from_faction = CZE
		}
		if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
			hidden_effect = {
				sound_effect = sp_eng_peaceinourtime
			}
		}
	}
	option = { # Support the Czechs
		name = germany.40.b	
		ai_chance = {
			factor = 1 # from 0, from 10
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 3
				has_government = communism
				CZE = { has_government = communism }
			}
		}
		if = {
			limit = {
				is_in_faction_with = GER
				is_faction_leader = yes
			}
			remove_from_faction = GER
		}
		if = {
			limit = {
				is_in_faction_with = GER
				is_faction_leader = no
			}
			GER = { remove_from_faction = ENG }
		}
		add_political_power = -200
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 }
				}
			}
		}
		if = {
			limit = { 
				is_in_faction = yes
				CZE = { is_in_faction = no } 
			}
			random_country = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = ROOT #this may in fact be ROOT, since countries are in a faction with themselves!
				}
				add_to_faction = CZE
			}
		}
		if = {
			limit = {
				tag = HOL
			}
			CZE = {
				add_ai_strategy = {
					type = alliance
					id = "HOL"
					value = 200
				}
			}
		}
		if = {
			limit = {
				tag = HOL
			}
			CZE = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		if = {
			limit = {
				NOT = { tag = HOL }
				FRA = { 
					NOT = { has_war_with = CZE } 
				} 
			}
			FRA = { country_event = germany.42 }
		}
		CZE = {
			add_opinion_modifier = { target = ROOT modifier = offered_support }
		}
	}
}

# France (Britain Backs Down)
country_event = {
	id = germany.41
	title = germany.40.t
	desc = germany.41.d
	picture = GFX_report_event_munich_conference

	is_triggered_only = yes
	
	option = { # Follow Britain's lead
		name = germany.41.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = CZE
			}
			modifier = {
				factor = 0.3
				has_government = communism
				CZE = { has_government = communism }
			}
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		CZE = { 
			country_event = germany.46
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				is_faction_leader = yes
			}
			if = {
				limit = {
					NOT = {
						any_other_country = { #check if CZE and FRA are the only countries in this faction
							NOT = { original_tag = CZE }
							is_in_faction_with = ROOT
						}
					}
				}
				dismantle_faction = yes 
			}
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				is_faction_leader = no
			}
			random_other_country = {
				limit = {
					is_in_faction_with = FRA
					is_faction_leader = yes
				}
				remove_from_faction = FRA
			}
		}
		if = {
			limit = {
				CZE = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "CZE"
					value = 100
				}
			}
		}
		if = {
			limit = {
				YUG = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = YUG
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "YUG"
					value = 100
				}
			}
			YUG = {
				add_opinion_modifier = { target = FRA modifier = western_betrayal }
			}
		}
	}
	option = { # Support the Czechs alone
		name = germany.41.b	
		trigger = { is_puppet = no }
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					is_in_faction_with = CZE
				}
			}
			modifier = {
				factor = 6
				has_government = communism
				CZE = { has_government = communism }
			}
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				has_completed_focus = FRA_strengthen_the_little_entente
			}
			add_political_power = -100
		}
		if = {
			limit = {
				OR = {
					NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
					NOT = { is_in_faction_with = CZE } 
				}
			}
			add_political_power = -200
		}
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		CZE = { 
			country_event = germany.45
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = germany.48
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 }
				}
			}
		}
		if = {
			limit = { is_in_faction_with = ENG }
			ENG = { 
				country_event = germany.43 
				if = {
					limit = {
						is_faction_leader = yes
					}
					remove_from_faction = FRA
					else = {
						FRA = { remove_from_faction = ENG }
					}
				}
			}
		}
		if = {
			limit = { is_in_faction_with = GER }
			if = {
				limit = { GER = { is_faction_leader = yes } }
				GER = { 
					remove_from_faction = FRA
				}
				else = {
					remove_from_faction = GER
				}
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = yes
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = GER }
				NOT = { is_in_faction_with = CZE }
				CZE = { is_in_faction = no }
			}
			add_to_faction = CZE
			CZE = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = {
				OR = {
					is_in_faction = no
					AND = {
						is_faction_leader = no
						is_in_faction_with = ENG
					}
					is_in_faction_with = GER
				}
				CZE = { is_in_faction = no }
			}
			create_faction = "french_alliance"
			set_rule = { can_create_factions = yes }
			add_to_faction = CZE
			CZE = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = {
				is_in_faction = no
				CZE = { 
					is_faction_leader = yes 
					has_completed_focus = CZE_an_entente_of_our_own
				}
			}
			CZE = { add_to_faction = FRA }
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "CZE"
					value = 200
				}
			}
		}
		if = {
			limit = { NOT = { has_completed_focus = FRA_strengthen_the_little_entente } }
			add_stability = 0.05
		}
	}
}

# France (Britain Supports the Czechs)
country_event = {
	id = germany.42
	title = germany.40.t
	desc = germany.42.d
	picture = GFX_report_event_munich_conference
	
	is_triggered_only = yes
	
	#Support
	option = {
		name = germany.42.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = CZE }
				NOT = { has_guaranteed = CZE }
			}
			give_guarantee = CZE
		}
		if = {
			limit = { 
				is_in_faction = no
			}
			ENG = { add_to_faction = FRA }
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				has_completed_focus = FRA_strengthen_the_little_entente
				is_faction_leader = yes
				NOT = { is_in_faction_with = ENG }
			}
			add_to_faction = ENG #Britain joins the little entente
			every_other_country = {
				limit = { is_subject_of = ENG }
				ROOT = { add_to_faction = PREV }
			}
		}
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		CZE = { 
			country_event = germany.44
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = germany.47
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 }
				}
			}
		}
	}

	#Abandon
	option = {
		name = germany.42.b
		trigger = {
			NOT = { is_in_faction_with = ENG }
			NOT = { is_in_faction_with = CZE }
		}
		ai_chance = { 
			factor = 10 
			modifier = {
				has_global_flag = GER_has_started_war
				NOT = { is_in_faction_with = GER } #FRA doesn't care if in faction
				factor = 0
			}
		}
		if = {
			limit = {
				CZE = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "CZE"
					value = 100
				}
			}
		}
		if = {
			limit = {
				YUG = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = YUG
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "YUG"
					value = 100
				}
			}
			YUG = {
				add_opinion_modifier = { target = FRA modifier = western_betrayal }
			}
		}
		CZE = {
			country_event = germany.44
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
		GER = {
			country_event = germany.47
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 }
				}
			}
		}		
	}
}

# France leaves the Allies
country_event = {
	id = germany.43
	title = germany.43.t
	desc = germany.43.d
	picture = GFX_report_event_hitler_petain
	
	is_triggered_only = yes
	
	option = {
		name = germany.43.a
		FRA = {
			add_opinion_modifier = { target = ENG modifier = abandoned_czechs }
			add_stability = -0.05
		}
	}
}

# Czechoslovakia (British and (possibly) French Support)
country_event = {
	id = germany.44
	title = germany.40.t
	desc = germany.44.d
	picture = GFX_report_event_munich_conference
	
	is_triggered_only = yes
	
	option = {
		name = germany.44.a
		effect_tooltip = {
			GER = {			
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 }
				}
			}
		}
	}
}

# Czechoslovakia (French Support)
country_event = {
	id = germany.45
	title = germany.40.t
	desc = germany.45.d
	picture = GFX_report_event_munich_conference
	
	is_triggered_only = yes
	
	option = {
		name = germany.45.a
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 }
				}
			}
		}
	}
}

# Czechoslovakia (Abandoned)
country_event = {
	id = germany.46
	title = germany.46.t
	desc = germany.46.d
	picture = GFX_report_event_peace_in_our_time
	
	is_triggered_only = yes
	
	option = { # Surrender the Sudetenland
		name = germany.46.a
		ai_chance = {
			factor = 90
			modifier = { # Decrease chance CZE resists if AUS isn't taken first
				AUS = { exists = yes }
				factor = 0.5
			}
			modifier = {
				is_guaranteed_by = POL
				factor = 0
			}
			modifier = {
				is_in_faction = yes
				factor = 0
			}
			modifier = { # If they stand a chance they will fight
				factor = 0
				strength_ratio = {
					tag = GER
					ratio > 0.75
				}
				NOT = {
					any_neighbor_country = {
						NOT = { tag = GER }
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 0
				is_puppet = yes
			}
			modifier = {
				factor = 0 #if you lead a faction, fight
				is_faction_leader = yes
			}
			modifier = {
				factor = 0.5 #if you are in a faction, maybe fight
				is_faction_leader = no
				is_in_faction = yes
			}
			modifier = {
				factor = 0.05 #if you are in a faction with a major, probably fight
				is_faction_leader = no
				is_in_faction = yes
				any_allied_country = {
					num_of_factories > 100
				}
			}
			modifier = {
				factor = 0
				is_puppet = yes
				NOT = { is_puppet_of = GER } #puppeted CZE wouldn't surrender Sudetenland otherwise
			}
			modifier = { # Increase it again if other bordering nations are in Axis
				any_neighbor_country = {
					NOT = { tag = GER }
					is_in_faction_with = GER
				}
				factor = 2.0
			}
		}
		GER = { country_event = germany.50 }
		CZE_divided_decrease = yes
	}
	option = { # Refuse anyway
		name = germany.46.b
		ai_chance = { 
			factor = 10 
			modifier = {
				factor = 0.5
				strength_ratio = {
					tag = GER
					ratio < 0.5
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		GER = {
			add_opinion_modifier = { target = ROOT modifier = GER_demand_sudetenland_rejected }
			set_global_flag = CZE_refused_sudetenland
			country_event = germany.49
			effect_tooltip = {
				if = {
					limit = {
						CZE = {
							is_in_faction_with = GER
						}
					}		
					GER = { remove_from_faction = CZE }
				}
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 74 }
				}
			}
		}
	}
}

# Germany (British and (possibly) French Support for Czechoslovakia)
country_event = {
	id = germany.47
	title = germany.40.t
	desc = germany.47.d
	picture = GFX_report_event_french_british_officers
	
	is_triggered_only = yes
	
	option = {
		name = germany.47.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 69 74 }
		}
		add_state_claim = 69
		add_state_claim = 74
		hidden_effect = {
			news_event = { hours = 6 id = news.57 }
		}
		set_country_flag = allies_support_czechs
	}
}

# Germany (French Support for Czechoslovakia)
country_event = {
	id = germany.48
	title = germany.40.t
	desc = germany.48.d
	picture = GFX_report_event_french_army_2
	
	is_triggered_only = yes
	
	option = {
		name = germany.48.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 69 74 }
		}
		add_state_claim = 69
		add_state_claim = 74
		hidden_effect = {
			country_event = { hours = 6 id = news.58 }
		}
	}
}

# Germany (Czechoslovakia Refuses Demands)
country_event = {
	id = germany.49
	title = germany.40.t
	desc = germany.49.d
	picture = GFX_report_event_czech_army
	
	is_triggered_only = yes
	
	option = {
		name = germany.49.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 69 74 }
		}
		add_state_claim = 69
		add_state_claim = 74
		if = {
			limit = {
				CZE = {
					is_in_faction_with = GER
				}
			}
			GER = { remove_from_faction = CZE }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.59 }
		}
	}
}

# Germany (Czechoslovakia Surrenders Sudetenland)
country_event = {
	id = germany.50
	title = germany.40.t
	desc = germany.50.d
	picture = GFX_report_event_panzers_sudetenland
	
	is_triggered_only = yes
	
	option = {
	
		name = germany.50.a
		69 = { add_core_of = GER }
		GER = { transfer_state = 69 }
		74 = { add_core_of = GER }
		GER = { transfer_state = 74 }
		set_country_flag = sudetenland_acquired
        add_war_support = 0.04
		add_stability = 0.02
		if = {
			limit = {
				88 = { is_owned_by = POL }
			}
			POL = { 
				country_event = { hours = 6 id = germany.52 }
			}
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.56 }
			if = {           ## Just  Flavour event, no harm enbabling it
				limit = {
					has_dlc = "Death or Dishonor"
					country_exists = YUG
					YUG = { has_war = no }
					ENG = { NOT = { has_war_with = YUG } }
				}
				ENG = {
					country_event = {
						id = DOD_yugoslavia.42
						days = 3
					}
				}
			}
		}
	}
}

# Hungary (First Vienna Award)
country_event = {
	id = germany.51
	title = germany.51.t
	desc = germany.51.d
	picture = GFX_report_event_hungarian_ambience
	
	is_triggered_only = yes
	
	option = {
		name = germany.51.a
		hidden_effect = {
			CZE = {
				CZE_divided_decrease = yes
			}
		}
		if = {
			limit = {
				HUN = { NOT = { controls_state = 664 } }
			}
			HUN_croatia_decrease = yes
		}
		HUN = { transfer_state = 664 }
	}
}

# Poland (Zaolzie)
country_event = {
	id = germany.52
	title = germany.52.t
	desc = germany.52.d
	picture = GFX_report_event_zaolzie
	
	is_triggered_only = yes
	
	option = {
		name = germany.52.a
		72 = { add_core_of = POL }
		POL = { transfer_state = 72 }
		hidden_effect = {
			news_event = {
				id = poland.86
				days = 1
			}
		}
	}
}

# Czechoslovakia (The Fate of Czechoslovakia)
country_event = {
	id = germany.53
	title = germany.53.t
	desc = germany.53.d
	picture = GFX_report_event_ger_in_prague
	
	is_triggered_only = yes
	
	option = { # Agree
		name = germany.53.a
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					is_in_faction_with = ENG
					is_in_faction_with = FRA
					is_in_faction_with = POL
					is_puppet = yes
					GER = {
						AND = {
							has_war_with = ENG
							has_war_with = FRA
						}
					}
					GER = {
						AND = {
							has_war_with = SOV
							OR = {
								has_war_with = ENG
								has_war_with = FRA
							}
						}
					}
					GER = {
						has_war_with = POL
					}
				}
			}
			modifier = {
				factor = 0.5
				GER = {
					OR = {
						AND = {
							has_war_with = ENG
							NOT = {
								has_war_with = FRA
							}
						}
						AND = {
							has_war_with = FRA
							NOT = {
								has_war_with = ENG
							}
						}
					}
				}
				POL = {
					has_guaranteed = CZE
				}
			}
		}
		GER = { country_event = germany.55 }
		GER = { country_event = { id = germany.235 days = 8 } }
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.1
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
			}
		}
		if = {
			limit = {
				has_DLC = "Death or Dishonor"
				country_exists = YUG
				YUG = { has_war = no }
			}
			#GER = {   ## enable this?
			#	country_event = {
			#		id = DOD_yugoslavia.32
			#		hours = 6
			#	}
			#}
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = { # Refuse
		name = germany.53.b
		ai_chance = {
			factor = 100
			modifier = {				
				factor = 0
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = FRA }
				is_puppet = no
				NOT = {
					GER = {
						has_war_with = ENG
						has_war_with = FRA
					}
				}
				NOT = {
					GER = {
						has_war_with = SOV
						OR = {
							has_war_with = ENG
							has_war_with = FRA
						}
					}
				}
			}
			modifier = {
				factor = 0.5
				GER = {
					OR = {
						AND = {
							has_war_with = ENG
							NOT = {
								has_war_with = FRA
							}
						}
						AND = {
							has_war_with = FRA
							NOT = {
								has_war_with = ENG
							}
						}
					}
				}
			}
		}
		GER = {
			country_event = { id = germany.54 days = 1 }
		}
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.05
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.05
			}
		}
	}
}

# The Czechs Resist
country_event = {
	id = germany.54
	title = germany.54.t
	desc = germany.54.d
	picture = GFX_report_event_czech_army
	
	is_triggered_only = yes
	
	option = {
		name = germany.54.a
		if = {
			limit = {
				75 = {
					is_owned_and_controlled_by = CZE
				}
			}
			add_state_claim = 75
		}
		if = {
			limit = {
				9 = {
					is_owned_and_controlled_by = CZE
				}
			}
			add_state_claim = 9
		}
		create_wargoal = {
			type = annex_everything
			target = CZE
		}
		hidden_effect = {
		    GER = {
			if = {
				limit = {
					is_ai = yes
				}	
				GER_add_ai_construction_q = yes
			}
            }
		}
	}
}

# The Fate of Czechoslovakia
country_event = {
	id = germany.55
	title = germany.53.t
	desc = {
		text = germany.55.d
		trigger = { has_global_flag = end_of_czechoslovakia }
	}
	desc = {
		text = germany.55.d_2
		trigger = { NOT = { has_global_flag = end_of_czechoslovakia } }
	}
	picture = GFX_report_event_ger_in_prague
	
	is_triggered_only = yes
	
	option = {
		name = germany.55.a
		ai_chance = { factor = 70 }
		
		if = {
			limit = {
				70 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 70 }
			70 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				71 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 71 }
			71 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				154 = { is_owned_by = HUN }
				HUN = {
					is_friend_or_potential_friend_of_GER = yes
				}
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				country_exists = HUN 
			}
			HUN = { transfer_state = 73 }
		}

		
		if = {
			limit = {
				NOT = { 154 = { is_owned_by = HUN } }
				HUN = { is_friend_or_potential_friend_of_GER = no }				
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 73 }
		}
		
		if = {
			limit = {
				664 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 664 }
		}
		if = {
			limit = { country_exists = CZE }
			SLO = {
				inherit_technology = CZE
			}
			annex_country = { target = CZE }
			#add_war_support = 0.05
		}
		puppet = SLO
        hidden_effect = {
		    every_state = {
			    limit = {
				    is_core_of = CZE
				    is_controlled_by = ROOT
			    }
			    set_compliance = 42
		    }
            9 = {
			    set_compliance = 53
		    }
        }
		if = {
			limit = {
				72 = {
					NOT = { is_owned_by = POL }
					}
				88 = { is_owned_by = POL }
				POL = { is_subject = no }
				
			}
			POL = { transfer_state = 72 } # Give Poland Zaolzie
		}
		else_if = { 
		    limit = {  
		        72 = {
					NOT = { is_owned_by = POL }
			    }
		    } 
	    	GER = { transfer_state = 72 } #If no Poland, then GER should grab 'Teschen'!!! Mainly Czechs & Poles, some German but in the past part of KUK.
   		}
		
		if = {
			limit = { has_global_flag = GER_HUN_CZE_split }
			HUN = { country_event = DOD_hungary.106 }
		}
		
		HUN = {
			country_event = {
				hours = 6
				id = hungary.7
			}
		}
		
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes

		hidden_effect = {
			news_event = { hours = 6 id = news.60 }
			every_state = {
				limit = {
					is_owned_by = SLO
				}
				add_core_of = SLO
			}
			SLO = {
				load_oob = SLO_1939
				unlock_national_focus = CZE_political_direction
        		unlock_national_focus = CZE_go_right
				unlock_national_focus = CZE_german_leanings
				unlock_national_focus = CZE_deliver_sudetenland
				unlock_national_focus = CZE_german_puppet
				add_ideas = {
            		CZE_divided_nation
             	}
				set_country_flag = CZE_AI_RANDOM_DEMOCRATIC
			}
		}
		
		hidden_effect = {
		    GER = {
			if = {
				limit = {
					is_ai = yes
				}	
				GER_add_ai_construction_q = yes
			}
            }
		}
		
		hidden_effect = { GER = { country_event = { id = germany.228 } } }
	}
	option = {
		name = germany.55.b
		add_political_power = -10
		
		ai_chance = { 
			factor = 20
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}
		}
		
		trigger = {
			664 = { is_owned_by = HUN }
			HUN = {
				is_friend_or_potential_friend_of_GER = yes
			}
			NOT = { has_global_flag = GER_HUN_CZE_split }
		}
		
		HUN = { country_event = germany.56 }
		#add_war_support = 0.1
		
		if = {
			limit = {
				72 = {
					NOT = { is_owned_by = POL }
				}
				88 = { is_owned_by = POL }
				POL = { is_subject = no }
				
			}
			POL = { transfer_state = 72 } # Give Poland Zaolzie
		}
		else = {
			GER = { transfer_state = 72 } #If no Poland, then GER should grab 'Teschen'!!! Mainly Czechs & Poles, some German but in the past part of KUK.
		}
		
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		
		hidden_effect = {
		    GER = {
			if = {
				limit = {
					is_ai = yes
				}	
				GER_add_ai_construction_q = yes
			}
            }
		}
	}
	
	option = {
		name = germany.55.c
		add_political_power = -25
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		if = {
			limit = {
				154 = { is_owned_by = HUN }
				HUN = {
					is_friend_or_potential_friend_of_GER = yes
				}
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				country_exists = HUN 
			}
			HUN = { transfer_state = 73 }
		}
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
			#add_war_support = 0.1
		}
        hidden_effect = {
		    every_state = {
			    limit = {
				    is_core_of = CZE
				    is_controlled_by = ROOT
			    }
			    set_compliance = 45
		    }
            9 = {
			    set_compliance = 57
		    }
        }
		hidden_effect = {
			news_event = { hours = 6 id = news.62 }
		}
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		
		hidden_effect = {
		    GER = {
			if = {
				limit = {
					is_ai = yes
				}	
				GER_add_ai_construction_q = yes
			}
            }
		}
		
		hidden_effect = { GER = { country_event = { id = germany.228 } } }
	}
}

# Hungary asked to partition Czechoslovakia
country_event = {
	id = germany.56
	title = germany.56.t
	desc = {
		text = germany.56.d
		trigger = { has_global_flag = end_of_czechoslovakia }
	}
	desc = {
		text = germany.56.d_2
		trigger = { NOT = { has_global_flag = end_of_czechoslovakia } }
	}
	picture = GFX_report_event_hungarian_ambience
	
	is_triggered_only = yes
	
	option = {
		name = germany.56.a
		ai_chance = { factor = 100 }
		transfer_state = 70
		transfer_state = 71
		transfer_state = 73
		hidden_effect = {
			GER = {
				annex_country = { target = CZE }
				add_to_faction = HUN	
		    every_state = {
			    limit = {
				    is_core_of = CZE
				    is_controlled_by = ROOT
			    }
			    set_compliance = 45
		    }
            9 = {
			    set_compliance = 57
		    }
            }			
			HUN = {
				add_ai_strategy = {
					type = alliance
					id = "GER"
					value = 200
				}
			}
			country_event = { hours = 6 id = news.61 }
		}
	}
	option = {
		name = germany.56.b
		ai_chance = { factor = 0 }
		trigger = {
			NOT = { is_puppet_of = GER }
		}
		GER = { 
			country_event = { hours = 6 id = germany.57 }
		}
	}
}

# Hungary refuses partition!
country_event = {
	id = germany.57
	title = germany.57.t
	desc = germany.57.d
	picture = GFX_report_event_hitler_and_hungary
	
	is_triggered_only = yes
	
	option = {
		name = germany.57.a
		add_political_power = -20
		ai_chance = { factor = 60 }
		if = {
			limit = {
				70 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 70 }
		}
		if = {
			limit = {
				71 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 71 }
		}
		if = {
			limit = {
				154 = { is_owned_by = HUN }
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			HUN = { transfer_state = 73 }
		}
		if = {
			limit = {
				NOT = { 154 = { is_owned_by = HUN } }
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 73 }
		}
		if = {
			limit = {
				664 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 664 }
		}
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
		}
		add_to_faction = SLO
		SLO = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		if = {
			limit = {
				72 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			POL = { transfer_state = 72 } # Give Poland Zaolzie
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.60 }
			GER = { country_event = { id = germany.228 } }
		}
	}
	option = {
		name = germany.57.b
		add_political_power = -40
		ai_chance = { factor = 40 }
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.62 }
			GER = { country_event = { id = germany.228 } }
		}
	}
}

# Polish Question Completed
country_event = {
	id = germany.58
	title = germany.58.t
	desc = germany.58.d
	picture = GFX_report_event_germany_reichstag
	
	is_triggered_only = yes
	
	option = {
		name = germany.58.a
		add_political_power = 150
	}

}

### Remilitarization of the Rhineland

# French Response
country_event = {
	id = germany.60
	title = germany.60.t
	desc = germany.60.d
	picture = GFX_report_event_rheinland
	
	is_triggered_only = yes
	
	option = { # This means war!
		name = germany.60.a
		ai_chance = { 
			factor = 0 
			modifier = {
				factor = 1
				strength_ratio = {
					tag = GER
					ratio < 0.7
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
		}
		trigger= {
		NOT = {
		has_game_rule = {
				rule = must_cede_rhine
				option = block

			}
			}
			}
		add_political_power = -150
		add_stability = -0.1
		if = {
			limit = {
				ENG = {
					is_puppet = no
					NOT = { has_war_with = FRA }
				}
			}
			ENG = {
				country_event = germany.61
				custom_effect_tooltip = needs_approval
				effect_tooltip = { add_to_faction = FRA }
			}
		}
		if = {
			limit = {
				has_idea = FRA_disjointed_government
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = { #you're not getting around that, comrade
			limit = {
				has_idea = FRA_disjointed_government
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}

	option = { # Diplomatic response
		name = germany.60.b
		ai_chance = { 
			factor = 99 
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		ENG = { country_event = germany.62 }
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.05
		}
	}
}

# British Response (French Press for War)
country_event = {
	id = germany.61
	title = germany.60.t
	desc = germany.61.d
	picture = GFX_report_event_rheinland
	
	is_triggered_only = yes
	
	option = { # War out of the question
		name = germany.61.a
		ai_chance = { 
			factor = 90 
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		FRA = { 
			country_event = { hours = 6 id = germany.63 }
		}
	}
	option = { # Support France
		name = germany.61.b
		ai_chance = { 
			factor = 0
			modifier = {
				factor = 1
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
			} 
		}
		add_political_power = -150
		add_stability = -0.2
		add_popularity = {
			ideology = communism
			popularity = 0.25
		}
		if = {
			limit = {
				FRA = { is_faction_leader = yes }
			}
			every_other_country = {
				limit = { is_in_faction_with = FRA NOT = { has_war_with = ENG } }
				ENG = { add_to_faction = PREV }
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		if = {
			limit = { FRA = { is_in_faction = no } }
			add_to_faction = FRA
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		FRA = { 
			country_event = { hours = 6 id = germany.64 }
		}
	}
}

# British Response (French Want Peace)
country_event = {
	id = germany.62
	title = germany.60.t
	desc = germany.62.d
	picture = GFX_report_event_rheinland
	
	is_triggered_only = yes
	
	option = {
		name = germany.62.a
		hidden_effect = {
			news_event = { hours = 6 id = news.25 }
		}
		add_opinion_modifier = { target = GER modifier = protest_action }
	}
}

# France (Britain Refuses Support)
country_event = {
	id = germany.63
	title = germany.63.t
	desc = germany.63.d
	picture = GFX_report_event_PM_chamberlain
	is_triggered_only = yes
	
	option = { # Push Ahead
		name = germany.63.a
		ai_chance = { 
			factor = 60
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 1.0
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
			modifier = {
				factor = 0
				has_idea = FRA_disjointed_government
			}			
		}		
		GER = { country_event = germany.66 }
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				has_government = communism
				}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}
	option = { # Back Down
		name = germany.63.b
		ai_chance = { factor = 40 }
		ENG = { country_event = germany.67 }
		add_opinion_modifier = { target = GER modifier = protest_action }
	}
}

# France (Britain Gives Support)
country_event = {
	id = germany.64
	title = germany.64.t
	desc = germany.64.d
	picture = GFX_report_event_british_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.64.a
		GER = { country_event = germany.65 }
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}
}

# Germany (France and Britain go to war)
country_event = {
	id = germany.65
	title = germany.65.t
	desc = germany.65.d
	picture = GFX_report_event_british_artillery
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio < 1
				}
				strength_ratio = {
					tag = ENG
					ratio < 1
				}
			}
		}
		name = germany.65.a
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 } 
			}
			country_event = germany.92
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.26 }
		}
	}
	option = {
		name = germany.65.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio > 1
				}
				strength_ratio = {
					tag = ENG
					ratio > 1
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.151 }
		}
		set_country_flag = GER_rhineland_backed_down
		42 = { set_demilitarized_zone = yes }
		51 = { set_demilitarized_zone = yes }
		add_timed_idea = {
			idea = rhineland_challenge_met
			days = 183
		}
	}
}

# Germany (France goes to war)
country_event = {
	id = germany.66
	title = germany.66.t
	desc = germany.66.d
	picture = GFX_report_event_degaulle_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.65.a
		add_war_support = 0.05 #original German clay
		ENG = { 
			country_event = germany.68 
			if = {
				limit = {
					ENG = { 
						is_in_faction_with = FRA 
						is_faction_leader = yes
					}
				}
				remove_from_faction = FRA
			}
		}
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 } 
			}
			country_event = germany.92
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.27 }
		}
	}

	option = {
		name = germany.65.b
		hidden_effect = {
			news_event = { hours = 6 id = news.152 }
		}
		set_country_flag = GER_rhineland_backed_down
		add_war_support = -0.1 #That was scary for a moment there!
		42 = { set_demilitarized_zone = yes }
		51 = { set_demilitarized_zone = yes }
		add_timed_idea = {
			idea = rhineland_challenge_met
			days = 183
		}
	}
}

# Britain (France Backs Down)
country_event = {
	id = germany.67
	title = germany.67.t
	desc = germany.67.d
	picture = GFX_report_event_soldiers_in_france
	
	is_triggered_only = yes
	
	option = {
		name = germany.67.a
		hidden_effect = {
			news_event = { hours = 6 id = news.25 }
		}
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.05
		}
	}
}

# Britain (France Goes Ahead Anyway)
country_event = {
	id = germany.68
	title = germany.68.t
	desc = germany.68.d
	picture = GFX_report_event_degaulle_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.68.a
	}
}

### Oster Conspiracy

# Conspiracy Begins!
country_event = {
	id = germany.70
	title = germany.70.t
	desc = germany.70.d
	picture = GFX_report_event_germans_in_sudetenland_1938
	
	fire_only_once = yes

	trigger = {
	    tag = GER
		has_country_flag = allies_support_czechs
	    has_country_leader = { character = GER_adolf_hitler ruling_only = yes }
		AND = {
			CZE = { has_capitulated = no }
			country_exists = CZE # Should only trigger if CZE hasn't fallen
		}
		has_war_with = CZE
		has_war_with = FRA
		has_war_with = ENG		
	}
	
	mean_time_to_happen = {
		days = 150
	}
	
	option = {
		name = germany.70.a
		add_stability = -0.15
		hidden_effect = {
			if = {
				limit = { NOT = { any_war_score < 39 } }
				random_list = {
					20 = { country_event = { hours = 6 id = germany.71 } } # Conspiracy defeated, but Hitler dead
					75 = { country_event = { hours = 6 id = germany.72 } } # Conspiracy defeated, Hitler survives
					5 = { country_event = { hours = 6 id = germany.73 } } # Conspiracy successful, Civil War
				}
			}
			if = {
				limit = { any_war_score < 39 }
				random_list = {
					33 = { country_event = { hours = 6 id = germany.71 } } # Conspiracy defeated, but Hitler dead
					33 = { country_event = { hours = 6 id = germany.72 } } # Conspiracy defeated, Hitler survives
					33 = { country_event = { hours = 6 id = germany.73 } } # Conspiracy successful, Civil War
				}
			}
		}
	}
}

# Conspiracy defeated, but Hitler is dead
country_event = {
	id = germany.71
	title = germany.71.t
	desc = germany.71.d
	picture = GFX_report_event_generic_funeral
	
	is_triggered_only = yes
	
	option = { # Himmler
		name = germany.71.a
		# Himmler becomes the new Fascist leader of Germany
		kill_country_leader = yes
		add_stability = -0.05
		create_country_leader = {
			name = "Heinrich Himmler"
			desc = "POLITICS_HEINRICH_HIMMLER_DESC"
			picture = "Portrait_Germany_Heinrich_Himmler.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.28 }
		}
	}
	option = { # Göring
		name = germany.71.b
		# Göring becomes the new Fascist leader of Germany
		kill_country_leader = yes
		add_stability = 0.05
		create_country_leader = {
			name = "Hermann Göring"
			desc = "POLITICS_HERMANN_GORING_DESC"
			picture = "Portrait_Germany_Hermann_Goring.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.29 }
		}
	}
}

# Conspiracy defeated, Hitler survives
country_event = {
	id = germany.72
	title = germany.72.t
	desc = germany.72.d
	picture = GFX_report_event_reichstag_hitler_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.72.a
		add_stability = 0.15
		hidden_effect = {
			news_event = { hours = 6 id = news.30 }
		}
	}
}

# Conspiracy successful, Civil War begins
country_event = {
	id = germany.73
	title = germany.73.t
	desc = germany.73.d
	picture = GFX_report_event_german_elite_troops_inspected
	
	is_triggered_only = yes
	
	option = { # Side with the Rebels
		name = germany.73.a
		trigger = { is_ai = no }
		set_country_flag = german_rebels
		kill_country_leader = yes
		create_country_leader = {
			name = "Heinrich Himmler"
			desc = "POLITICS_HEINRICH_HIMMLER_DESC"
			picture = "Portrait_Germany_Heinrich_Himmler.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		if = {
			limit =  {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = fascism
				size = 0.5
			}
		}
		if = {
			limit =  {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = fascism
				size = 0.7
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
	option = { # Side with Himmler
		name = germany.73.b
		# Himmler becomes the new Fascist leader of Germany
		kill_country_leader = yes
		create_country_leader = {
			name = "Heinrich Himmler"
			desc = "POLITICS_HEINRICH_HIMMLER_DESC"
			picture = "Portrait_Germany_Heinrich_Himmler.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		if = {
			limit =  {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit =  {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.3
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
	option = { # Side with Göring
		name = germany.73.c
		# Göring becomes the new Fascist leader of Germany
		kill_country_leader = yes
		create_country_leader = {
			name = "Hermann Göring"
			desc = "POLITICS_HERMANN_GORING_DESC"
			picture = "Portrait_Germany_Hermann_Goring.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		if = {
			limit =  {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit =  {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.3
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
}

# Anschluss Preparations
country_event = {
	id = germany.74
	title = germany.74.t
	desc = germany.74.d
	picture = GFX_report_event_reichstag_hitler_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.74.a
		#add_ideas = elyesa_bazna
	}
}

# German-Soviet Treaty (Soviets)
country_event = {
	id = germany.75
	title = germany.75.t
	desc = germany.75.d
	picture = GFX_report_event_german_soviet_research_agreement
	
	is_triggered_only = yes
	
	option = {
		name = germany.75.a	#sounds good
		GER = {
			country_event = { days = 1 id = germany.76 }
			add_opinion_modifier = {
				target = SOV
				modifier = sov_ger_treaty
			}
			add_opinion_modifier = {
				target = SOV
				modifier = sov_ger_treaty_trade
			}
		}
		# REVISIT Balance research bonus
		add_tech_bonus = {
			name = med_armor_bonus
			ahead_reduction = 0.5
			bonus = 0.5
			uses = 1
			category = cat_medium_armor
		}
		add_tech_bonus = {
			name = heavy_armor_bonus
			ahead_reduction = 0.5
			bonus = 0.5
			uses = 1
			category = cat_heavy_armor
		}
	}
	
	option = {
		name = germany.75.b	#no way 
		add_timed_idea = { idea = SOV_scientist_defect days = 365 }
		ai_chance = { factor = 0 }
		add_political_power = -10
		add_opinion_modifier = { target = GER modifier = refused_MR_pact }# no pact 
		GER = {
			country_event = { days = 1 id = germany.77 }
		}
	}
}

# Soviets Accept German-Soviet Treaty
country_event = {
	id = germany.76
	title = germany.76.t
	desc = germany.76.d
	picture = GFX_report_event_german_soviet_research_agreement

	is_triggered_only = yes
	
	option = {
		name = germany.76.a	#bah
		GER = {
		# REVISIT Balance research bonus
		add_tech_bonus = {
			name = med_armor_bonus
			ahead_reduction = 0.5
			bonus = 0.5
			uses = 1
			category = cat_medium_armor
		}
		add_tech_bonus = {
		    name = heavy_armor_bonus
		       ahead_reduction = 0.5
			bonus = 0.5
			uses = 1
			category = cat_heavy_armor
		}
		SOV = {
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty }
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty_trade }
		}
		}
	}
}

# Soviets Reject German-Soviet Treaty
country_event = {
	id = germany.77
	title = germany.77.t
	desc = germany.77.d
	picture = GFX_report_event_german_soviet_research_agreement

	is_triggered_only = yes
	
	option = {
		name = germany.77.a
		#add_opinion_modifier = { target = SOV modifier = refused_MR_pact }# no pact
	}
}

# German Joint Air Research
country_event = {
	id = germany.78
	title = germany.78.t
	desc = germany.78.d
	picture = GFX_report_event_he_280_jet_prototype

	is_triggered_only = yes
	
	option = {
		name = germany.78.a
		add_tech_bonus = {
		        name = radar_tech
				bonus = 0.5
				uses = 1
				category = air_doctrine
			}
	}
}
	
# Ultimatum from Germany (Turkey)
country_event = {
	id = germany.79
	title = germany.79.t
	desc = germany.79.d
	picture = GFX_report_event_german_turkish_pact

	is_triggered_only = yes
	
	option = {
		name = germany.79.a
		ai_chance = {
			factor = 70
			modifier = {
				NOT = { BUL = { is_in_faction_with = GER } }
				factor = 0.5
			}
			modifier = {
			        NOT = { FRA = { has_government = fascism } }
				NOT = { FRA = { has_capitulated = yes } }
				factor = 0.4
			}
			modifier = {
				USA = { has_war_with = GER }
				factor = 0.25
			}
			modifier = {
				SOV = { has_war_with = GER surrender_progress < 0.3 }
				factor = 0.3
			}
			modifier = {
				# xxx {  CONTROLLER = {  }  } cairo taken by axis
				factor = 2
			}
		}
		GER = { puppet = TUR }
		SOV = {
			transfer_state = 354
			transfer_state = 353
			transfer_state = 352
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.201 }
		}
	}
	
	option = {
		name = germany.79.b
		ai_chance = { 
			factor = 10 
			modifier = {
				GER = { surrender_progress > 0.25 }
				factor = 5 #seems safe
			}
			modifier = {
				has_government = democratic
				factor = 5
			}
		}
		trigger = {
			TUR = {
				is_puppet = no
			}
			NOT = {
				has_war_with = ENG
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = TUR
				}
			}
			ENG = {
				is_faction_leader = yes
			}
		}
		ENG = { add_to_faction = TUR }
		TUR = {
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.217 }
		}
	}
	
	option = {
		name = germany.79.c
		ai_chance = { 
			factor = 20 
			modifier = {
				NOT = {
					has_government = fascism
				}
				factor = 5
			}
			modifier = {
			
				AND = {
					ENG = { 
						has_capitulated = no 
						has_war_with = GER
					}
					SOV = { 
						has_capitulated = no 
						has_war_with = GER
					}
					USA = { 
						has_capitulated = no 
						has_war_with = GER
					}
				}
			
				factor = 5 #lol come at me bro
			}
		}
		GER = {
			create_wargoal = {
				target = TUR
				type = puppet_wargoal_focus
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.216 }
		}
	}
}

# Danzig for Slovakia (Poland)
country_event = {
	id = germany.80
	title = germany.80.t
	desc = germany.80.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes
	
	option = {
		name = germany.80.a
		
		ai_chance = {
			factor = 10	
		}

		GER = { country_event = { id = germany.81 days = 1 } }
		effect_tooltip = {
			if = {
				limit = { SLO = { exists = yes } }
				annex_country = { target = SLO }
			}
			if = {
				limit = { GER = { owns_state = 70 } }
				transfer_state = 70
			}
			if = {
				limit = { GER = { owns_state = 71 } }
				transfer_state = 71
			}
			if = {
				limit = { GER = { owns_state = 73 } }
				transfer_state = 73
			}
			if = {
				limit = { GER = { owns_state = 664 } }
				transfer_state = 664
			}
			GER = { transfer_state = 85 }
			if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = -0.07 #dodged a bullet there
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = -0.07 #dodged a bullet there
			}
		}
		}
	}
	
	option = {	
		name = germany.80.b
		ai_chance = { 
			factor = 1
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}			
		}		
		GER = {
		    
			country_event = { id = germany.82 days = 1 }
			if = {
				limit = { 
					is_in_faction_with = POL
					is_faction_leader = yes
				}
				remove_from_faction = POL
			}
			if = {
				limit = { 
					is_in_faction_with = POL
					is_faction_leader = no
				}
				random_other_country = {
					limit = { 
						is_in_faction_with = GER
						is_faction_leader = yes
					}
					remove_from_faction = GER
				}
			}				
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = POL
					generator = { 85 }
				}
			}
		}
	}
}

# Poland Accepts, Cedes Danzig
country_event = {
	id = germany.81
	title = germany.81.t
	desc = germany.81.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes
	
	option = {
		name = germany.81.a
		if = {
			limit = { SLO = { exists = yes } }
			POL = { annex_country = { target = SLO } }
		}
		if = {
			limit = { owns_state = 70 }
			POL = { transfer_state = 70 }
		}
		if = {
			limit = { owns_state = 71 }
			POL = { transfer_state = 71 }
		}
		if = {
			limit = { owns_state = 73 }
			POL = { transfer_state = 73 }
		}
		if = {
			limit = { owns_state = 664 }
			POL = { transfer_state = 664 }
		}
		transfer_state = 85

		hidden_effect = {
			news_event = { hours= 6 id = news.202 }
			set_global_flag = GER_acceptdanzig
		}
	}
}

# Poland Refuses to give up Danzig 
country_event = {
	id = germany.82
	title = germany.82.t
	desc = germany.82.d
	picture = GFX_report_event_german_squad_walking

	is_triggered_only = yes
	
	option = {
		name = germany.82.a
		hidden_effect = { set_country_flag = GER_refusedanzig 
		unlock_national_focus = GER_danzig_or_war
		}
		create_wargoal = {
			type = take_state_focus
			target = POL
			generator = { 85 }
		}
hidden_effect =  {
                 POL = {
			add_ai_strategy = {
				type = conquer
				id = "GER"
				value = 200
			}
		}}
	    if = {
			limit = {
			    NOT = { has_global_flag = sov_yes_pact }
			}
         
			effect_tooltip = {
			    SOV = {
				    send_embargo = GER
			    }
			}
		}
		
	}
}

# Anti-Soviet Pact
country_event = {
	id = germany.83
	title = germany.83.t
	desc = germany.83.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 10
		}
		name = germany.83.a		#join Japan
		trigger = { 
			FROM = { original_tag = GER }
			original_tag = JAP
		}
		GER = { 
			add_ideas = anti_soviet_pact
		}
		JAP = {
			add_ideas = anti_soviet_pact
		}
		GER = {
			add_opinion_modifier = { target = JAP modifier = anti_comintern_pact_opinion }
		}
		JAP = {
			add_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		}
		GER = {
			add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		JAP = {
			add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		SOV = {
			add_opinion_modifier = { target = JAP modifier = worse_pact_against_us }
		}
		SOV = {
			add_opinion_modifier = { target = GER modifier = worse_pact_against_us }
		}
	}
	
	option = {
		ai_chance = {
			factor = 10
		}
		name = germany.83.c		#join China
		trigger = { 
			FROM = { original_tag = GER }
			original_tag = CHI 
		}
		GER = { 
			add_ideas = anti_soviet_pact
		}
		CHI = {
			add_ideas = anti_soviet_pact
		}
		GER = {
			add_opinion_modifier = { target = CHI modifier = anti_comintern_pact_opinion }
		}
		CHI = {
			add_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		}
		GER = {
			add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		CHI = {
			add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		SOV = {
			add_opinion_modifier = { target = CHI modifier = worse_pact_against_us }
		}
		SOV = {
			add_opinion_modifier = { target = GER modifier = worse_pact_against_us }
		}
	}
	option = {
		ai_chance = {
			factor = 10
		}
		name = germany.83.f		#join Germany
		trigger = { 
			OR = {
			FROM = { original_tag = JAP }
			FROM = { original_tag = CHI }
			}
			original_tag = GER 
		}
		GER = { 
			add_ideas = anti_soviet_pact
		}
		ROOT = {
			add_ideas = anti_soviet_pact
		}
		GER = {
			add_opinion_modifier = { target = ROOT modifier = anti_comintern_pact_opinion }
		}
		ROOT = {
			add_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		}
		GER = {
			add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		ROOT = {
			add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		SOV = {
			add_opinion_modifier = { target = ROOT modifier = worse_pact_against_us }
		}
		SOV = {
			add_opinion_modifier = { target = GER modifier = worse_pact_against_us }
		}
	}
	
	option = {
		ai_chance = {
			factor = 10
		}
		name = germany.83.e		#join Italy
		trigger = { 
			FROM = { original_tag = GER }
			original_tag = ITA 
		}
		GER = { 
			add_ideas = anti_soviet_pact
		}
		ITA = {
			add_ideas = anti_soviet_pact
		}
		GER = {
			add_opinion_modifier = { target = ITA modifier = anti_comintern_pact_opinion }
		}
		ITA = {
			add_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		}
		GER = {
			add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		ITA = {
			add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
		}
		SOV = {
			add_opinion_modifier = { target = ITA modifier = worse_pact_against_us }
		}
		SOV = {
			add_opinion_modifier = { target = GER modifier = worse_pact_against_us }
		}
	}
	
	option = {
		name = germany.83.b		#refuse
		ai_chance = {
			factor = 2
		}
	}
}

# Call Pact Members to War (Instigator)
country_event = {
	id = germany.84
	title = germany.84.t
	desc = germany.84.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	#immediate = {
	#	remove_ideas = anti_soviet_pact
	#}

	option = {
		name = germany.84.a
		every_other_country = {
			limit = {
				has_idea = anti_soviet_pact
				NOT = { has_war_with = SOV }
				any_other_country = {
					has_idea = anti_soviet_pact
					has_war_with = SOV
				}
			}
			country_event = { id = germany.85 days = 1 }
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
					has_government = neutrality
				}
				country_event = { id = germany.127 days = 7 random_days = 7 }
			}
		}
	}
}

# [From.GetName] Calls Pact Members to War
country_event = {
	id = germany.85
	title = germany.85.t
	title = {
		text = germany.85.t.a
		trigger = {
			OR = {
				NOT = { FROM = { original_tag = POL } }
				NOT = { original_tag = GER }
				
			}
		}
	}
	title = {
		text = germany.85.t.b
		trigger = {
			FROM = { original_tag = POL }
			original_tag = GER
			
		}
	}
	desc = { 
		text = germany.85.desc.a
		trigger = {
			OR = {
				NOT = { FROM = { original_tag = POL } }
				NOT = { original_tag = GER }
				
			}
		}
	}
	desc = { 
		text = germany.85.desc.b
		trigger = {
			FROM = { original_tag = POL }
			original_tag = GER
			
		}
	}
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes
	
	#immediate = {
	#	remove_ideas = anti_soviet_pact
	#}
	
	option = {
		name = germany.85.a
		ai_chance = {
			factor = 10
		}
		add_to_war = {
			targeted_alliance = FROM
			enemy = SOV
			hostility_reason = ally
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
				}
				country_event = { id = germany.127 days = 7 random_days = 7 }
			}
		}
	}

	option = {
		name = germany.85.b
		trigger = {
			NOT = { FROM = { original_tag = POL } }
			NOT = { original_tag = GER }
			
		}
		ai_chance = {
			factor = 0
		}
		remove_ideas = anti_soviet_pact
		FROM = { add_opinion_modifier = { target = ROOT modifier = anti_soviet_pact_call_refused } }
		SOV = { remove_opinion_modifier = { target = SOV modifier = worse_pact_against_us } }
		add_timed_idea = {
			idea = anti_soviet_pact_refused_call
			days = 365 
		}
		custom_effect_tooltip = germany.85.b_tt
		hidden_effect = {
			country_event = { id = germany.112 days = 3 } 
		}
	}
}

# Danzig or War (Poland)
country_event = {
	id = germany.86
	title = germany.86.t
	desc = germany.86.d
	picture = GFX_report_event_german_soldier_deployment

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = GER }
	}
	
	option = {
		name = germany.86.a
		ai_chance = {
			factor = 12
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		trigger = { has_game_rule = { rule = FORCED_HISTROICAL option = DEFAULT } }
		GER = { country_event = { id = germany.87 days = 1 } }
		effect_tooltip = {
			GER = {
				transfer_state = 85
				remove_state_claim = 86
			}
		}
		country_event = { id = poland.1 days = 7 }
		hidden_effect = {
			news_event = { id = news.203 hours = 6 }
		}
	}
	
	option = {
		name = germany.86.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
			}
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 1.0
				}
			}
			modifier = {
				factor = 5
				any_other_country = {
					num_of_factories > 100
					is_in_faction_with = POL
				}
			}
		}
		GER = { country_event = { id = germany.88 days = 1 } 
			if = {
				limit = {
					is_in_faction_with = POL
					is_faction_leader = yes
				}
				remove_from_faction = POL
			}
			if = {
				limit = { 
					is_in_faction_with = POL
					is_faction_leader = no
				}
				random_other_country = {
					limit = { 
						is_in_faction_with = GER
						is_faction_leader = yes
					}
					remove_from_faction = GER
				}
			}			
		}		
		if = {
			limit = {
				has_guaranteed = LIT
				is_guaranteed_by = LIT
			}
			diplomatic_relation = {
				country = LIT
				relation = guarantee
				active = no
			}
			LIT = {
				diplomatic_relation = {
					country = POL
					relation = guarantee
					active = no
				}
			}
		}
		hidden_effect = {
		    GER = { set_country_flag = GER_refusedanzig }
			news_event = { hours = 1 id = news.204 }
		}
	}
}

# Poland Cedes Danzig (Danzig or War)
country_event = {
	id = germany.87
	title = germany.87.t
	desc = germany.87.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes
	
	option = {
		name = germany.87.a
		transfer_state = 85
		remove_state_claim = 86
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = -0.1 #dodged a bullet there
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = -0.1 #dodged a bullet there
			}
		}
		hidden_effect = {
			set_global_flag = GER_acceptdanzig
		}
	}
}

# Poland Refuses to Cede Danzig (Danzig or War)
country_event = {
	id = germany.88
	title = germany.88.t
	desc = germany.88.d
	picture = GFX_report_event_polish_tanks_02

	is_triggered_only = yes
	
	option = {
		name = germany.88.a
		add_political_power = -10
		unlock_decision_tooltip = GER_waronpoland
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.07 #just not cricket
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.07
			}
		}
		if = {
			limit = {
				CZE = {
					exists = yes
					is_subject = no
					has_government = democratic
					NOT = { is_in_faction_with = GER }
				}	
			}	
			CZE = {
				add_ai_strategy = {
					type = conquer
					id = "GER"			
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "POL"			
					value = 200
				}	
			}
		}
	}
}

#sov-ger unholy alliance 
country_event = {
	id = germany.89
	title = germany.89.t
	desc = germany.89.d
	picture = GFX_report_event_molotov_ribbentrop_pact

	is_triggered_only = yes
	
	option = {
		name = germany.89.a
		dismantle_faction = yes
		add_stability = -0.1
		every_other_country = {
			limit = {
				OR = {
					AND = {
						NOT = { tag = GER }
						has_government = fascism 
					}
					has_government = democratic 
				}
			}
			add_opinion_modifier = { target = SOV modifier = unholy_alliance }
		}
		GER = {
			if = {
					limit = {
						is_faction_leader = yes
					}
					dismantle_faction = yes
			}
			if = {
					limit = {
						is_in_faction  = yes
					}
					remove_from_faction = GER
			}
			add_stability = -0.2
			create_faction = "the_berlin_moscow_axis"
			add_to_faction = SOV
			add_named_threat = { threat = 5 name = germany.89.t }
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					has_government = fascism 
				}
				add_opinion_modifier = { target = GER modifier = communist_collaborators }
			}
			every_other_country = {
				limit = {
					has_government = democratic 
				}
				add_opinion_modifier = { target = GER modifier = unholy_alliance }
			}
		}
		hidden_effect = { 
			# Britain can rally democracies
			ENG = {
				country_event = { days = 3 id = britain.11 }
			}
			# US drops communism/fascism
			USA = {
				country_event = { id = usa.14 }
				country_event = { id = usa.24 }
			}
		}
	}
	
	option = {
		name = germany.89.b
		ai_chance = { factor = 0 }
		GER = {
			country_event = germany.90
			effect_tooltip = {
				remove_ideas = soviet_german_friendship
				create_wargoal = {
					type = take_state_focus
					target = SOV
					generator = { 219 217 } # Moscow and Stalingrad
				}
			}
		}
		remove_opinion_modifier = { target = GER modifier = ger_sov_alliance_focus }
		remove_ideas = soviet_german_friendship
	}
}

country_event = {
	id = germany.90
	title = germany.90.t
	desc = germany.90.d
	picture = GFX_report_event_stalin_02

	is_triggered_only = yes
	
	option = {
		name = germany.90.a
		remove_ideas = soviet_german_friendship
		create_wargoal = {
			type = take_state_focus
			target = SOV
			generator = { 219 217 } # Moscow and Stalingrad
		}
	}
}

# France national focus -  requests to join germany
country_event = {
	id = germany.91
	title = germany.91.t
	desc = germany.91.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes
		
	option = {
		name = germany.91.a
		GER = { add_to_faction = FRA }
		FRA = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.182 }
		}
	}
	option = {
		name = germany.91.b
		ai_chance = { factor = 0 }
		FRA = {
			add_opinion_modifier = {
				target = GER
				modifier = GER_FRA_join_germany_reject
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.183 }
		}
	}
}

# France/England (Germany Refuses Ultimatum)
country_event = {
	id = germany.92
	title = germany.92.t
	desc = germany.92.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = germany.92.a
	}
}

# Germany (British and (possibly) French Support for Yugoslavia)
country_event = {
	id = germany.93
	title = germany.93.t
	desc = {
		text = germany.93.d
		trigger = { NOT = { has_global_flag = FRA_abandoned_yugoslavia } }
	}
	desc = {
		text = germany.93.d_FRA_abandoned_yugoslavia
		trigger = { has_global_flag = FRA_abandoned_yugoslavia }
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.93.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 102 }
		}
		hidden_effect = {
			news_event = { id = news.164 hours = 6 }
		}
		set_country_flag = allies_support_yugoslavia
	}
}

# Germany (Yugoslavia Surrenders Slovenia)
country_event = {
	id = germany.94
	title = germany.94.t
	desc = germany.94.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.94.a
		GER = { transfer_state = 102 }
		set_country_flag = slovenia_acquired
		hidden_effect = {
			news_event = { id = news.163 hours = 6 }
		}
	}
}

# Germany (Yugoslavia Refuses)
country_event = {
	id = germany.95
	title = germany.95.t
	desc = germany.95.d
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.95.a
		if = {
			limit = {
				YUG = { owns_state = 102 }
			}
			create_wargoal = {
				type = take_state_focus
				target = YUG
				generator = { 102 }
			}
		}
		else = {
			create_wargoal = {
				type = take_state_focus
				target = SLV
				generator = { 102 }
			}
		}
		hidden_effect = {
			news_event = { id = news.166 hours = 6 }
		}
	}
}

# Germany (Italy protects Yugoslavia)
country_event = {
	id = germany.96
	title = germany.96.t
	desc = germany.96.d
	picture = GFX_report_event_fall_of_italy_il_duce
	
	is_triggered_only = yes
	
	option = {
		name = germany.96.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 102 }
		}		
		hidden_effect = {
			news_event = { id = news.167 hours = 6 }		
		}
	}
}

# Germany (France protects Yugoslavia)
country_event = {
	id = germany.97
	title = germany.97.t
	desc = germany.97.d
	picture = GFX_report_event_degaulle_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.97.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 102 }
		}
		hidden_effect = {
			news_event = { id = news.165 hours = 6 }
		}
	}
}

#Germany decides what to do with Croatia:

country_event = {
	id = germany.981
	title = germany.981.t
	desc = {
		text = germany.981.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	
	option = {
		name = germany.981.a   # setup croatia as german puppet
		ai_chance = { 
			factor = 25
		}
		set_state_controller = 103
		set_state_controller = 104
		set_state_controller = 109
		set_state_controller = 804
		activate_decision = GER_reichskommissariat_croatie
		if = { limit = { ITA = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT}  } }
			country_event = germany.982
			else = { country_event = germany.983 }
		}
		hidden_effect = {
			CRO = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 1500 producer = GER }
				add_equipment_to_stockpile = { type = infantry_uniforms  amount = 1500 producer = GER }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = GER }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = GER }
				104 = { add_compliance = 20 }
				804 = { add_compliance = 20 }
			}
		}
	}
	option = {
		name = germany.981.b   # setup croatie as italian puppet
		ai_chance = { 
			factor = 16
			modifier =  { 
				factor = 0 
				is_historical_focus_on = yes
			}
		}
		trigger = { ITA = { exists = yes NOT = { has_capitulated = yes }  }}
		ITA = {
			set_state_controller = 103
			set_state_controller = 104
			set_state_controller = 109
			set_state_controller = 804
			CRO = {
					transfer_state = 103
					transfer_state = 104
					transfer_state = 109
					transfer_state = 804
					#set_cosmetic_tag = CRO_reichskommissariat
				}
				set_autonomy = { target = CRO autonomy_state = autonomy_integrated_puppet }
			}
		country_event = germany.982
        ITA = { country_event = germany.9810 }
		hidden_effect = {
			CRO = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 1500 producer = GER }
				add_equipment_to_stockpile = { type = infantry_uniforms  amount = 1500 producer = GER }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = GER }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = GER }
				104 = { add_compliance = 20 }
				804 = { add_compliance = 20 }				
			}
		}		
	}
	option = {
		name = germany.981.c  # no puppet
		ai_chance = { 
			factor = 6
			modifier =  { 
				factor = 0 
				is_historical_focus_on = yes
			}
		}
		if = { limit = { ITA = { exists = yes NOT = { has_capitulated = yes }  } }
		country_event = germany.982
		else = { country_event = germany.983 }
		}
	}
}

#Event to inform Italy that they have been given a Croatian puppet:

country_event = {
	id = germany.9810
	title = germany.9810.t
	desc = {
		text = germany.9810.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9810.a   # setup croatie as italian puppet
		effect_tooltip = {
		ITA = {
			set_state_controller = 103
			set_state_controller = 104
			set_state_controller = 109
			set_state_controller = 804
			CRO = {
					transfer_state = 103
					transfer_state = 104
					transfer_state = 109
					transfer_state = 804
					#set_cosmetic_tag = CRO_reichskommissariat
				}
				set_autonomy = { target = CRO autonomy_state = autonomy_integrated_puppet }
			}
		}
	}

}

#Germany decides what to give to Italy:

country_event = {
	id = germany.982
	title = germany.982.t
	desc = {
		text = germany.982.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.982.a   # honor italian conquests
		ai_chance = { 
			factor = 25
			modifier =  { # historical mod, speeding up germany
				factor = 0 
				is_historical_focus_on = yes
			}
		}
		ITA = {
			transfer_state = 105
			set_state_controller = 802
		}
		if = { limit = { BUL = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG }  } }
		country_event = germany.983
		else = { country_event = germany.984 }
		}
		ITA = { country_event = germany.9820 }
	}
	option = {
		name = germany.982.b   # give minimum demands
		ai_chance = { 
			factor = 15
		}
		ITA = {   
			transfer_state = 105
			if = { limit = { ITA = { has_war = no } }
				transfer_state = 802
			}
			set_state_controller = 802
			set_state_controller = 813
		}
		if = { limit = { ALB = { is_puppet_of = ITA } }
			ALB = {
				set_state_controller = 802
				set_state_controller = 813
			}
		}
		if = { limit = {  102 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  804 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  803 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  104 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  106 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  45 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 45 } }
		if = { limit = { BUL = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG }  } }
		country_event = germany.983
		else = { country_event = germany.984 }
		}
		ITA = { country_event = germany.9821 }
	}
	option = {
		name = germany.982.c   # no, give to us
		ai_chance = { 
			factor = 10
			modifier =  { # historical mod, speeding up germany
				factor = 0 
				is_historical_focus_on = yes
			}
		}		
		if = { limit = {  102 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { or = { is_controlled_by = ITA is_controlled_by = ALB }} }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  45 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 45 } }
		
		if = { limit = {  804 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  803 = { or = { is_controlled_by = ITA is_controlled_by = ALB } } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  802 = { is_controlled_by = ITA } }
		GER = {	set_state_controller = 802 } }
		if = { limit = { BUL = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG } } }
		country_event = germany.983
		else = { country_event = germany.984 }
		}
		ITA = { country_event = germany.9822 }
		
	}
}

#Events to inform Italy about what Germany decided:

country_event = {
	id = germany.9820
	title = germany.9820.t
	desc = {
		text = germany.9820.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9820.a   # Germany lets Italy keep everything it conquered
	}
}

country_event = {
	id = germany.9821
	title = germany.9821.t
	desc = {
		text = germany.9821.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9821.a   # Germany gave only Montenegro to Italy
	}
}

country_event = {
	id = germany.9822
	title = germany.9822.t
	desc = {
		text = germany.9822.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9822.a   # Germany gave nothing to Italy
	}
}

#Germany decides what to give to Bulgaria:

country_event = {
	id = germany.983
	title = germany.983.t
	desc = {
		text = germany.983.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	trigger = { }
	
	option = {
		name = germany.983.a   # honor bulgarian demands
		trigger = { BUL = { exists = yes NOT = { has_capitulated = yes }  }}
		ai_chance = { 
			factor = 25
		}
		BUL = {
			transfer_state = 106
			transfer_state = 803
		}
		if = { limit = { HUN = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG }  } }
		country_event = germany.985
		}
		BUL = { country_event = germany.9830 }
		GRE = { country_event = greece.12 }
	}
	option = {
		name = germany.983.b   # give minimum demands
		trigger = { BUL = { exists = yes NOT = { has_capitulated = yes }  }}
		BUL = {
		    if = { limit = { BUL = { has_war = no } }
			    transfer_state = 106 
				transfer_state = 803
			}
			set_state_controller = 106
			set_state_controller = 803
		}
		if = { limit = {  102 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  45 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 45 } }
		
		if = { limit = {  107 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  804 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  802 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = { GRE = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG }  } }
	    	country_event = germany.984
		}
		else_if = { limit = { HUN = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG }  } } 
	    	country_event = germany.985
   		}
		BUL = { country_event = germany.9831 }
	}
	option = {
		name = germany.983.c   # no, give to us
		ai_chance = { 
			factor = 15
			modifier =  { # historical mod, speeding up germany
				factor = 0 
				is_historical_focus_on = yes
			}
		}
		if = { limit = {  102 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  45 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 45 } }
		
		if = { limit = {  804 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  803 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  802 = { is_controlled_by = BUL } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = { GRE = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG }  } }
	    	country_event = germany.984
		}
		else_if = { limit = { HUN = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG }  } } 
	    	country_event = germany.985
   		}
		BUL = { country_event = germany.9832 }
	}
}

#Events to inform Bulgaria on what Germany decided:

country_event = {
	id = germany.9830
	title = germany.9830.t
	desc = {
		text = germany.9830.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9830.a   # Germany lets Bulgaria keep everything it conquered
	}
}

country_event = {
	id = germany.9831
	title = germany.9831.t
	desc = {
		text = germany.9831.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9831.a   # Germany gave only Macedonia to Bulgaria
	}
}

country_event = {
	id = germany.9832
	title = germany.9832.t
	desc = {
		text = germany.9832.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9832.a   # Germany gave nothing to Bulgaria
	}
}

#Germany decides what to give to Greece, if Macedonia was not given to Bulgaria:

country_event = {
	id = germany.984
	title = germany.984.t
	desc = {
		text = germany.984.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	trigger = {  }
	
	option = {
		name = germany.984.a   # honor Greek demands
		ai_chance = { 
			factor = 25
			modifier =  { # historical mod, speeding up germany
				factor = 0 
				is_historical_focus_on = yes
			}
		}
		trigger = { GRE = { exists = yes NOT = { has_capitulated = yes } } }
		GRE = {
			transfer_state = 106
		}
		if = { limit = { HUN = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG } } }
		country_event = germany.988
		else = {  }
		}
		GRE = { country_event = germany.9840 }
	}
	option = {
		name = germany.984.b   # give minimum demands
		ai_chance = { 
			factor = 15
			modifier =  { # historical mod, speeding up germany
				factor = 0 
				
				OR = {
				NOT = { is_in_faction_with = GRE }
				NOT = { GRE = {has_government = fascism } }
				}
			}
			
		}
		trigger = { GRE = { exists = yes NOT = { has_capitulated = yes } }}
		GRE = {
		    if = { limit = { GRE = { has_war = no } }
			    transfer_state = 106 
			}
			set_state_controller = 106		
		}
		if = { limit = {  102 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  45 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 45 } }
		
		if = { limit = {  107 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  802 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = {  803 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  804 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = { HUN = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG } } }
		country_event = germany.985
		else = { }
		}
		GRE = { country_event = germany.9841 }
	}
	option = {
		name = germany.984.c   # no, give to us
		
		if = { limit = {  102 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  45 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 45 } }
		
		if = { limit = {  802 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = {  803 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  804 = { is_controlled_by = GRE } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = { HUN = { exists = yes NOT = { has_capitulated = yes } NOT = { has_war_with = ROOT} NOT = { is_in_faction_with = ENG } } }
		country_event = germany.985
		else = {  }
		}
		GRE = { country_event = germany.9842 }
	}
}

#Events informing Greece on what Germany decided:

country_event = {
	id = germany.9840
	title = germany.9840.t
	desc = {
		text = germany.9840.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9840.a   # Germany lets Greece keep everything it conquered
	}
}

country_event = {
	id = germany.9841
	title = germany.9841.t
	desc = {
		text = germany.9841.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9841.a   # Germany gave only Macedonia to Greece
	}
}

country_event = {
	id = germany.9842
	title = germany.9842.t
	desc = {
		text = germany.9842.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9842.a   # Germany gave nothing to Greece
	}
}

#Germany decides what to give to Hungary:

country_event = {
	id = germany.985
	title = germany.985.t
	desc = {
		text = germany.985.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.985.a   # honor hungarian demands
		trigger = { HUN = { exists = yes NOT = { has_capitulated = yes }  }}
		HUN = {
			transfer_state = 45
		}
		HUN = { country_event = germany.9850 }
		# todo, inform country that lost 45 if not germany
	}
	option = {
		name = germany.985.b   # give minimum demands
		trigger = { HUN = { exists = yes NOT = { has_capitulated = yes }  }}
		if = { limit = {  102 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  802 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = {  803 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  804 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  813 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 813 } }
		
		HUN = {
			set_state_controller = 45
		}
		HUN = { country_event = germany.9851 }
	}
	option = {
		name = germany.985.c   # no, give to us
		if = { limit = {  102 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  45 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 45 } }
		
		if = { limit = {  802 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = {  803 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  804 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  813 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 813 } }
		
		HUN = { country_event = germany.9852 }
	}
	
	option = {
		name = germany.985.e   # no, give to us
		if = { limit = {  102 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  45 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 45 } }
		
		if = { limit = {  802 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = {  803 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  804 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  813 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 813 } }
		
		
		if = { limit = {  102 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE is_controlled_by = CRO } } } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE is_controlled_by = CRO } } } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE is_controlled_by = CRO } } } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  45 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 45 } }
		
		if = { limit = {  802 = { NOT = { OR = { is_controlled_by = ALB is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = {  803 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  804 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  813 = { NOT = { OR = { is_controlled_by = ALB is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 813 } }
		
		HUN = { country_event = germany.9852 }
	}
	
	option = {
		name = germany.985.f   # no, give to us (give them vojvodina)
		if = { limit = {  102 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  802 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = {  803 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  804 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  813 = { is_controlled_by = HUN } }
		GER = {	set_state_controller = 813 } }
		
		
		if = { limit = {  102 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 102 } }
		
		if = { limit = {  103 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE is_controlled_by = CRO } } } }
		GER = {	set_state_controller = 103 } }
		
		if = { limit = {  104 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE is_controlled_by = CRO } } } }
		GER = {	set_state_controller = 104 } }
		
		if = { limit = {  105 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 105 } }
		
		if = { limit = {  106 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 106 } }
		
		if = { limit = {  107 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 107 } }
		
		if = { limit = {  108 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 108 } }
		
		if = { limit = {  109 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE is_controlled_by = CRO } } } }
		GER = {	set_state_controller = 109 } }
		
		if = { limit = {  764 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 764 } }
		
		if = { limit = {  802 = { NOT = { OR = { is_controlled_by = ALB is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 802 } }
		
		if = { limit = {  803 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 803 } }
		
		if = { limit = {  804 = { NOT = { OR = { is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 804 } }
		
		if = { limit = {  813 = { NOT = { OR = { is_controlled_by = ALB is_controlled_by = BUL is_controlled_by = ITA is_controlled_by = GRE } } } }
		GER = {	set_state_controller = 813 } }
		
		HUN = {
			set_state_controller = 45
		}
		HUN = { country_event = germany.9851 }		
	}
}

#Events informing Hungary on what Germany decided:

country_event = {
	id = germany.9850
	title = germany.9850.t
	desc = {
		text = germany.9850.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9850.a   # Germany lets Hungary keep everything it conquered
	}
}

country_event = {
	id = germany.9851
	title = germany.9851.t
	desc = {
		text = germany.9851.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9851.a   # Germany gave only Vojvodina to Hungary
	}
}

country_event = {
	id = germany.9852
	title = germany.9852.t
	desc = {
		text = germany.9852.d
	}
	picture = GFX_report_event_yugoslavian_split
	
	is_triggered_only = yes
	

	option = {
		name = germany.9852.a   # Germany gave nothing to Hungary
	}
}

#Event for the peaceful annexation of Yugoslavia:

country_event = {
	id = germany.98
	title = germany.98.t
	desc = {
		text = germany.98.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.98.a
		ai_chance = { factor = 20 }

		YUG = { country_event = yugoslavia.7 }
		custom_effect_tooltip = germany.98_tt
		effect_tooltip = {
			add_political_power = -75
			add_named_threat = { threat = 5 name = GER_fate_of_yugoslavia }
			annex_country = { target = YUG transfer_troops = no }
		}
		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
	}

	option = {
		name = germany.98.b
		ai_chance = { factor = 75 }

		trigger = {
			YUG = { 
				OR = { 
					owns_state = 103
					owns_state = 104
					owns_state = 109
					owns_state = 804
				} 
			} 
		}

		YUG = { country_event = yugoslavia.8 }
		custom_effect_tooltip = germany.98_tt
		effect_tooltip = {
			add_political_power = -25
			add_named_threat = { threat = 3 name = GER_fate_of_yugoslavia }
			CRO = {
				if = {
					limit = { YUG = { owns_state = 103 } }
					transfer_state = 103
				}
				if = {
					limit = { YUG = { owns_state = 104 } }
					transfer_state = 104
				}
				if = {
					limit = { YUG = { owns_state = 109 } }
					transfer_state = 109
				}
                if = {
					limit = { YUG = { owns_state = 804 } }
					transfer_state = 804
				}				
			}
			puppet = CRO
			annex_country = { target = YUG transfer_troops = no }
		}
		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes

	}

	option = {
		name = germany.98.c
		ai_chance = { factor = 5 }

		YUG = { country_event = yugoslavia.9 }
		custom_effect_tooltip = germany.98_tt
		effect_tooltip = {
			add_named_threat = { threat = 2 name = GER_fate_of_yugoslavia }
			
			CRO = {
				if = {
					limit = { YUG = { owns_state = 103 } }
					transfer_state = 103
				}
				if = {
					limit = { YUG = { owns_state = 104 } }
					transfer_state = 104
				}
				if = {
					limit = { YUG = { owns_state = 109 } }
					transfer_state = 109
				}	
                if = {
					limit = { YUG = { owns_state = 804 } }
					transfer_state = 804
				}				
			}
			puppet = CRO
			puppet = YUG
			hidden_effect = {
				set_global_flag = GER_fate_of_yugoslavia_puppet_CRO_YUG
				news_event = { hours = 6 id = news.169 }
			}
		}
		

		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
	}
}

# Germany: Carve up Greece - Give land to Italy?
country_event = {
	id = germany.99
	title = germany.99.t
	desc = germany.99.d

	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes

	option = {
		ai_chance = { factor = 5 }
		name = germany.99.a

		ITA = { add_opinion_modifier = { target = GER modifier = GER_second_ljubljana_award_GER } }

		if = {
			limit = {
				GRE = { owns_state = 185 }
			}
			set_global_flag = GER_second_ljubljana_award_ITA_185
		}
		if = {
			limit = {
				GRE = { owns_state = 186 }
			}
			set_global_flag = GER_second_ljubljana_award_ITA_186
		}
		if = {
			limit = {
				GRE = { owns_state = 47 }
			}
			set_global_flag = GER_second_ljubljana_award_ITA_47
		}
		if = {
			limit = {
				OR = {
					has_global_flag = GER_second_ljubljana_award_BUL_done
					NOT = { has_global_flag = GER_second_ljubljana_award_BUL_event }			
				}
			}
			custom_effect_tooltip = germany.101_tt
			GRE = { country_event = { id = greece.2 hours = 2 } }
		}
		set_global_flag = GER_second_ljubljana_award_ITA_done
	}

		#Don't give them anything
	option = {
		ai_chance = { factor = 0 }
		name = germany.99.b
		ITA = { add_opinion_modifier = { target = GER modifier = GER_second_ljubljana_award_noland } }
		set_global_flag = GER_second_ljubljana_award_ITA_done
	}
}

# Germany: Carve up Greece - Give land to Bulgaria?
country_event = {
	id = germany.100
	title = germany.100.t
	desc = germany.100.d

	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes

	option = {
		ai_chance = { factor = 5 }
		name = germany.100.a

		set_global_flag = GER_second_ljubljana_award_BUL_184
		BUL = { add_opinion_modifier = { target = GER modifier = GER_second_ljubljana_award_GER } }

		if = {
			limit = {
				OR = {
					has_global_flag = GER_second_ljubljana_award_ITA_done
					NOT = { has_global_flag = GER_second_ljubljana_award_ITA_event }		
				}
			}
			custom_effect_tooltip = germany.101_tt
			GRE = { country_event = { id = greece.2 hours = 2 } }
		}
		set_global_flag = GER_second_ljubljana_award_BUL_done
	}

		#Don't give them anything
	option = {
		name = germany.100.b
		ai_chance = { factor = 0 }
		BUL = { add_opinion_modifier = { target = GER modifier = GER_second_ljubljana_award_noland } }		
		set_global_flag = GER_second_ljubljana_award_BUL_done
	}
}

# Germany: Carve up Greece - Take land for Germany?
country_event = {
	id = germany.101
	title = germany.101.t
	desc = germany.101.d

	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				731 = {
					any_neighbor_state = { is_owned_by = GER }
					is_owned_by = GRE
				}
			}
			set_global_flag = GER_second_ljubljana_award_GER_731
		}
		if = {
			limit = {
				185 = {
					any_neighbor_state = { is_owned_by = GER }
					is_owned_by = GRE
				}
			}
			set_global_flag = GER_second_ljubljana_award_GER_185
		}
		if = {
			limit = {
				47 = {
					any_neighbor_state = { is_owned_by = GER }
					is_owned_by = GRE
				}
			}
			set_global_flag = GER_second_ljubljana_award_GER_47
		}
	}

	option = {
		name = germany.101.a
		GRE = { country_event = { id = greece.2 hours = 2 } }
		custom_effect_tooltip = germany.101_tt
		effect_tooltip = {
			if = {
				limit = { 
					has_global_flag = GER_second_ljubljana_award_GER_731
				}
				GER = { transfer_state = 731 }
			}
			if = {
				limit = { 
					has_global_flag = GER_second_ljubljana_award_GER_185
					NOT = { has_global_flag = GER_second_ljubljana_award_GER_731 }
				}
				GER = { transfer_state = 185 }
			}
			if = {
				limit = { 
					has_global_flag = GER_second_ljubljana_award_GER_47
					NOT = { has_global_flag = GER_second_ljubljana_award_GER_731 }
					NOT = { has_global_flag = GER_second_ljubljana_award_GER_185 }
				}
				GER = { transfer_state = 47 }
			}
		}
	}

	option = {
		name = germany.101.b
	}
}

# Germany: Greece refuses - Generate wargoal
country_event = {
	id = germany.102
	title = germany.102.t
	desc = germany.102.d

	picture = GFX_report_event_german_bicycle_group
	
	is_triggered_only = yes

	option = {
		name = germany.102.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GRE		
		}
		hidden_effect = {
			news_event = { id = news.229 hours = 6 }
		}
	}
}

# Germany: Greece refuses puppet request - Generate wargoal
country_event = {
	id = germany.103
	title = germany.103.t
	desc = germany.103.d

	picture = GFX_report_event_german_bicycle_group
	
	is_triggered_only = yes

	option = {
		name = germany.103.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GRE		
		}
	}
}

# Germany: Italy demands lands in Vichy France
country_event = {
	id = germany.104
	title = germany.104.t
	desc = { text = germany.104.d_Savoy 					trigger = { has_global_flag = ITA_claims_on_france_735 } }
	desc = { text = germany.104.d_Corsica 				trigger = { has_global_flag = ITA_claims_on_france_1 } }
	desc = { text = germany.104.d_Savoy_Corsica 	trigger = { has_global_flag = ITA_claims_on_france_735 has_global_flag = ITA_claims_on_france_1 } }
 
 
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes

	# Italy gets 1 state Savoy
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.a
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}

		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}
		ITA = { country_event = { id = italy.16 hours = 2 } }
	}

	# Italy gets 1 state Corsica
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.b
		trigger = {
			NOT = { has_global_flag = ITA_claims_on_france_735 }
			has_global_flag = ITA_claims_on_france_1
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}		
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets Savoy
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.c
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			NOT = { has_global_flag = ITA_claims_on_france_1 }
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}				
		ITA = { country_event = { id = italy.15 hours = 2 } }		
	}

	# Italy gets Savoy and Corsica
	option = {
		ai_chance = { factor = 20 }
		name = germany.104.e
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}				
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets nothing 
	option = {
		ai_chance = { factor = 10 }
		name = germany.104.f
		ITA = { country_event = { id = italy.14 hours = 2 } }
	}
}


# Germany: Italy leaves faction
country_event = {
	id = germany.105
	title = germany.105.t
	desc = germany.105.d
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes
	
	option = { 
		name = germany.105.a		
	}
}

# Germany: Treaty Of Craiova
country_event = {
	id = germany.106
	title = germany.106.t
	desc = { text = germany.106.d_second_vienna_accepted_all trigger = { ROM = { has_country_flag = second_vienna_accepted_all } } }
	desc = { text = germany.106.d_second_vienna_accepted_north trigger = { ROM = { has_country_flag = second_vienna_accepted_north } } }
	desc = {
		text = germany.106.d_no_vienna
		trigger = {
			ROM = {
				NOT = { has_country_flag = second_vienna_accepted_all }
				NOT = { has_country_flag = second_vienna_accepted_north }
			}
		}
	}
	picture = GFX_report_event_vienna_award_hungary
	
	is_triggered_only = yes
	
	option = { # Give Bulgaria state 77
		name = germany.106.a
		ai_chance = { factor = 95 
			modifier = {
				factor = 0
				BUL = {
					is_in_faction = yes
					NOT = { is_in_faction_with = GER }
				}
			}
		}
		add_named_threat = { threat = 2 name = germany.106_threat }
		BUL = {
			add_opinion_modifier = { target = GER modifier = GER_treaty_of_craiova_GER }

			every_other_country = {
				limit = { 
					is_faction_leader = yes 
					NOT = { tag = GER }
				}				
				reverse_add_opinion_modifier = { target = BUL modifier = GER_treaty_of_craiova_other }
			}
		}
		ROM = {
			country_event = { id = romania.5 hours = 3 }
		}
	}
	option = { # Give Bulgaria nothing
		name = germany.106.b
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					BUL = {
						is_in_faction = yes
						NOT = { is_in_faction_with = GER }
					}
				}
			}
		}
		BUL = {
			add_opinion_modifier = { target = GER modifier = GER_treaty_of_craiova_noland }
			country_event = { id = bulgaria.5 hours = 4 }
		}
	}
}

# Flight of Rudolf No Hindenburg 
country_event = {
	id = germany.107
	title = germany.107.t
	desc = germany.107.d
	picture = GFX_report_event_airplane_crash
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		hidden_effect = { add_popularity = { ideology = fascism popularity = -0.04 } }
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.107.a
		effect_tooltip = { add_popularity = { ideology = fascism popularity = -0.04 } }
	}
}

# Rudolf Hess killed No Hindenburg
country_event = {
	id = germany.108
	title = germany.108.t
	desc = germany.108.d
	picture = GFX_report_event_airplane_crash
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		hidden_effect = { add_popularity = { ideology = fascism popularity = -0.04 } }
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.108.a
		effect_tooltip = { add_popularity = { ideology = fascism popularity = -0.04 } }
	}
}

# Flight of Rudolf Hess (Hindenburg)
country_event = {
	id = germany.109
	title = germany.107.t
	desc = germany.109.d
	picture = GFX_report_event_hindenburg_flames
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		hidden_effect = { add_popularity = { ideology = fascism popularity = -0.04 } }
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.108.a
		effect_tooltip = { add_popularity = { ideology = fascism popularity = -0.04 } }
	}
}

# Rudolf Hess Killed (Hindenburg)
country_event = {
	id = germany.110
	title = germany.108.t
	desc = germany.110.d
	picture = GFX_report_event_hindenburg_flames
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		hidden_effect = { add_popularity = { ideology = fascism popularity = -0.04 } }
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.110.a
		effect_tooltip = { add_popularity = { ideology = fascism popularity = -0.04 } }
	}
}

# Yugoslavia refuses
country_event = {
	id = germany.111
	title = germany.111.t
	desc = germany.111.d
	picture = GFX_report_event_reichstag_hitler_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.111.a
		create_wargoal = {
			type = annex_everything
			target = YUG
		}
	}
}

# (Hidden)
country_event = {
	id = germany.112
	
	is_triggered_only = yes

	hidden = yes
	
	immediate = {
		every_other_country = {
			limit = { has_idea = anti_soviet_pact }
			add_opinion_modifier = { target = FROM modifier = anti_soviet_pact_call_refused }
		}
	}
}


# Danzig or War (Polish Civil War)
country_event = {
	id = germany.113
	title = germany.113.t
	desc = germany.113.d
	picture = GFX_report_event_germans_in_a_halftrack

	is_triggered_only = yes

	#Demand Danzig for aid
	option = {
		name = germany.113.a
		set_country_flag = GER_POL_danzig_promised
		GER = {
			country_event = { id = germany.117 days = 1 }
		}
	}
}

#Germany expects Danzig after war
country_event = {
	id = germany.114
	title = germany.114.t
	desc = germany.114.d
	picture = GFX_report_event_germans_in_a_halftrack

	trigger = {
		has_country_flag = GER_POL_danzig_promised
		has_civil_war = no
		owns_state = 85
		controls_state = 85
	}

	fire_only_once = yes

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		hidden_effect = {
			clr_country_flag = GER_POL_danzig_promised
		}
	}

	option = {
		name = germany.114.a
		ai_chance = {
			base = 1
		}
		GER = {
			country_event = { id = germany.115 days = 1 }
		}
	}

	option = {
		name = germany.114.b
		trigger = {
			NOT = {
				is_in_faction_with = GER
			}
		}
		ai_chance = {
			base = 0
		}
		GER = {
			country_event = { id = germany.116 days = 1 }
			effect_tooltip = {
				declare_war_on = {
					target = POL
					type = take_state
					generator = { 85 }
				}
			}
		}
	}
}

#Poland cedes Danzig as repayment
country_event = {
	id = germany.115
	title = germany.115.t
	desc = germany.115.d
	picture = GFX_report_event_germans_in_a_halftrack

	is_triggered_only = yes

	option = {
		name = germany.115.a
		transfer_state = 85
		remove_state_claim = 86
	}
}


# Poland Refuses to Cede Danzig (Polish Civil War)
country_event = {
	id = germany.116
	title = germany.116.t
	desc = germany.116.d
	picture = GFX_report_event_germans_in_a_halftrack

	is_triggered_only = yes
	
	option = {
		name = germany.116.a
		ai_chance = {
			base = 1
		}
		declare_war_on = {
			target = POL
			type = take_state
			generator = { 85 }
		}
	}

	option = {
		name = germany.116.b
		ai_chance = {
			base = 0
		}
	}
}


# The Promise of Danzig (Polish Civil War)
country_event = {
	id = germany.117
	title = germany.117.t
	desc = germany.117.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	# This is a German struggle
	option = {
		name = germany.117.a
	}
}


#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.122
	title = germany.122.t
	desc = germany.122.d
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

	option = {
		name = germany.122.a
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				is_in_faction_with = GER
				is_subject = no
			}
			remove_from_faction = CZE #kicked from faction
		}
		effect_tooltip = {
			GER = {
				add_state_claim = 69
				add_state_claim = 74
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 74 }
				}
			}
		}
		hidden_effect = {
			GER = {
				country_event = { id = germany.123 days = 1 }
			}
		}
	}

	option = {
		name = germany.122.b
		ai_chance = {
			factor = 0
		}
		effect_tooltip = {
			GER = {
				transfer_state = 69
				transfer_state = 74
			}
		}
		hidden_effect = {
			GER = {
				country_event = {
					id = germany.124 days = 1
				}
			}
		}
	}
}


#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.123
	title = germany.123.t
	desc = germany.123.d
	picture = GFX_report_event_czech_soldiers_02
	
	is_triggered_only = yes

	option = {
		name = germany.123.a
		add_state_claim = 69
		add_state_claim = 74
		if = {
			limit = {
				CZE = { is_subject_of = FROM }
				FROM = {
					is_in_faction_with = GER
					is_faction_leader = no
				}
			}
			remove_from_faction = CZE
			remove_from_faction = FROM
		}
		69 = {
			controller = {
				GER = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = { 69 74 }
					}
				}
			}
		}
	}
}


#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.124
	title = germany.124.t
	desc = germany.124.d
	picture = GFX_report_event_german_reichstag_gathering

	is_triggered_only = yes

	option = {
		name = germany.124.a
		add_state_core = 69
		transfer_state = 69
		add_state_core = 74
		transfer_state = 74
	}
}
#Event if Austria has a civil war
country_event = {
	id = germany.126
	title = germany.126.t
	desc = germany.126.d
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

	option = {
		name = germany.126.a
		ai_chance = {
			base = 1
			modifier = {
				add = 1
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}

		}
		random_other_country = {
			limit = {
				original_tag = AUS
				NOT = { tag = ROOT }
			}
			FROM = {
				add_to_war = {
					targeted_alliance = ROOT
					enemy = PREV
					hostility_reason = war
				}
				annex_country = { target = ROOT transfer_troops = yes }
				hidden_effect = { news_event = { id = news.237 } }
			}

		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = {
		name = germany.126.b
		ai_chance = {
			base = 0
		}

		every_other_country = {
			limit = {
				OR = {
					tag = AUS
					original_tag = AUS
				}

			}
			FROM = {
				create_wargoal = {
					target = PREV
					type = annex_everything
				}

			}

		}
	}
}

# Anti-Soviet Pact, ask Germany to create faction or invite to faction
country_event = {
	id = germany.127
	title = germany.127.t
	desc = germany.127.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Create faction (if none) and send requests to join faction (members leave other faction)
	option = {
		name = germany.127.a
		every_other_country = {
			limit = {
				has_idea = anti_soviet_pact
				has_war_with = SOV
			}
			country_event = { id = germany.128 days = 1 }
		}
		if = {
			limit = {
				is_in_faction = no
			}
			create_faction = "anti_soviet_pact"
		}
	}

	# No ty
	option = {
		name = germany.127.b
		ai_chance = {
			base = 0
		}
	}
}

# Anti-Soviet Pact, Germany asks country to join faction
country_event = {
	id = germany.128
	title = germany.128.t
	desc = germany.128.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Join faction (if none) and send requests to join faction (members leave other faction)
	option = {
		name = germany.128.a
		trigger = {
			is_in_faction = no
		}
		ai_chance = {
			base = 10
		}
		GER = { add_to_faction = ROOT }
	}

	# No ty
	option = {
		name = germany.128.b
		ai_chance = {
			base = 0
		}
	}
}

# Forming West Germany
country_event = {
	id = germany.200
	title = germany.200.t
	desc = germany.200.desc
	picture = GFX_report_event_german_reichstag_gathering

	fire_only_once = yes


	mean_time_to_happen = {
		days = 10
	}

	trigger = {
		has_global_flag = yalta_agreed_flag
		has_government = democratic
		has_war = no # Don't do this while we are still at war
		SOV = {
			has_government = communism
		}
		IF = {
			# If the GER tag is democratic, use this, otherwise go random
			limit = {
				GER = {
					is_subject = yes 
					has_government = democratic
				}
			}
			any_subject_country = {
				tag = GER
				has_government = democratic 
			}
		}
		ELSE = {
			any_subject_country = {
				original_tag = GER
				has_government = democratic 
			}
		}
			
	}

	option = { #Let's do it
		name = germany.200.a
		ai_chance = {
			base = 100
		}
		add_stability = 0.1
		add_political_power = 100
		add_ideas = GER_western_trade_cooperation

		random_subject_country = {
			limit = {
				original_tag = GER
				has_government = democratic 
			}
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
			add_ideas = GER_western_trade_cooperation
			IF = {
				limit = {
					ROOT = { is_faction_leader = yes }
				}
				ROOT = { add_to_faction = PREV }
			}
			set_cosmetic_tag = WGR
			every_other_country = {
				limit = {
					any_subject_country = {
						original_tag = GER
						has_government = democratic 
					}
					NOT = { tag = ROOT }
				}
				country_event = {
					id = germany.201
					hours = 4
					random_hours = 12
				}

			}
			
		}
		# Check if last german democratic puppet
		IF = {
			limit = {
				NOT = {
					any_country = {
						original_tag = GER 
						has_government = democratic
						is_subject = yes 
						exists = yes 
					}
				}
				SOV = {
					any_subject_country = {
						original_tag = GER 
					}
				}
			}
			SOV = {
				country_event = {
					id = germany.202
					days = 14 # Yeah, I know it was way longer in real life, but it makes more sense this way from a game p.o.v
					random_days = 20
				}
			}
		}
			
		
	}

	option = { #Nah, let's not 
		name = germany.200.b
		ai_chance = {
			base = 0
		}
		
	}

}

# This is happening
country_event = {
	id = germany.201
	title = germany.201.t
	desc = germany.201.desc
	picture = GFX_report_event_german_reichstag_gathering
	is_triggered_only = yes 

	trigger = {
		has_global_flag = yalta_agreed_flag
		has_government = democratic
		any_subject_country = {
			original_tag = GER
			has_government = democratic 
		}
	}

	option = { #Let's do it
		name = germany.201.a
		ai_chance = {
			base = 100
		}
		add_stability = 0.1
		add_political_power = 100
		add_ideas = GER_western_trade_cooperation
		random_subject_country= {
			limit = {
				original_tag = GER
				has_government = democratic 
			}
			random_country = {
				limit = {
					original_tag = GER
					has_government = democratic
					is_subject = no 
					has_cosmetic_tag = WGR
				}
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		IF = {
			limit = {
				NOT = {
					any_country = {
						original_tag = GER 
						has_government = democratic
						is_subject = yes 
						exists = yes 
					}
				}
				SOV = {
					any_subject_country = {
						original_tag = GER 
					}
				}
			}
			SOV = {
				country_event = {
					id = germany.202
					days = 14 # Yeah, I know it was way longer in real life, but it makes more sense this way from a game p.o.v
					random_days = 20
				}
			}
			log = "triggered event to SOV"
		}
		
	}

	option = { #Nah, let's not 
		name = germany.201.b
		ai_chance = {
			base = 0
		}
		add_political_power = -150
		
	}

}

# German Reunification - for Soviet
country_event = {
	id = germany.202
	title = germany.202.t
	desc = germany.202.desc
	picture = GFX_report_event_german_reichstag_gathering
	is_triggered_only = yes 

	trigger = {
		has_global_flag = yalta_agreed_flag
		any_subject_country = {
			original_tag = GER
		}
	}

	option = { #Let's create our own Germany
		name = germany.202.a
		ai_chance = {
			base = 100
		}
		random_subject_country = {
			limit = {
				original_tag = GER
			}
			ROOT = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
			IF = {
				limit = { has_government = communism }
				set_cosmetic_tag = DDR
			}
		}
		
	}

	option = { #We don't care 
		name = germany.202.b
		ai_chance = {
			base = 10
		}
		random_subject_country= {
			limit = {
				original_tag = GER
			}
			random_country = {
				limit = {
					original_tag = GER
					has_government = democratic
					is_subject = no 
					has_cosmetic_tag = WGR
				}
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		
	}

}

#Order Aufstellunfswelle 1
country_event = {
	id = germany.222
	title = germany.222.t
	desc = germany.222.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.222.a
	}
}
# 1 Welle Inf.-Div. => 25., 26., 33., 34. Infanterie-Division
country_event = {
	id = germany.223
	title = germany.223.t
	desc = germany.223.d
	picture = GFX_report_event_GER_InfDiv_I

	is_triggered_only = yes
	
	option = {
		name = germany.223.a
		hidden_effect = {
		if = { limit = { is_ai = no }
		division_template = {
	name = "Infanterie-Division I"

	division_names_group = GER_Inf_01

	regiments = {
		infantry = { x = 0 y = 0 }
		infantry = { x = 0 y = 1 }
		infantry = { x = 0 y = 2 }
		
		infantry = { x = 1 y = 0 }
		infantry = { x = 1 y = 1 }
		infantry = { x = 1 y = 2 }
		
      	infantry = { x = 2 y = 0 }
		infantry = { x = 2 y = 1 }

		artillery_brigade = { x = 3 y = 0 }
		artillery_brigade = { x = 3 y = 1 }
		anti_tank_brigade =  { x = 3 y = 2 }		
		artillery_medium = { x = 3 y = 3 }
	}
	
	support = {
		DIV_HQ = { x = 0 y = 0 }
		engineer = { x = 0 y = 1 }
		recon = { x = 0 y = 2 }
		maintenance_company = { x = 1 y = 0 }
		logistics_company = { x = 1 y = 1 }
		field_hospital = { x = 1 y = 2 }
	}
}
load_oob = "GER_InfDiv_Welle1_apr36"
		}
			
		}
	}
}
# 1 Welle Inf.-Div. => 27., 28., 29., 30. Infanterie-Division
country_event = {
	id = germany.224
	title = germany.224.t
	desc = germany.224.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	option = {
		name = germany.224.a
		hidden_effect = {
		if = { limit = { is_ai = no }
		division_template = {
	name = "Infanterie-Division II"

	division_names_group = GER_Inf_01

	regiments = {
		infantry = { x = 0 y = 0 }
		infantry = { x = 0 y = 1 }
		infantry = { x = 0 y = 2 }
		
		infantry = { x = 1 y = 0 }
		infantry = { x = 1 y = 1 }
		infantry = { x = 1 y = 2 }
		
      	infantry = { x = 2 y = 0 }
		infantry = { x = 2 y = 1 }

		artillery_brigade = { x = 3 y = 0 }
		artillery_brigade = { x = 3 y = 1 }
		anti_tank_brigade =  { x = 3 y = 2 }		
		artillery_medium = { x = 3 y = 3 }
	}
	
	support = {
		DIV_HQ = { x = 0 y = 0 }
		engineer = { x = 0 y = 1 }
		recon = { x = 0 y = 2 }
		maintenance_company = { x = 1 y = 0 }
		logistics_company = { x = 1 y = 1 }
		field_hospital = { x = 1 y = 2 }
	}
}
load_oob = "GER_InfDiv_Welle1_oct36"
		}
			
		}
	}
}
# 1 Welle Inf.-Div. => 31., 32., 35., 37. Infanterie-Division
country_event = {
	id = germany.225
	title = germany.225.t
	desc = germany.225.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	option = {
		name = germany.225.a
		hidden_effect = {
		if = { limit = { is_ai = no }
		division_template = {
	name = "Infanterie-Division III"

	division_names_group = GER_Inf_01

	regiments = {
		infantry = { x = 0 y = 0 }
		infantry = { x = 0 y = 1 }
		infantry = { x = 0 y = 2 }
		
		infantry = { x = 1 y = 0 }
		infantry = { x = 1 y = 1 }
		infantry = { x = 1 y = 2 }
		
      	infantry = { x = 2 y = 0 }
		infantry = { x = 2 y = 1 }

		artillery_brigade = { x = 3 y = 0 }
		artillery_brigade = { x = 3 y = 1 }
		anti_tank_brigade =  { x = 3 y = 2 }		
		artillery_medium = { x = 3 y = 3 }
	}
	
	support = {
		DIV_HQ = { x = 0 y = 0 }
		engineer = { x = 0 y = 1 }
		recon = { x = 0 y = 2 }
		maintenance_company = { x = 1 y = 0 }
		logistics_company = { x = 1 y = 1 }
		field_hospital = { x = 1 y = 2 }
	}
}
load_oob = "GER_InfDiv_Welle1_oct36_2"
		}
			
		}
	}
}
# 1 Welle Inf.-Div. => 46. Infanterie-Division
country_event = {
	id = germany.226
	title = germany.226.t
	desc = germany.226.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	option = {
		name = germany.226.a
		ai_chance = { factor = 100 }
		hidden_effect = {
		if = { limit = { is_ai = no }
		division_template = {
	name = "Infanterie-Division IV"

	division_names_group = GER_Inf_01

	regiments = {
		infantry = { x = 0 y = 0 }
		infantry = { x = 0 y = 1 }
		infantry = { x = 0 y = 2 }
		
		infantry = { x = 1 y = 0 }
		infantry = { x = 1 y = 1 }
		infantry = { x = 1 y = 2 }
		
      	infantry = { x = 2 y = 0 }
		infantry = { x = 2 y = 1 }

		artillery_brigade = { x = 3 y = 0 }
		artillery_brigade = { x = 3 y = 1 }
		anti_tank_brigade =  { x = 3 y = 2 }		
		artillery_medium = { x = 3 y = 3 }
	}
	
	support = {
		DIV_HQ = { x = 0 y = 0 }
		engineer = { x = 0 y = 1 }
		recon = { x = 0 y = 2 }
		maintenance_company = { x = 1 y = 0 }
		logistics_company = { x = 1 y = 1 }
		field_hospital = { x = 1 y = 2 }
	}
}
load_oob = "GER_InfDiv_Welle1_nov38"
		}
			
		}
	}
}
# 1 Welle Inf.-Div. => 50. Infanterie-Division
country_event = {
	id = germany.227
	title = germany.227.t
	desc = germany.227.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	option = {
		name = germany.227.a
		hidden_effect = {
		if = { limit = { is_ai = no }
		division_template = {
	name = "Infanterie-Division V"

	division_names_group = GER_Inf_01

	regiments = {
		infantry = { x = 0 y = 0 }
		infantry = { x = 0 y = 1 }
		infantry = { x = 0 y = 2 }
		
		infantry = { x = 1 y = 0 }
		infantry = { x = 1 y = 1 }
		infantry = { x = 1 y = 2 }
		
      	infantry = { x = 2 y = 0 }
		infantry = { x = 2 y = 1 }

		artillery_brigade = { x = 3 y = 0 }
		artillery_brigade = { x = 3 y = 1 }
		anti_tank_brigade =  { x = 3 y = 2 }		
		artillery_medium = { x = 3 y = 3 }
	}
	
	support = {
		DIV_HQ = { x = 0 y = 0 }
		engineer = { x = 0 y = 1 }
		recon = { x = 0 y = 2 }
		maintenance_company = { x = 1 y = 0 }
		logistics_company = { x = 1 y = 1 }
		field_hospital = { x = 1 y = 2 }
	}
}
load_oob = "GER_InfDiv_Welle1_aug39"
		}
			
		}
	}
}

country_event = {
	id = germany.228
	title = germany.228.t
	desc = germany.228.d
	picture = GFX_report_event_panzer35t

	
    is_triggered_only = yes
	fire_only_once = yes

	
	option = {
		name = germany.228.a
		ai_chance = { factor = 100 }
		if = {
		    limit = { is_ai = no}
            set_technology = {
			   tech_czech_panzer = 1
			   tech_czech_panzer_1 = 1
		    }
		    hidden_effect = {
			    load_oob = "GER_6_8_Panzer_Division"
			    set_country_flag = panzer_35t
		    }
		}
		
		if = {
		    limit = { is_ai = yes }
		    hidden_effect = {
			    load_oob = "GER_6_8_Panzer_Division_ai"
			    set_country_flag = panzer_35t
		    }
		}
        GER = { news_event = { id = germany.229 } }
	}
	option = {
		name = germany.228.b		#refuse
		ai_chance = { factor = 0 }
		set_country_flag = panzer_35t
		#GER = { news_event = { id = germany.229 } }
	}
}

country_event = {
	id = germany.229
	title = germany.229.t
	desc = germany.229.d
	picture = GFX_report_event_panzer38t

    is_triggered_only = yes
	
	option = {
		name = germany.229.a
		ai_chance = { factor = 100 }
	    if = {
		    limit = { is_ai = no}
		    set_technology = {
			    tech_czech_panzer_2 = 1
		    }
			hidden_effect = {
			    load_oob = "GER_7_Panzer_Division"
			    set_country_flag = panzer_38t
		    }
		}
		
		if = {
		    limit = { is_ai = yes }
			load_oob = "GER_7_Panzer_Division_ai"
			    set_country_flag = panzer_38t
		}
	}
	option = {
		name = germany.229.b		#refuse
		ai_chance = { factor = 0 }
		set_country_flag = panzer_38t
	}
}

country_event = {
	id = germany.231
	title = germany.231.t
	desc = germany.231.d
	picture = GFX_report_event_german_elite_troops_inspected

	is_triggered_only = yes
	
	trigger = {
		tag = GER
		not = { has_country_flag = GERgrossdeutschland }
		date > 1939.9.15 	#date = 1939.9.15
		has_tech = subtech_panzer_iii_art_equipment_1
	}
	
	option = {
		name = germany.231.a
		ai_chance = { factor = 100 }
		
		hidden_effect = {
			load_oob = "GER_grossdeutschland_39"
		}
	}
}
####### free event id
country_event = {
	id = germany.232
	title = germany.232.t
	desc = germany.232.d
	picture = GFX_...

	is_triggered_only = yes
	
	option = {
		name = germany.232.a
		ai_chance = { factor = 10 }
	}
	
}
country_event = {
	id = germany.233
	title = germany.233.t
	desc = germany.233.d
	picture = GFX_report_event_german_elite_troops_inspected

	is_triggered_only = yes
	
	option = {
		name = germany.233.a
		ai_chance = { factor = 100 }
		add_manpower = -25000
		
		hidden_effect = {
			if = { limit = { has_tech = HVantiair2 }
			    load_oob = "GER_afrikakorps"
			}
			else_if = { limit = { NOT = { has_tech = HVantiair2 } } 
			    load_oob = "GER_afrikakorps_2" ## todo: option with anti_air
			}
		}
	}
	option = {
		name = germany.233.b		#refuse
		ai_chance = { factor = 0 }
	}
}

country_event = {
	id = germany.235
	title = germany.235.t
	desc = germany.235.d
	picture = GFX_report_event_german_halftrack_with_arty_in_city

	is_triggered_only = yes
	
	option = {
		name = germany.235.a
		ai_chance = { factor = 100 }
			load_oob = "Czech_Equipment"
		
	}
	
}
country_event = {
	id = germany.236
	title = germany.236.t
	desc = germany.236.d
	picture = GFX_report_event_german_halftrack_with_arty_in_city

	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = germany.236.a
		ai_chance = { factor = 100 }
		
	}
	
}

# Operation Barbarossa
country_event = {
	id = germany.238
	title = germany.238.t
	desc = germany.238.d
	picture = GFX_report_event_panzer_ostfront

	is_triggered_only = yes
	

	option = {
		name = germany.238.a
		GER = {
			declare_war_on = {
				target = SOV
				type = annex_everything
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.3144 }
		} 
	}
}

country_event = {
	id = germany.240
	title = germany.240.t
	desc = germany.240.d
	picture = GFX_report_event_panzer38t

	is_triggered_only = yes
	
	option = {
		name = germany.240.a
		ai_chance = { factor = 100 }
		
		hidden_effect = {
			load_oob = "GER_garrisons"
		}
	}
}


country_event = {
	id = germany.247
	title = germany.247.t
	desc = germany.247.d
	picture = GFX_report_event_stalin_01
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = GER
		is_justifying_wargoal_against = POL
		NOT = { has_war_with = SOV }
		NOT = { has_global_flag = sov_yes_pact }
	}
	
	option = {
		name = germany.247.a	
		USA = {
		    add_opinion_modifier = { target = GER modifier = medium_decrease }
		}
		SOV = {
		    add_opinion_modifier = { target = GER modifier = large_decrease }
		}
		SOV = {
		    add_opinion_modifier = { target = GER modifier = sanctions }
		}
		add_popularity = { ideology = fascism popularity = -0.05 }
		custom_effect_tooltip =  germany247_tt
		hidden_effect = {
		    news_event = { hours = 6 id = news.331 }
		}   
	}
}


#molotov_ribbentrop_pact
# fire event to SOV to accept or not. adds claims
# SOV events sends reply to GER, adds claims if they said yes, hurts relations if they say no


# Attack Poland without Molotov....
country_event = {
	id = germany.248
	title = germany.248.t
	desc = germany.248.d
	picture = GFX_report_event_stalin_01

	is_triggered_only = yes
	
	trigger = { NOT = { has_non_aggression_pact_with = GER } NOT = { has_global_flag = sov_yes_pact } }

	option = {
		name = germany.248.a
		ai_chance = {
			factor = 50
		}
		diplomatic_relation = {
			country = GER
			relation = non_aggression_pact
			active = no
		}
		SOV = {
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 97
			add_state_claim = 89
			
			set_country_flag = molotov_cheated
		}
		GER = {
		    add_opinion_modifier = { target = SOV modifier = medium_increase }
		}
		GER = { country_event = { days = 1 id = germany.7 } }
	}
	option = {
		name = germany.248.b
		GER = {
		    add_opinion_modifier = { target = SOV modifier = medium_increase }
		}
		GER = { country_event = { hours = 6 id = germany.8 } }
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = germany.7
	title = germany.7.t
	desc = germany.7.d
	picture = GFX_report_event_stalin_01

	is_triggered_only = yes
	
	trigger = { NOT = { has_non_aggression_pact_with = SOV } NOT = { has_global_flag = sov_yes_pact } }

	option = {
		name = germany.7.a
		
		white_peace = {
			tag = POL
			message = blocked_danzig
		}
		hidden_effect = {
		every_country = { limit = { is_in_faction_with = GER }
		white_peace = {
			tag = POL
			message = blocked_danzig
		}
		}
		}
		SOV = { country_event = { id = germany.10 } }
	}
	option = {
		name = germany.7.b
		effect_tooltip = {
		SOV = {
			add_to_war = { 
				targeted_alliance = POL 
				enemy = GER 
				hostility_reason = asked_to_join
			}
			diplomatic_relation = {
				country = GER
				relation = non_aggression_pact
				active = no
			}
		}
		if = { limit = { POL = { is_in_faction = no } }
 	    	SOV = { add_to_faction = POL }
	  	}	
     	}
		SOV = { country_event = { id = germany.9 } }
	}
}

country_event = {
	id = germany.8
	title = germany.8.t
	desc = germany.8.d
	picture = GFX_report_event_stalin_01
	
	trigger = { NOT = { has_non_aggression_pact_with = SOV } NOT = { has_global_flag = sov_yes_pact } }

	is_triggered_only = yes

	option = {
		name = germany.8.a
	}
}

country_event = {
	id = germany.9
	title = germany.9.t
	desc = germany.9.d
	picture = GFX_report_event_stalin_01

	is_triggered_only = yes

	option = {
		name = germany.9.a
	    	diplomatic_relation = {
				country = GER
				relation = non_aggression_pact
				active = no
			}
			add_to_war = { 
				targeted_alliance = POL 
				enemy = GER 
				hostility_reason = asked_to_join
			}
			
		
		if = { limit = { POL = { is_in_faction = no } }
 	    	add_to_faction = POL
	  	}
	}
}

country_event = {
	id = germany.10
	title = germany.10.t
	desc = germany.10.d
	picture = GFX_report_event_stalin_01

	is_triggered_only = yes



	option = {
		name = germany.10.a
	}
}

country_event = {
	id = germany.257
	title = germany.257.t
	desc = germany.257.d
	picture = GFX_report_event_stalin_01
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = GER
		is_justifying_wargoal_against = SWE
		NOT = { has_war_with = SOV }
	}
	
	option = {
		name = germany.257.a	
		if = { limit = { country_exists = USA } 
		    USA = {
		    add_opinion_modifier = { target = GER modifier = large_decrease }
	    	}
		}
		if = { limit = { country_exists = SOV } 
    		SOV = {
	    	    add_opinion_modifier = { target = GER modifier = large_decrease }
	    	}
	    	SOV = {
	    	    add_opinion_modifier = { target = GER modifier = sanctions }
    		}
		}
	
		hidden_effect = {
		    news_event = { hours = 6 id = news.333 }
		}   
	}
}

country_event = {
	id = germany.258
	title = germany.258.t
	desc = germany.258.d
	picture = GFX_report_event_stalin_01
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = GER
		is_justifying_wargoal_against = SPR
		country_exists = SOV
		NOT = { has_war_with = SOV }
	}
	
	option = {
		name = germany.258.a	
		SOV = {
		    add_opinion_modifier = { target = GER modifier = large_decrease }
		}
		SOV = {
		    add_opinion_modifier = { target = GER modifier = sanctions }
		}
		hidden_effect = {
		    news_event = { hours = 6 id = news.332 }
		}   
	}
}

country_event = {
	id = germany.252
	hidden = yes
	is_triggered_only = yes
	immediate = { 
	if = { limit = { NOT = { has_war_with = GRE } } declare_war_on = { target = GRE type = take_state_focus } }
    if = { limit = { NOT = { has_wargoal_against = GRE } }
			create_wargoal = {
				type = take_state
				target = GRE
				generator = { 731 }
			}
		}	
	}
	option = { name = "OK" }
}

country_event = {
	id = germany.410
	title = germany.249.t
	desc = germany.249.d
	picture = GFX_news_event_038
	
	mean_time_to_happen = {
		days = 20
	}
	
	trigger = {
	    tag = GER
		has_war_with = SOV
		NOT = { has_country_flag = stop_rom_state_autotransfer }
		has_country_flag = rom_occupation_transnistria
		OR = { 
			ROM = { controls_state = 196 } HUN = { controls_state = 196 } 
			ROM = { controls_state = 200 } HUN = { controls_state = 200 }
			ROM = { controls_state = 137 } HUN = { controls_state = 137 } 
			ROM = { controls_state = 221 } HUN = { controls_state = 221 } 
			ROM = { controls_state = 227 } HUN = { controls_state = 227 } 
			ROM = { controls_state = 259 } HUN = { controls_state = 259 } 
			ROM = { controls_state = 218 } HUN = { controls_state = 218 }  
			ROM = { controls_state = 197 } HUN = { controls_state = 197 } 
			ROM = { controls_state = 203 } HUN = { controls_state = 203 }
			ROM = { controls_state = 201 } HUN = { controls_state = 201 }
			ROM = { controls_state = 199 } HUN = { controls_state = 199 }
			ROM = { controls_state = 202 } HUN = { controls_state = 202 } 
			ROM = { controls_state = 193 } HUN = { controls_state = 193}
			ROM = { controls_state = 225 } HUN = { controls_state = 225 }
			ROM = { controls_state = 194 } HUN = { controls_state = 194 }
			ROM = { controls_state = 226 } HUN = { controls_state = 226 }
			HUN = { controls_state = 198 }
			HUN = { controls_state = 192 }
		}
	}

	option = {
		name = germany.249.a
		ai_chance = {
			factor = 10
		}
		193 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 193 }
			}
		}
		225 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 225 }
			}
		}
		194 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 194 }
			}
		}
		226 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 226 }
			}
		}
		196 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 196 }
			}
		}
		200 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 200 }
			}
		}
		137 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 137 }
			}
		}
		221 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 221 }
			}
		}
		227 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 227 }
			}
		}
		259 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 259 }
			}
		}
		218 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 218 }
			}
		}
		197 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 197 }
			}
		}
		203 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 203 }
			}
		}
		202 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 202 }
			}
		}
		201 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 201 }
			}
		}
		199 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 199 }
			}
		}
	}
	
	option = {
		name = germany.249.b
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = germany.249.c
		ai_chance = {
			factor = 0
		}
		set_country_flag = stop_rom_state_autotransfer
	}
}

country_event = {
	id = germany.249
	title = germany.249.t
	desc = germany.249.d
	picture = GFX_news_event_038
	
	mean_time_to_happen = {
		days = 20
	}

	trigger = {
	    tag = GER
		has_war_with = SOV
		NOT = { has_country_flag = stop_rom_state_autotransfer }
		NOT = { has_country_flag = rom_occupation_transnistria }
		OR = { 
			ROM = { controls_state = 196 } HUN = { controls_state = 196 } 
			ROM = { controls_state = 200 } HUN = { controls_state = 200 }
			ROM = { controls_state = 137 } HUN = { controls_state = 137 } 
			ROM = { controls_state = 221 } HUN = { controls_state = 221 } 
			ROM = { controls_state = 227 } HUN = { controls_state = 227 } 
			ROM = { controls_state = 259 } HUN = { controls_state = 259 } 
			ROM = { controls_state = 218 } HUN = { controls_state = 218 }  
			ROM = { controls_state = 197 } HUN = { controls_state = 197 } 
			ROM = { controls_state = 203 } HUN = { controls_state = 203 }
			ROM = { controls_state = 201 } HUN = { controls_state = 201 }
			ROM = { controls_state = 199 } HUN = { controls_state = 199 }
			ROM = { controls_state = 202 } HUN = { controls_state = 202 } 
			ROM = { controls_state = 193 } HUN = { controls_state = 193}
			ROM = { controls_state = 225 } HUN = { controls_state = 225 }
			ROM = { controls_state = 194 } HUN = { controls_state = 194 }
			ROM = { controls_state = 226 } HUN = { controls_state = 226 }
			ROM = { controls_state = 198 } HUN = { controls_state = 198 }
			ROM = { controls_state = 192 } HUN = { controls_state = 192 }
		}
	}

	option = {
		name = germany.249.a
		ai_chance = {
			factor = 10
		}
		193 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 193 }
			}
		}
		225 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 225 }
			}
		}
		194 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 194 }
			}
		}
		226 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 226 }
			}
		}
		196 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 196 }
			}
		}
		200 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 200 }
			}
		}
		137 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 137 }
			}
		}
		221 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 221 }
			}
		}
		227 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 227 }
			}
		}
		259 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 259 }
			}
		}
		218 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 218 }
			}
		}
		197 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 197 }
			}
		}
		198 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 198 }
			}
		}
		192 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 192 }
			}
		}
		203 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 203 }
			}
		}
		202 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 202 }
			}
		}
		201 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 201 }
			}
		}
		199 = {
			if = {
				limit = { OR = { is_fully_controlled_by = ROM is_fully_controlled_by = HUN } }
				GER = { set_state_controller = 199 }
			}
		}
	}
	
	option = {
		name = germany.249.b
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = germany.249.c
		ai_chance = {
			factor = 0
		}
		set_country_flag = stop_rom_state_autotransfer
	}
}


# Molotov-Ribbentrop Pact (Germany)
country_event = {
	id = germany.253
	title = germany.253.t
	desc = germany.253.d
	picture = GFX_report_event_mol_pact
	
	is_triggered_only = yes
	
	option = {
		name = germany.253.a	#sounds good
		ai_chance = { 
			factor = 50 
		}
		#add_opinion_modifier = { target = SOV modifier = MR_pact }# pact		
		custom_effect_tooltip = germany.253.a.tt
			add_timed_idea = {
				idea = SOV_molotov_ribbentrop_pact_2 days = 1000
			}
		
		SOV = {
			country_event = { days = 1 id = germany.254 }
		}
		set_global_flag = sov_yes_pact_2
		GER = {
		hidden_effect = {
		    if = { limit = { SOV = { is_embargoed_by = GER } }
			    break_embargo = SOV
			}
		}
		}
		SOV = {
		hidden_effect = {
		    if = { limit = { GER = { is_embargoed_by = SOV } }
			    break_embargo = GER
			}
		}
		}
	}
	
	option = {
		name = germany.253.b	#no way 
		ai_chance = {
			factor = 10
		}
		add_political_power = -75	
		add_opinion_modifier = { target = SOV modifier = refused_MR_pact }# no pact 
		SOV = {
			country_event = { days = 1 id = germany.255 }
		}
		clr_global_flag = sov_yes_pact
	}
}
# GermanySign MR Pact 2
country_event = {
	id = germany.254
	title = germany.254.t
	desc = germany.254.d
	picture = GFX_report_event_molotov_ribentrop_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.254.a	#neat
		every_other_country = {
			limit = {
				NOT = { tag = GER }
				has_government = fascism 
			}
			#add_opinion_modifier = { target = GER modifier = MR_pact_fascists }
		}
		add_war_support = -0.05
		diplomatic_relation = { country = GER relation = non_aggression_pact }
		#add_opinion_modifier = { target = GER modifier = MR_pact }# pact
		hidden_effect = {
			country_event = { hours = 6 id = news.32 }
		}
	}
}
# Germany Reject MR Pact
country_event = {
	id = germany.255
	title = germany.255.t
	desc = germany.255.d
	picture = GFX_report_event_sov_refuse_pact

	is_triggered_only = yes
	
	option = {
		name = germany.255.a	#bah
		add_stability = -0.05 # embarrased
		add_opinion_modifier = { target = GER modifier = refused_MR_pact }# no pact
	}
}

#vichy
country_event = {
	id = germany.256
	title = germany.256.t
	desc = germany.256.d
	picture = GFX_news_event_038
	
	
	mean_time_to_happen = {
		days = 20
	}

	trigger = {
		tag = GER
		NOT = { has_country_flag = stop_vichy_state_autotransfer }
		FRA = { has_capitulated = yes }
		event_target:vichy_france = { is_subject_of = GER } 
		OR = {
		event_target:vichy_france = { controls_state = 19 } 
		event_target:vichy_france = { controls_state = 23 } 
		event_target:vichy_france = { controls_state = 30 } 
		event_target:vichy_france = { controls_state = 29 } 
		event_target:vichy_france = { controls_state = 28 } 
        event_target:vichy_france = { controls_state = 27 } 
		event_target:vichy_france = { controls_state = 17 } 
		event_target:vichy_france = { controls_state = 15 } 
		event_target:vichy_france = { controls_state = 24 }  
		event_target:vichy_france = { controls_state = 16 }  
		event_target:vichy_france = { controls_state = 14 } 
		}
	}

	option = {
		name = germany.256.a
		ai_chance = {
			factor = 10
		}
		19 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 19 }
			}
		}
		23 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 23 }
			}
		}
		14 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 14 }
			}
		}
		15 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 15 }
			}
		}
		30 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 30 }
			}
		}
		24 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 24 }
			}
		}
		16 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 16 }
			}
		}
		27 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 27 }
			}
		}
		17 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 17 }
			}
		}
		
		28 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 28 }
			}
		}
		29 = {
			if = {
				limit = { is_controlled_by = event_target:vichy_france }
				GER = { set_state_controller = 29 }
			}
		}
		
	}
	
	option = {
		name = germany.256.b
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = germany.256.c
		ai_chance = {
			factor = 0
		}
		set_country_flag = stop_vichy_state_autotransfer
	}
}

country_event = {
	id = germany.300
	title = germany.300.t
	hidden = yes
	is_triggered_only = yes
	fire_only_once = yes	
	
	
		immediate = {
			set_politics = {
				ruling_party = fascism
			}
		}
}

#Spain_treaty( befriend spain )
country_event = {
	id = germany.301
	title = germany.301.t
	desc = germany.301.d
	picture = GFX_report_event_franco_hitler2

	is_triggered_only = yes
	
	option = {
		name = germany.301.a	#accept
		ai_chance = {
			factor = 20
		}
		diplomatic_relation = { country = GER relation = non_aggression_pact }
		add_opinion_modifier = { target = GER modifier = medium_increase }
		GER = {
		diplomatic_relation = { country = ROOT relation = military_access }
		add_opinion_modifier = { target = ROOT modifier = medium_increase }
		}
		add_stability = 0.03
		add_war_support = 0.03
		GER = { country_event = { id = germany.303 days = 1 } }
	}
	option = {
		name = germany.301.b
		ai_chance = {
			factor = 10
		}
		add_stability = 0.02
		GER = { country_event = { id = germany.304 days = 1 } }
	}
}
# Fortifying the Atlantikwall
country_event = {
	id = germany.302
	title = germany.302.t
	desc = germany.302.d
	picture = GFX_report_event_fortify_atlantikwall
	
	is_triggered_only = yes
	
	option = {
		name = germany.302.a
		19 = {
			add_building_construction = {
				type = coastal_bunker
				province = 9737
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11565
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6621
				level = 1
			}
		}
		23 = {
			add_building_construction = {
				type = coastal_bunker
				province = 6657
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9597
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11600
				level = 1
			}
		}
		30 = {
			add_building_construction = {
				type = coastal_bunker
				province = 11465
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11616
				level = 1
			}
		}
		14 = {
			add_building_construction = {
				type = coastal_bunker
				province = 9510
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6536
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 542
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 3552
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6572
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9525
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11508
				level = 1
			}
		}
		15 = {
			add_building_construction = {
				type = coastal_bunker
				province = 9550
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6449
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 3579
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11535
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6599
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9434
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 485
				level = 1
			}
		}
		29 = {
			add_building_construction = {
				type = coastal_bunker
				province = 11420
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9500
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11548
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 575
				level = 2
			}
		}
		6 = {
			add_building_construction = {
				type = coastal_bunker
				province = 6446
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6560
				level = 1
			}
		}
		7 = {
			add_building_construction = {
				type = coastal_bunker
				province = 480
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9431
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9498
				level = 2
			}
			add_building_construction = {
				type = coastal_bunker
				province = 3211
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 68
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 3314
				level = 1
			}
		}
		36 = {
			add_building_construction = {
				type = coastal_bunker
				province = 6336
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9335
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11318
				level = 1
			}
		}
		56 = {
			add_building_construction = {
				type = coastal_bunker
				province = 11360
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 241
				level = 1
			}
		}
		59 = {
			add_building_construction = {
				type = coastal_bunker
				province = 374
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6349
				level = 1
			}
		}
		58 = {
			add_building_construction = {
				type = coastal_bunker
				province = 3368
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 3231
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11366
				level = 1
			}
		}
		99 = {
			add_building_construction = {
				type = coastal_bunker
				province = 332
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 399
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 3206
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 316
				level = 1
			}
		}
		142 = {
			add_building_construction = {
				type = coastal_bunker
				province = 9296
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11367
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6176
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 53
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9296
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 11367
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 122
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 199
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 3090
				level = 1
			}
			add_building_construction = {
				type = coastal_bunker
				province = 188
				level = 1
			}
		}
		144 = {
			add_building_construction = {
				type = coastal_bunker
				province = 192
				level = 2
			}
			add_building_construction = {
				type = bunker
				province = 192
				level = 2
			}
		}
	}
}

#Spain accepts friendship
country_event = {
	id = germany.303
	title = germany.303.t
	desc = germany.303.d
	
	picture = GFX_report_event_franco_hitler2
	is_triggered_only = yes
	
	option = { #Ok
		name = germany.303.a
		effect_tooltip = {	
			SPA = {
            diplomatic_relation = { country = GER relation = non_aggression_pact }
		add_opinion_modifier = { target = GER modifier = medium_increase }
		add_stability = 0.03
		add_war_support = 0.03
				}
			}
	}
}
#Spain declines friendship
country_event = {
	id = germany.304
	title = germany.304.t
	desc = germany.304.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes	
	
	
    option = { #Ok
		name = germany.304.a
		add_political_power = -15
	}
}
# USE FOR Anschluss
country_event = {
	id = germany.305
	title = germany.305.t
	desc = germany.305.d
	picture = GFX_report_event_franco_hitler2

	is_triggered_only = yes
	
	option = {
		name = germany.305.a	#accept
		ai_chance = {
			factor = 100
		}
		diplomatic_relation = { country = GER relation = non_aggression_pact }
		add_opinion_modifier = { target = GER modifier = medium_increase }
		GER = { 
		add_opinion_modifier = { target = ARG modifier = medium_increase }
		country_event = { id = germany.306 days = 1 } 
		}
	}
	option = {
		name = germany.305.b
		ai_chance = {
			factor = 0
		}
		GER = { country_event = { id = germany.307 days = 1 } }
	}
}
#Arg accepts friendship
country_event = {
	id = germany.306
	title = germany.306.t
	desc = germany.306.d
	
	picture = GFX_report_event_franco_hitler2
	is_triggered_only = yes
	
	option = { #Ok
		name = germany.306.a
	}
}
#Arg declines friendship
country_event = {
	id = germany.307
	title = germany.307.t
	desc = germany.307.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes	
	
	
    option = { #Ok
		name = germany.307.a
		add_political_power = -15
	}
}
############ SOUTH TYROL ###############

#South Tyrol Solution
country_event = {
	id = germany.308
	title = germany.308.t
	desc = germany.308.desc
	picture = GFX_report_event_generic_funeral
	is_triggered_only = yes

	option = { #Work with Italy
		name = germany.308.a
		
		#some tiny economic shifting from S Tyrol to Tyrol/S Germany
		add_political_power = 15
		add_stability = 0.01
		add_war_support = -0.02
		ai_chance = {
			base = 10
		}
	}
	option = { #Demand South Tyrol
		name = germany.308.b
                save_global_event_target_as = demands_Tyrol
		ITA = { country_event = germany.309 }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes				
			}
		}
	}
}

#ITA RESPONSE
country_event = {
	id = germany.309
	title = germany.309.t
	desc = germany.309.desc
	picture = GFX_report_event_generic_funeral
	is_triggered_only = yes

	option = { #Never
		name = germany.309.a
		event_target:demands_Tyrol = { country_event = germany.311 }
		ai_chance = {
			base = 20
		}
	}
	option = { #Accept
		name = germany.309.b
		event_target:demands_Tyrol = { country_event = germany.310 }
		add_political_power = -50
		add_stability = -0.05
		ai_chance = {
			base = 20
		}
	}
}

#ITA Agrees
country_event = {
	id = germany.310
	title = germany.310.t
	desc = germany.310.desc
	picture = GFX_report_event_generic_funeral
	is_triggered_only = yes

	option = { #Excellent!
		name = germany.310.a
		add_political_power = 25
		add_stability = 0.02
		event_target:demands_Tyrol = { transfer_state = 39 } #South Tyrol
		
		hidden_effect = {
			news_event = { hours = 6 id = news.73 }
		}
	}
}

#ITA Refuses
country_event = {
	id = germany.311
	title = germany.311.t
	desc = germany.311.desc
	picture = GFX_report_event_generic_funeral
	fire_only_once = yes
	is_triggered_only = yes

	immediate = {  }

	option = { #Back down
		name = germany.311.a
		add_political_power = 10
		remove_state_claim = 39 #South Tyrol
		ai_chance = {
			base = 75
			modifier = {
				factor = 2
				is_historical_focus_on = yes
			}
		}
	}
	option = { #We won't take no for an answer!
		name = germany.311.b
		create_wargoal = {
			type = take_state_focus
			target = ITA
			generator = { 39 }
		}
		add_political_power = -30
		add_stability = -0.03
		ai_chance = {
			base = 25
			modifier = {
				factor = 2
				strength_ratio = { tag = ITA ratio > 1.2 }
			}
		}
	}
}
#YUG asked to join Axis
country_event = {
	id = germany.312
	title = germany.312.t
	desc = germany.312.desc
	picture = GFX_report_event_soldiers_marching
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {}
	option = { #no
		name = germany.312.a 
		
		YUG = { country_event = yugoslavia.2 }
		ai_chance = { factor = 100 }
		GER = {
			set_country_flag = YUG_refuse
		}
	}
	option = { #yes
		name = germany.312.b 
		GER = { add_to_faction = YUG }
		ai_chance = { factor = 0 }
	}
}

#GER = { country_event = germany.111 }

# Germany: Bulgaria refuses - Generate wargoal
country_event = {
	id = germany.313
	title = germany.313.t
	desc = germany.313.d

	picture = GFX_report_event_german_bicycle_group
	
	is_triggered_only = yes

	option = {
		name = germany.313.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = BUL		
		}
		add_stability = -0.01
	}
}

country_event = {
	id = germany.3131
	title = germany.3131.t
	desc = germany.3131.d

	picture = GFX_report_event_german_bicycle_group
	
	is_triggered_only = yes


	option = {
		name = germany.3131.a
		ai_chance = { factor = 10 }
		add_to_faction = BUL
	}

	option = {
		name = germany.3131.b
		ai_chance = { factor = 0 }
		create_wargoal = {
			type = puppet_wargoal_focus
			target = BUL		
		}
		add_stability = -0.01
	}
}

country_event = {
	id = germany.314 
	title = germany.314.t 
	desc = germany.314.d 
	
	picture = GFX_report_event_german_elite_troops_inspected
	
	is_triggered_only = yes
	
	option = { #yes
		name = germany.314.a 
		ai_chance = {
			factor = 50
		}
		GER = { add_to_faction = POL }
		add_ai_strategy = {
			type = alliance
			id = "GER"
			value = 200
		}
	}
	option = { #no
		name = germany.314.b 
		ai_chance = {
			factor = 50
			modifier = {
				factor = 40
			}
		}
		GER = { country_event = { id = germany.315 hours = 1 } }
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = POL		
				}
			}			
		}
	}
}
country_event = {
	id = germany.315 
	title = germany.315.t 
	desc = germany.315.d 
	
	picture = GFX_report_event_german_squad_walking

	is_triggered_only = yes
	
	option = {
		name = germany.315.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = POL
		}
	    if = {
			limit = {
			    NOT = { has_global_flag = sov_yes_pact }
			}
         
			effect_tooltip = {
			    SOV = {
				    send_embargo = GER
			    }
			}
		}
		
	}
}
country_event = { #soviet_german_trade_agreement
	id = germany.316 
	title = germany.316.t 
	desc = germany.316.d 
	
	picture = GFX_report_event_molotov_signing_pact
	
	is_triggered_only = yes
	
	option = { #yes 
		name = germany.316.a 
		ai_chance = {
			factor = 100
		}
		add_ideas = german_soviet_trade_agreement_sov
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 0.5
				uses = 1
				category = light_fighter
			}
		if = {
		limit = {
		GER = { has_tech = tech_bf_110_fighter_equipment_1 }
		}
			add_tech_bonus = {
				name = heavyfighter_bonus
				bonus = 0.4 
				uses = 1 
				category = cat_heavy_fighter
			}
		}
		if = {
		limit = {
		GER = { has_tech = improved_battleship }
		}
			add_tech_bonus = {
				bonus = 0.4 
				uses = 1
				category = bb_tech
			}
		}
		GER = { country_event = { id = germany.317 hours = 1 } }
	}
	option = { #no 
		name = germany.316.b 
		ai_chance = {
			factor = 0
		} 
		GER = {
			add_opinion_modifier = { target = SOV modifier = large_decrease }
	     }
	}
}
country_event = {
	id = germany.317 
	title = germany.317.t 
	desc = germany.317.d 
	
	picture = GFX_report_event_molotov_signing_pact
	
	is_triggered_only = yes
	
	option = { #nice 
		name = germany.317.a 
				
		add_resource = {
			type = oil 
			amount = 8
			state = 64
		}
		add_resource = {
			type = tungsten
			amount = 8
			state = 64
		}
		add_resource = {
			type = chromium
			amount = 8
			state = 64
		}
		add_resource = {
			type = rubber
			amount = 8
			state = 64
		}
		add_ideas = german_soviet_trade_agreement_ger
	}
}
country_event = {
	id = germany.318
	title = germany.318.t
	desc = germany.318.d
	picture = GFX_news_event_wever_funeral
	
	fire_only_once = yes

	#trigger = {
	#    tag = GER
	#	date > 1942.2.8 
	#}
	
	is_triggered_only = yes

	option = { 
		name = germany.318.a
		trigger = { has_idea = todt }
		ai_chance = { factor = 0 }
		GER = { country_event = { id = germany.319 } }
	}
	
	option = {
		name = germany.318.b
		ai_chance = { factor = 100 }
		GER = { country_event = { id = germany.320 } }
	}
}
country_event = { #choose Speer
	id = germany.319
	title = germany.319.t
	desc = germany.319.d
	picture = GFX_report_event_reichstag_hitler_speech
	
	is_triggered_only = yes

	
	option = {
		name = germany.319.a
		trigger = { NOT = { has_idea = speer } }
		if = { limit = { NOT = { has_idea = speer } }
		GER = {
			add_ideas = speer 
		}
		}
	}
	
	option = {
		name = germany.319.b
		trigger = { has_idea = speer }
	    add_political_power = 100
	}
}

country_event = { #don't replace todt
	id = germany.320
	title = germany.320.t 
	desc = germany.320.d
	picture = GFX_report_event_reichstag_hitler_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.320.a
		add_political_power = 100
	}
}
country_event = { #Standard fighter competition
	id = germany.321 
	title = germany.321.t 
	desc = germany.321.d 
	picture = GFX_report_event_german_speech
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_ai = yes
			}	
		
		}
	}	
	
	option = {
		name = germany.321.a 
		ai_chance = { factor = 100 }
		set_technology = { 
			tech_me_109_early_fighter_equipment_1 = 1 
		}
	}
	option = {
		name = germany.321.b 
		set_technology = { 
			tech_he_112_equipment_1 = 1 
		}
	}
}
country_event = { #treaty sweden
	id = germany.322
	title = germany.322.t 
	desc = germany.322.d 
	picture = GFX_report_event_mining
	
	is_triggered_only = yes 
	
	option = { #Accept, but stay neutral
		name = germany.322.a #yes Increase trade
		ai_chance = { factor = 100 }
		666 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_resource = {
				type = steel
				amount = 5
			}
		
			add_resource = {
				type = tungsten
				amount = 3
			}	
		}
		64 = {
	    	remove_building = {
				type = industrial_complex
				level = 2
			}
		}

		GER = {	
			diplomatic_relation = {
				country = SWE
				relation = non_aggression_pact
				active = yes
			}
			
			give_guarantee = SWE
			add_opinion_modifier = { target = SWE modifier = tripartite_pact_opinion }
		}
		add_opinion_modifier = { target = GER modifier = tripartite_pact_opinion }
		
		add_ideas = german_sweden_trade_agreement_swe 
	
		GER = {
		country_event = { id = germany.323 }
		}
	}  
	option = { #Accept, and align with Axis
		name = germany.322.c #yes Increase trade
		ai_chance = { 
			base = 0
			modifier = {
				has_completed_focus = SWE_nationalism_focus
				add = 10000
			}
		}
		custom_effect_tooltip = SWE_aligned_axis_tt
		666 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_resource = {
				type = steel
				amount = 5
			}
		
			add_resource = {
				type = tungsten
				amount = 3
			}	
		}
		64 = {
	    	remove_building = {
				type = industrial_complex
				level = 2
			}
		}

		GER = {	
			diplomatic_relation = {
				country = SWE
				relation = non_aggression_pact
				active = yes
			}
			
			give_guarantee = SWE
			add_opinion_modifier = { target = SWE modifier = tripartite_pact_opinion }
		}
		add_opinion_modifier = { target = GER modifier = tripartite_pact_opinion }
		
		add_ideas = german_sweden_trade_agreement_swe 
	
		GER = {
		country_event = { id = germany.3230 }
		}
		set_country_flag = SWE_aligned_axis
	}
	option = { #Reject the offer
		name = germany.322.b #no
		ai_chance = { factor = 0 }
		add_political_power = 100
		add_stability = 0.05
		GER = { 
		country_event = { id = germany.324 days = 1 }
		}
	}
}
country_event = {
	id = germany.323 
	title = germany.323.t 
	desc = germany.323.d 
	picture = GFX_report_event_mining
	
	is_triggered_only = yes 
	
	option = {
		name = germany.323.a 
		
		add_opinion_modifier = {
			target = SWE
			modifier = pact_of_steel_opinion
		}
		
		effect_tooltip = { 
				666 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_resource = {
				type = steel
				amount = 8
			}
		
			add_resource = {
				type = tungsten
				amount = 6
			}
			
			add_resource = {
				type = chromium
				amount = 3
			}	
		}
		64 = {
	    	remove_building = {
				type = industrial_complex
				level = 2
			}
		}

		GER = {	
			diplomatic_relation = {
				country = SWE
				relation = non_aggression_pact
				active = yes
			}
			
			give_guarantee = SWE
			add_opinion_modifier = { target = SWE modifier = tripartite_pact_opinion }
		}
		add_opinion_modifier = { target = GER modifier = tripartite_pact_opinion }
		
		add_ideas = german_sweden_trade_agreement_swe 
		}
	}
}
country_event = {
	id = germany.3230
	title = germany.3230.t 
	desc = germany.3230.d 
	picture = GFX_report_event_mining
	
	is_triggered_only = yes 
	
	option = {
		name = germany.3230.a 
		
		add_opinion_modifier = {
			target = SWE
			modifier = pact_of_steel_opinion
		}
		
		effect_tooltip = { 
				666 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_resource = {
				type = steel
				amount = 8
			}
		
			add_resource = {
				type = tungsten
				amount = 6
			}
			
			add_resource = {
				type = chromium
				amount = 3
			}	
		}
		64 = {
	    	remove_building = {
				type = industrial_complex
				level = 2
			}
		}

		GER = {	
			diplomatic_relation = {
				country = SWE
				relation = non_aggression_pact
				active = yes
			}
			
			give_guarantee = SWE
			add_opinion_modifier = { target = SWE modifier = tripartite_pact_opinion }
		}
		add_opinion_modifier = { target = GER modifier = tripartite_pact_opinion }
		
		add_ideas = german_sweden_trade_agreement_swe 
		}
	}
}
country_event = {
	id = germany.324 
	title = germany.324.t 
	desc = germany.324.d 
	picture = GFX_report_event_reichstag_hitler_speech
	
	is_triggered_only = yes

	option = { #war 
	        add_stability = -0.04
		name = germany.324.a 
		ai_chance = { factor = 0 }
			create_wargoal = {
 				type = annex_everything
 				target = SWE
 			}
	}
	option = { #other problems
	        add_stability = -0.01
		name = germany.324.b 
		ai_chance = { factor = 100 }
	}
}
country_event = {
	id = germany.325 
	title = germany.325.t 
	desc = germany.325.d 
	picture = GFX_report_event_reichstag_hitler_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.325.a 
		ai_chance = {
			factor = 0
		}
		set_country_flag = listen_to_raeder
		add_tech_bonus = {
				name = bb_bonus
				bonus = 0.8
				uses = 1
				category = bb_tech
		}
	}
	option = {
		name = germany.325.b 
		ai_chance = {
			factor = 100
		}
		set_country_flag = listen_to_donitz 
		add_tech_bonus = {
				name = ss_bonus
				bonus = 0.8
				uses = 1
				category = ss_tech
		}
	}
	option = {
		name = germany.325.c 
		ai_chance = {
			factor = 0
		}
		set_country_flag = listen_to_both
		add_tech_bonus = {
				name = bb_bonus
				bonus = 0.5
				uses = 1
				category = bb_tech
		}
		add_tech_bonus = {
				name = ss_bonus
				bonus = 0.5
				uses = 1
				category = ss_tech
		}
	}
}
country_event = {
	id = germany.326 
	title = germany.326.t 
	desc = germany.326.d 
	picture = GFX_report_event_bunker_01
	
	is_triggered_only = yes
	
	option = {
		name = germany.326.a 
			56 = {
			add_building_construction = {
				type = coastal_bunker
				province = 241
				level = 2
			}
			}
			56 = {
			add_building_construction = {
				type = bunker
				province = 241
				level = 2
			}
			}
			56 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			59 = {
			add_building_construction = {
				type = coastal_bunker
				province = 3326
				level = 2
			}
			}
			59 = {
			add_building_construction = {
				type = bunker
				province = 3326
				level = 2
			}
			}
			59 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			58 = {
			add_building_construction = {
				type = coastal_bunker
				province = 9347
				level = 1
			}
			}
			58 = {
			add_building_construction = {
				type = bunker
				province = 9347
				level = 1
			}
			}
			58 = {
			add_building_construction = {
				type = coastal_bunker
				province = 6389
				level = 1
			}
			}
			58 = {
			add_building_construction = {
				type = bunker
				province = 6389
				level = 1
			}
			}
			58 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
	}
}
country_event = {
	id = germany.327 
	title = germany.327.t 
	desc = germany.327.d 
	picture = GFX_report_event_bunker_01
	
	is_triggered_only = yes
	
	option = {
		name = germany.327.a 
			19 = {
			add_building_construction = {
				type = coastal_bunker
				province = 9737
				level = 1
			}
			}
			19 = {
			add_building_construction = {
				type = bunker
				province = 9737
				level = 1
			}
			}
			19 = {
			add_building_construction = {
				type = naval_base
				province = 9737
				level = 3
			}
			}
			23 = {
			add_building_construction = {
				type = coastal_bunker
				province = 6657
				level = 1
			}
			}
			23 = {
			add_building_construction = {
				type = bunker
				province = 6657
				level = 1
			}
			}
			23 = {
			add_building_construction = {
				type = naval_base
				province = 6657
				level = 2
			}
			}
			14 = {
			add_building_construction = {
				type = bunker
				province = 3552
				level = 1
			}
			}
			14 = {
			add_building_construction = {
				type = coastal_bunker
				province = 3552
				level = 1
			}
			}
			14 = {
			add_building_construction = {
				type = naval_base
				province = 6536
				level = 2 
			}
			}
	}
}
country_event = {
	id = germany.328 
	title = germany.328.t 
	desc = germany.328.d 
	picture = GFX_report_event_central_europe_tanks
	
	is_triggered_only = yes
	
	option = {
		name = germany.328.a 
		hidden_effect = {
		load_oob = "GER_marines"
		}
		custom_effect_tooltip = GER_Landungstruppen
		add_tech_bonus = {
					name = amph_armor_bonus
					bonus = 0.6
					uses = 1
					category = amp_armor
		}
	}
}
country_event = {
	id = germany.329 
	title = germany.329.t 
	desc = germany.329.d 
	picture = GFX_report_event_german_elite_troops_inspected
	
	is_triggered_only = yes
	
	option = {
		name = germany.329.a 
		hidden_effect = {
		load_oob = "GER_Fallschirmjaeger"
		}
		custom_effect_tooltip = GER_Fallschirmjaeger
	}
}

#Remove MEFO bills
country_event = {
	id = germany.330
	fire_only_once = yes
	trigger = {
		tag = GER
		has_war = yes
	}
	hidden = yes
	immediate ={
		GER_remove_mefo_bills = yes
		set_country_flag = mefo_bills_removed_through_war
	}
	option = {
		name = germany.330.a
		#immediate ={
		#	GER_remove_mefo_bills = yes
		#	set_country_flag = mefo_bills_removed_through_war
		#}
	}
}

### Request docking rights from SPR
country_event = {
	id = germany.331
	title = germany.331.t
	desc = germany.331.d
	picture = GFX_event_naval_producer
	
	is_triggered_only = yes
	
	option = {
		name = germany.331.a
		ai_chance = {
			base = 5
		}
		
		navy_experience = 30
		
		171 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				province = 758
				instant_build = yes
			}
		}
		58 = {
	    	remove_building = {
				type = dockyard
				level = 1
			}
			remove_building = {
				type = naval_base
				province = 6389
				level = 1
			}
		}
		
		diplomatic_relation = {
			country = GER
			relation = docking_rights
			active = yes
		}
		
		GER = {
			country_event = germany.332
		}
	}
	
	option = {
		name = germany.331.b
		ai_chance = {
			base = 0
		}
		
		GER = {
			country_event = germany.333
		}
	}
}

country_event = {
	id = germany.332
	title = germany.332.t
	desc = germany.332.d
	picture = GFX_event_naval_producer
	
	is_triggered_only = yes
	
	option = {
		name = germany.332.a
		ai_chance = {
			base = 5
		}
		
		effect_tooltip = {
			FROM = {
				navy_experience = 30
			}
		
			171 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 758
					instant_build = yes
				}
			}
			58 = {
	    	remove_building = {
				type = dockyard
				level = 1
			}
			remove_building = {
				type = naval_base
				province = 6389
				level = 1
			}
		}
			
			FROM = {
				diplomatic_relation = {
					country = GER
					relation = docking_rights
					active = yes
				}
			}
		}
	}
}

country_event = {
	id = germany.333
	title = germany.333.t
	desc = germany.333.d
	picture = GFX_event_naval_producer
	
	is_triggered_only = yes
	
	option = {
		name = germany.333.a
		ai_chance = {
			base = 5
		}	
	}
}

country_event = { # Löwe
	id = germany.395
	title = germany.395.t
	desc = germany.395.d
	picture = GFX_report_event_lowe

	is_triggered_only = yes

	option = {
		name = germany.395.a
	} 
}

country_event = { # stug III ausf F TD
	id = germany.396
	title = germany.396.t
	desc = germany.396.d
	picture = GFX_report_event_stug_td

	is_triggered_only = yes

	option = {
		name = germany.396.a
	} 
}

country_event = { #hetzer
	id = germany.397
	title = germany.397.t
	desc = germany.397.d
	picture = GFX_report_event_Pz_hetzer

	is_triggered_only = yes

	option = {
		name = germany.397.a
	} 
}

country_event = { #pz iii
	id = germany.398
	title = germany.398.t
	desc = germany.398.d
	picture = GFX_report_event_Pz_III

	is_triggered_only = yes

	option = {
		name = germany.398.a
	} 
}


country_event = { #pz ii
	id = germany.399
	title = germany.399.t
	desc = germany.399.d
	picture = GFX_report_event_Pz_II

	is_triggered_only = yes

	option = {
		name = germany.399.a
	} 
}

country_event = { #The Tiger Tank
	id = germany.400
	title = germany.400.t
	desc = germany.400.d
	picture = GFX_news_event_tiger_iv

	is_triggered_only = yes

	option = {
		name = germany.400.a
	} 
}

country_event = { #The Wespe
	id = germany.401
	title = germany.401.t
	desc = germany.401.d
	picture = GFX_news_event_wespe

	is_triggered_only = yes

	option = {
		name = germany.401.a
	} 
}

country_event = { #Panzer IV
	id = germany.402
	title = germany.402.t
	desc = germany.402.d
	picture = GFX_event_ger_ss_panzer_iv

	is_triggered_only = yes

	option = {
		name = germany.402.a
	} 
}

country_event = { #Panzer V
	id = germany.403
	title = germany.403.t
	desc = germany.403.d
	picture = GFX_news_event_panther_v

	is_triggered_only = yes

	option = {
		name = germany.403.a
	} 
}

country_event = { #Stug III
	id = germany.404
	title = germany.404.t
	desc = germany.404.d
	picture = GFX_news_event_stug

	is_triggered_only = yes

	option = {
		name = germany.404.a
	} 
}

country_event = { # Panzer III
	id = germany.405
	title = germany.405.t
	desc = germany.405.d
	picture = GFX_event_ger_ss_panzer_iii

	is_triggered_only = yes

	option = {
		name = germany.405.a
	} 
}

country_event = { # Tiger II
	id = germany.406
	title = germany.406.t
	desc = germany.406.d
	picture = GFX_event_tiger_2

	is_triggered_only = yes

	option = {
		name = germany.406.a
	} 
}

# Poland conquered... victory parade!
country_event = {
	id = germany.407
	title = germany.407.t
	desc = germany.407.d
	picture = GFX_report_event_germany_victory
	
	fire_only_once = yes

	trigger = { #move to on_capitulation
		tag = GER
		POL = { has_capitulated = yes }
		OR = {
				87 = { is_controlled_by_ROOT_or_subject= yes }
				10 = { is_controlled_by_ROOT_or_subject= yes }
				86 = { is_controlled_by_ROOT_or_subject= yes }
				85 = { is_controlled_by_ROOT_or_subject= yes }
		}
	}	
	
	option = {
		ai_chance = {
			base = 10
		}
		add_war_support = 0.05
		name = germany.407.a
	}
}

country_event = {
	id = germany.408
	title =	germany.408.t
	desc = germany.408.d
	picture = GFX_report_event_german_railroad_repair_workers
	is_triggered_only = yes
	
	option = {
		name = germany.408.a
	}
}

country_event = { # cleanup after fall of france
	id = germany.4088
	title =	germany.408.t
	desc = germany.408.d
	is_triggered_only = yes
	hidden = yes
	
	immediate ={
		hidden_effect = {
		    if = { limit = { 635 = { CONTROLLER = { OR = { AND = { original_tag = FRA has_government = fascism } tag = GER is_in_faction_with = GER } } } }
                   FRA = { set_state_controller = 635 }
            }
			if = { limit = { 734 = { CONTROLLER = { OR = { AND = { original_tag = FRA has_government = fascism } tag = GER is_in_faction_with = GER } } } }
                   FRA = { set_state_controller = 734 }
            }
			if = { limit = { 641 = { CONTROLLER = { OR = { AND = { original_tag = FRA has_government = fascism } tag = GER is_in_faction_with = GER } } } }
                   FRA = { set_state_controller = 641 }
            }
			if = { limit = { 694 = { CONTROLLER = { OR = { AND = { original_tag = FRA has_government = fascism } tag = GER is_in_faction_with = GER } } } }
                   FRA = { set_state_controller = 694 }
            }
			if = { limit = { 310 = { CONTROLLER = { OR = { AND = { original_tag = FRA has_government = fascism } tag = GER is_in_faction_with = GER } } } }
                   FRA = { set_state_controller = 310 }
            }
			if = { limit = { 320 = { CONTROLLER = { OR = { AND = { original_tag = FRA has_government = fascism } tag = GER is_in_faction_with = GER } } } }
                   FRA = { set_state_controller = 320 }
            }
		}
	}
}

country_event = { # Maus
	id = germany.409
	title = germany.409.t
	desc = germany.409.d
	picture = GFX_report_event_maus

	is_triggered_only = yes

	option = {
		name = germany.409.a
	} 
}

country_event = { # tiger III
	id = germany.411
	title = germany.411.t
	desc = germany.411.d
	picture = GFX_report_event_maus # todo

	is_triggered_only = yes

	option = {
		name = germany.411.a
	} 
}

country_event = {
	id = germany.420
	title = germany.420.t
	desc = germany.420.d
	picture = GFX_generic_convoy

	is_triggered_only = yes

	option = {
		name = germany.420.a
		effect_tooltip = {
		BEL = {
		       send_equipment = {
					target = ENG
					type = convoy
					amount = 60
			    }
			    send_equipment = {
					target = USA
					type = convoy
					amount = 60
		    	}
			}
		}
	} 
}
country_event = {
	id = germany.421
	title = germany.420.t
	desc = germany.421.d
	picture = GFX_generic_convoy

	is_triggered_only = yes

	option = {
		name = germany.420.a
                hidden_effect = {
                if = { limit = { tag = GER }
                    every_state = {
			limit = {
				is_core_of = HOL
			}

					add_resistance = -8
                                        add_compliance = 12
                     }
                   }
                }
		effect_tooltip = {
		HOL = {
				send_equipment = {
					target = ENG
					type = convoy
					amount = 90
			    }
			    send_equipment = {
					target = USA
					type = convoy
					amount = 90
		    	}
				}
		}
	} 
}

country_event = {
	id = germany.422
	title = germany.420.t
	desc = germany.422.d
	picture = GFX_generic_convoy

	is_triggered_only = yes

	option = {
		name = germany.420.a
                hidden_effect = {
                if = { limit = { tag = GER }
                    every_state = {
			limit = {
				is_core_of = NOR
			}

					add_resistance = -5
                                        add_compliance = 10
                     }
                   }
                }
		effect_tooltip = {
		NOR = {
				send_equipment = {
					target = ENG
					type = convoy
					amount = 90
			    }
			    send_equipment = {
					target = USA
					type = convoy
					amount = 90
		    	}
				}
		}
	} 
}

country_event = {
	id = germany.423
	title = germany.420.t
	desc = germany.423.d
	picture = GFX_generic_convoy

	is_triggered_only = yes

	option = {
		name = germany.420.a
                hidden_effect = {
                if = { limit = { tag = GER }
                    every_state = {
			limit = {
				is_core_of = DEN
			}

					add_resistance = -10
                                        add_compliance = 15
                     }
                   }
                }
		effect_tooltip = {
		DEN = {
				send_equipment = {
					target = ENG
					type = convoy
					amount = 40
			    }
			    send_equipment = {
					target = USA
					type = convoy
					amount = 40
		    	}
				}
		}
	} 
}


#railway has wrong gauge!

country_event = {
	id = germany.700
	title = germany.700.t
	desc = germany.700.d
	picture = GFX_POL_bombed

	is_triggered_only = yes
	
	option = {
		name = germany.700.a
	}
}

country_event = {
	id = germany.424
	title = generic.30.t
	desc = generic.30.d
	
	picture = GFX_report_event_generic_science

	is_triggered_only = yes

	option = {
		name = excellent
		effect_tooltip = {
		    FROM = { add_to_tech_sharing_group = axis_research }
			add_to_tech_sharing_group = axis_research
		}
	}	
}
