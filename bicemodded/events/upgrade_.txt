add_namespace = upgrades_ai

country_event = {
	id = upgrades_ai.1
	hidden = yes
	
	mean_time_to_happen = { days = 2 }
	
	trigger = {
		is_ai = yes 
		has_tech = HVantiair2
		NOT = { has_country_flag = HVantiair2_u }
	}
	
	immediate = {
		if = {
			limit = { has_tech = HVantiair2 NOT = { has_tech = HVantiair3 } }
			create_equipment_variant = { 
				name = "Dual Purpose Gun 1" 
				type = HVanti_air_equipment_2
				upgrades = { 
					AT_ammo = 2
				}
			}
			army_experience = -55
		}
		set_country_flag = HVantiair2_u
	}
	option = { name = "YES" }
}



country_event = {
	id = upgrades_ai.2
	hidden = yes
	
	mean_time_to_happen = { days = 2 }
	
	trigger = {
		is_ai = yes 
		has_tech = HVantiair3
		NOT = { has_country_flag = HVantiair3_u }
	}
	
	immediate = {
		if = {
			limit = { has_tech = HVantiair3 NOT = { has_tech = HVantiair4 } }
			create_equipment_variant = { 
				name = "Dual Purpose Gun 2" 
				type = HVanti_air_equipment_3
				upgrades = { 
					AT_ammo = 2
				}
			}
			army_experience = -55
		}
		set_country_flag = HVantiair3_u
	}
	option = { name = "YES" }
}

country_event = {
	id = upgrades_ai.3
	hidden = yes
	
	mean_time_to_happen = { days = 2 }
	
	trigger = {
		is_ai = yes 
		has_tech = HVantiair4
		NOT = { has_country_flag = HVantiair4_u }
	}
	
	immediate = {
		if = {
			limit = { has_tech = HVantiair4 }
			create_equipment_variant = { 
				name = "Dual Purpose Gun 3" 
				type = HVanti_air_equipment_4
				upgrades = { 
					AT_ammo = 2
				}
			}
			army_experience = -55
		}
		set_country_flag = HVantiair4_u
	}
	option = { name = "YES" }
}


country_event = {
	id = upgrades_ai.4
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = GER
		is_ai = yes 
		has_tech = tech_panzer_iii_equipment_3
		NOT = { has_country_flag = panzer3_3_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_panzer_iii_equipment_3 NOT = { has_tech = tech_panzer_iii_equipment_4 } }
			create_equipment_variant = { 
				name = "Panzer III 3" 
				type = panzer_iii_equipment_3
				upgrades = { 
				    tank_sloped_upgrade = 1
					tank_reliability_upgrade = 1
				}
			}
			army_experience = -55
		}
		set_country_flag = panzer3_3_u
	}
	option = { name = "YES" }
}


country_event = {
	id = upgrades_ai.5
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = GER
		is_ai = yes 
		has_tech = tech_panzer_iii_equipment_4
		NOT = { has_country_flag = panzer3_4_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_panzer_iii_equipment_4 NOT = { has_tech = tech_panzer_iii_equipment_5 } }
			create_equipment_variant = { 
				name = "Panzer III 4" 
				type = panzer_iii_equipment_4
				upgrades = { 
				    tank_sloped_upgrade = 1
					tank_reliability_upgrade = 1
					tank_gun_upgrade = 1
				}
			}
			army_experience = -55
		}
		set_country_flag = panzer3_4_u
	}
	option = { name = "YES" }
}

country_event = {
	id = upgrades_ai.6
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = GER
		is_ai = yes 
		has_tech = tech_panzer_iii_equipment_5
		NOT = { has_country_flag = panzer3_5_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_panzer_iii_equipment_5 }
			create_equipment_variant = { 
				name = "Panzer III 5" 
				type = panzer_iii_equipment_5
				upgrades = { 
				    tank_sloped_upgrade = 1
					tank_reliability_upgrade = 1
					tank_gun_upgrade = 1
				}
			}
			army_experience = -55
		}
		set_country_flag = panzer3_5_u
	}
	option = { name = "YES" }
}


country_event = {
	id = upgrades_ai.7
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_t_34_a
		NOT = { has_country_flag = t_34_a_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_t_34_a NOT = { has_tech = tech_t_34_c } }
			create_equipment_variant = { 
				name = "t34 a" 
				type = t_34_equipment_1
				upgrades = { 
				    tank_sloped_upgrade = 2
				}
			}
			army_experience = -55
		}
		set_country_flag = t_34_a_u
	}
	option = { name = "YES" }
}

country_event = {
	id = upgrades_ai.8
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_t_34_c
		NOT = { has_country_flag = t_34_c_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_t_34_c NOT = { has_tech = tech_t_34_d } }
			create_equipment_variant = { 
				name = "t34 c" 
				type = t_34_equipment_3
				upgrades = { 
				    tank_sloped_upgrade = 2
					tank_reliability_upgrade = 1
				}
			}
			army_experience = -85
		}
		set_country_flag = t_34_c_u
	}
	option = { name = "YES" }
}

country_event = {
	id = upgrades_ai.9
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_t_34_d
		NOT = { has_country_flag = t_34_d_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_t_34_d NOT = { has_tech = tech_t_44_a} }
			create_equipment_variant = { 
				name = "t34 d" 
				type = t_34_equipment_4
				upgrades = { 
				    tank_sloped_upgrade = 2
					tank_reliability_upgrade = 1
				}
			}
			army_experience = -85
		}
		set_country_flag = t_34_d_u
	}
	option = { name = "YES" }
}

country_event = {
	id = upgrades_ai.10
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_t_34_d
		NOT = { has_country_flag = t_34_d_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_t_34_d NOT = { has_tech = tech_t_44_a } }
			create_equipment_variant = { 
				name = "t34 d" 
				type = t_34_equipment_4
				upgrades = { 
				    tank_sloped_upgrade = 2
					tank_reliability_upgrade = 1
				}
			}
			army_experience = -85
		}
		set_country_flag = t_34_d_u
	}
	option = { name = "YES" }
}


country_event = {
	id = upgrades_ai.11
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_t_44_a
		NOT = { has_country_flag = t_44_a_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_t_44_a  }
			create_equipment_variant = { 
				name = "t44 a" 
				type = t_44_equipment_1 
				upgrades = { 
				    tank_sloped_upgrade = 2
					tank_reliability_upgrade = 1
				}
			}
			army_experience = -85
		}
		set_country_flag = t_44_a_u
	}
	option = { name = "YES" }
}




country_event = {
	id = upgrades_ai.12
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_kv_tank_a
		NOT = { has_country_flag = kv_a_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_kv_tank_a NOT = { has_tech = tech_kv_tank_c } }
			create_equipment_variant = { 
				name = "kv a" 
				type = kv_tank_equipment_1 
				upgrades = { 
				    tank_sloped_upgrade = 1
					tank_reliability_upgrade = 1
				}
			}
			army_experience = -55
		}
		set_country_flag = kv_a_u
	}
	option = { name = "YES" }
}


country_event = {
	id = upgrades_ai.13
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_kv_tank_c
		NOT = { has_country_flag = kv_c_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_kv_tank_c NOT = { has_tech = tech_is_tank_a } }
			create_equipment_variant = { 
				name = "kv c" 
				type = kv_tank_equipment_2
				upgrades = { 
				    tank_sloped_upgrade = 1
					tank_reliability_upgrade = 1
					tank_engine_upgrade = 1
				}
			}
			army_experience = -85
		}
		set_country_flag = kv_c_u
	}
	option = { name = "YES" }
}



country_event = {
	id = upgrades_ai.14
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_is_tank_a
		NOT = { has_country_flag = is_a_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_is_tank_a NOT = { has_tech = tech_is_tank_b } }
			create_equipment_variant = { 
				name = "is a" 
				type = is_tank_equipment_1 
				upgrades = { 
				    tank_sloped_upgrade = 1
					tank_reliability_upgrade = 1
					tank_engine_upgrade = 1
				}
			}
			army_experience = -85
		}
		set_country_flag = is_a_u
	}
	option = { name = "YES" }
}

country_event = {
	id = upgrades_ai.15
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_is_tank_b
		NOT = { has_country_flag = is_b_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_is_tank_b NOT = { has_tech = tech_is_tank_c } }
			create_equipment_variant = { 
				name = "is b" 
				type = is_tank_equipment_2 
				upgrades = { 
				    tank_sloped_upgrade = 1
					tank_reliability_upgrade = 1
					tank_engine_upgrade = 1
				}
			}
			army_experience = -85
		}
		set_country_flag = is_b_u
	}
	option = { name = "YES" }
}

country_event = {
	id = upgrades_ai.16
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
	    tag = SOV
		is_ai = yes 
		has_tech = tech_is_tank_c
		NOT = { has_country_flag = is_c_u }
	}
	immediate = {
		if = {
			limit = { has_tech = tech_is_tank_c }
			create_equipment_variant = { 
				name = "is c" 
				type = is_tank_equipment_3 
				upgrades = { 
				    tank_sloped_upgrade = 1
					tank_reliability_upgrade = 1
					tank_engine_upgrade = 1
				}
			}
			army_experience = -85
		}
		set_country_flag = is_c_u
	}
	option = { name = "YES" }
}




country_event = {
	id = upgrades_ai.17
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
		is_ai = yes 
		num_of_military_factories > 30
		has_tech = artillery1
		NOT = { has_country_flag = art1_u }
	}
	immediate = {
		if = {
			limit = { has_tech = artillery1 NOT = { has_tech = artillery4 } }
			create_equipment_variant = { 
				name = "Artillery 1938" 
				type = artillery_equipment_1
				upgrades = { 
				  propellant_charge = 1
				}
			}
			army_experience = -20
		}
		set_country_flag = art1_u
	}
	option = { name = "YES" }
}


country_event = {
	id = upgrades_ai.18
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
		is_ai = yes 
		num_of_military_factories > 35
		has_tech = artillery4
		NOT = { has_country_flag = art4_u }
	}
	immediate = {
		if = {
			limit = { has_tech = artillery4 NOT = { has_tech = artillery5 } }
			create_equipment_variant = { 
				name = "Artillery 1942" 
				type = artillery_equipment_2
				upgrades = { 
				  propellant_charge = 1
				}
			}
			army_experience = -20
		}
		set_country_flag = art4_u
	}
	option = { name = "YES" }
}


country_event = {
	id = upgrades_ai.19
	hidden = yes
	mean_time_to_happen = { days = 2 }
	trigger = {
		is_ai = yes 
		num_of_military_factories > 40
		has_tech = artillery5
		NOT = { has_country_flag = art5_u }
	}
	immediate = {
		if = {
			limit = { has_tech = artillery5 }
			create_equipment_variant = { 
				name = "Artillery 1945" 
				type = artillery_equipment_3
				upgrades = { 
				  propellant_charge = 2
				}
			}
			army_experience = -55
		}
		set_country_flag = art5_u
	}
	option = { name = "YES" }
}