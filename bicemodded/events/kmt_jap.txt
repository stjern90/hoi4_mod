###########################
# jap Events
###########################


add_namespace = jap

			###############
			###KMT EVENT###
			###############

#226
country_event = {
	id = jap.1
	title = jap.1.t
	desc = jap.1.d
	picture = GFX_report_event_japanese_officers

	trigger = {
		tag = JAP
		has_government = fascism
		date > 1936.2.25
		date < 1939.1.1
	}
	
	fire_only_once = yes
	
	option = {
		ai_chance = { 
			factor = 85
			modifier = {
				is_historical_focus_on = no
				factor = 60
			}
		}
		name = jap.1.a
		add_popularity = {
			ideology = neutrality
			popularity = -0.40
		}
		add_ideas = JAP_toseiha_idea
		hidden_effect = {
			add_country_leader_trait = JAP_toseiha_trait
		}
	}
	
	option = {
		ai_chance = { 
			factor = 15
			modifier = {
				is_historical_focus_on = no
				factor = 40
			}
		}
		name = jap.1.b
		set_party_name = { ideology = fascism long_name = JAP_kodoha name = JAP_kodoha }
		set_party_name = { ideology = neutrality long_name = JAP_toseiha name = JAP_toseiha }
		add_popularity = {
			ideology = neutrality
			popularity = -0.40
		}
		add_ideas = JAP_kodoha_idea
		hidden_effect = {
			add_country_leader_trait = JAP_kodoha_trait
		}
	}
}

#taiseiyokusankai
country_event = {
	id = jap.2
	title = jap.2.t
	desc = jap.2.d
	picture = GFX_report_event_generic_sign_treaty2

	trigger = {
		tag = JAP
		has_government = fascism
		fascism > 0.7
		date > 1940.10.6
	}
	
	mean_time_to_happen = { days = 6 }
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			set_party_name = { ideology = fascism long_name = JAP_taiseiyokusankai name = JAP_taiseiyokusankai }
		}
	}
	
	option = {
		name = jap.2.a
		effect_tooltip = {
			set_party_name = { ideology = fascism long_name = JAP_taiseiyokusankai name = JAP_taiseiyokusankai }
		}
	}
}


#setup wjw
country_event = {
	id = jap.10
	hidden = yes
	
	is_triggered_only = yes
	
	immediate = {
		every_state = {
			limit = {
				controller = {
					has_offensive_war_with = CHI
				}
				owner = {
					OR = {
						tag = CHI
						tag = PRC
						tag = SHX
						tag = GXC
						tag = XSM
						tag = YUN
					}
				}
			}
			random_country = {
				limit = { 
					original_tag = CHI
					has_government = fascism
					is_puppet_of = JAP
				}
				set_state_controller = PREV
			}
		}
		CHI = {
			create_country_leader = {
				name = "Dai Li"
				desc = "POLITICS_DAI_LI_DESC"
				picture = "gfx/leaders/kmt_mod/Portrait_Dai_Li.dds"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
					#
				}
			}
		}
		random_country = {
			limit = { 
				original_tag = CHI
				has_government = fascism
			}
			create_country_leader = {
				name = "Wang Jingwei"
				desc = "POLITICS_WANG_JINGWEI_DESC"
				picture = "gfx/leaders/kmt_mod/Portrait_Wang_Jingwei.dds"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
					#
				}
			}
			set_country_flag = JAP_puppet
			set_party_name = { ideology = fascism long_name = KMT_wjw name = KMT_wjw }
			add_country_leader_trait = low_legitimacy
			remove_ideas = incompetent_industry_real
			remove_ideas = incompetent_industry_fake_navy
			remove_ideas = incompetent_industry_real_navy
			remove_ideas = incompetent_industry_real_2_navy
			remove_ideas = incompetent_industry_real_3_navy
			remove_ideas = incompetent_industry_real_4_navy
			remove_ideas = incompetent_industry_real_5_navy
			remove_ideas = KMT_warlord_cliques_pre_war
			remove_ideas = KMT_warlord_cliques_war
			remove_ideas = KMT_warlord_cliques_3
			remove_ideas = KMT_warlord_cliques_2
			remove_ideas = KMT_warlord_cliques_1
			remove_ideas = public_iliteracy
			remove_ideas = public_iliteracy_2
			remove_ideas = KMT_propaganda
			remove_ideas = KMT_propaganda_busted
			remove_ideas = KMT_science_funding
			remove_ideas = KMT_national_institute_ns
			remove_ideas = KMT_government_reforming
			remove_ideas = KMT_strengthening_the_republic
			remove_ideas = KMT_into_democracy
			remove_ideas = KMT_into_fascism
			remove_ideas = KMT_stay_non_aligned
			remove_ideas = KMT_into_mao
			remove_ideas = KMT_central_power
			remove_ideas = KMT_despotism
			remove_ideas = KMT_parliament
			remove_ideas = KMT_universal_sufferage_ns
			remove_ideas = KMT_people_knowledge
			remove_ideas = KMT_westernization_ns
			remove_ideas = KMT_firm_belief
			remove_ideas = KMT_militarism
			remove_ideas = KMT_empire_plan
			remove_ideas = KMT_war_propaganda_idea
			remove_ideas = KMT_war_propaganda_idea_2
			remove_ideas = KMT_military_first_idea
			remove_ideas = KMT_privilege_to_proletarians_idea
			remove_ideas = KMT_war_fanaticism_idea
			remove_ideas = KMT_rear
			remove_ideas = KMT_lure_them_in
			remove_ideas = KMT_chennault
			remove_ideas = kmt_military_youth
			remove_ideas = kmt_dare_to_die_corps_idea
			remove_ideas = kmt_national_treasure_ransacked
			remove_ideas = kmt_defend_the_treasures
			remove_ideas = KMT_jinyuanquan_inflation
			remove_ideas = KMT_effective_integration
			remove_ideas = KMT_focus_on_own_army
			remove_ideas = KMT_sino_german_joint_research
			remove_ideas = KMT_sov_military_advisors
			remove_ideas = german_advisors
			remove_ideas = CHI_communist_uprisings
			remove_ideas = KMT_sichuan_famine_no_aid
			remove_ideas = KMT_sichuan_famine_aid
			remove_ideas = KMT_no_aid_famine_comm
			remove_ideas = KMT_no_aid_famine_fasc
			remove_ideas = KMT_no_aid_famine_demo
			remove_ideas = KMT_aid_famine
			add_ideas = KMT_jap_military_advisors
			if = {
				limit = {
					PRC = {
						has_completed_focus = PRC_front_line_behind_enemy_line
					}
				}
				add_ideas = PRC_enemy_partisan
			}
			JAP = {
				set_autonomy = {
					target = PREV
					autonomous_state = autonomy_puppet
				}
			}
			diplomatic_relation = {
				relation = military_access
				country = MAN
				active = yes
			}
			diplomatic_relation = {
				relation = military_access
				country = MEN
				active = yes
			}
			MAN = {
				diplomatic_relation = {
					relation = military_access
					country = PREV
					active = yes
				}
			}
			MEN = {
				diplomatic_relation = {
					relation = military_access
					country = PREV
					active = yes
				}
			}
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = CHI
					is_core_of = PRC
				}
				owner = {
					NOT = {
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
					}
				}
			}
			random_country = {
				limit = {
					original_tag = CHI
					has_government = fascism
					is_puppet_of = JAP
				}
				add_state_core = PREV
			}
		}
		every_state = {
			limit = {
				controller = {
					has_offensive_war_with = CHI
				}
				owner = {
					OR = {
						tag = CHI
						tag = PRC
						tag = SHX
						tag = GXC
						tag = XSM
						tag = YUN
					}
				}
			}
			random_country = {
				limit = { 
					original_tag = CHI
					has_government = fascism
					is_puppet_of = JAP
				}
				set_state_controller = PREV
			}
		}
	}
	
	option = {
	}
}

#puyi coronation
country_event = {
	id = jap.11
	title = jap.11.t
	desc = jap.11.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes
	
	option = {
		name = jap.11.a
		ai_chance = {
			factor = 100
			modifier = {
				OR = {
					has_war_with_amount > 2
					any_other_country = {
						has_war_with = ROOT
						is_major = yes
					}
				}
				factor = 15
			}
		}
		JAP = {
			declare_war_on = {
				target = MAN
				type = puppet_wargoal_focus
			}
		}
	}
	
	option = {
		ai_chance = {
			factor = 0
			modifier = {
				OR = {
					has_war_with_amount > 2
					any_other_country = {
						has_war_with = ROOT
						is_major = yes
					}
				}
				factor = 85
			}
		}
		name = jap.11.b
		add_political_power = -250
		add_stability = -0.1
	}
}

#assassinations
country_event = {
	id = jap.12
	title = jap.12.t
	desc = jap.12.d
	picture = GFX_report_event_japanese_officers

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			remove_unit_leader = 2001
			remove_unit_leader = 2002
			remove_unit_leader = 2003
			remove_unit_leader = 2004
		}
	}
	
	option = {
		name = jap.11.a
		effect_tooltip = {
			remove_unit_leader = 2001
			remove_unit_leader = 2002
			remove_unit_leader = 2003
			remove_unit_leader = 2004
		}
	}
}

#seek support independence
country_event = {
	id = jap.13
	title = jap.13.t
	desc = jap.13.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	option = {
		name = jap.13.a
		ai_chance = {
			factor = 30
			modifier = {
				is_historical_focus_on = no
				factor = 45
			}
		}
		FROM = {
			country_event = { id = jap.14 }
			set_country_flag = independence_supported
		}
	}
	
	option = {
		name = jap.13.b
		ai_chance = {
			factor = 70
			modifier = {
				is_historical_focus_on = no
				factor = 55
			}
		}
		FROM = {
			country_event = { id = jap.15 }
		}
	}
}

#seek support independence - yes
country_event = {
	id = jap.14
	title = jap.14.t
	desc = jap.14.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						tag = SOV
					}
				}
				add_ideas = MCK_communist_influence
			}
			if = {
				limit = {
					FROM = {
						tag = USA
					}
				}
				add_ideas = MCK_democratic_influence
			}
			FROM = {
				give_guarantee = MAN
			}
		}
	}
	
	option = {
		name = jap.14.a
		effect_tooltip = {
			if = {
				limit = {
					FROM = {
						tag = SOV
					}
				}
				add_ideas = MCK_communist_influence
			}
			if = {
				limit = {
					FROM = {
						tag = USA
					}
				}
				add_ideas = MCK_democratic_influence
			}
			FROM = {
				give_guarantee = MAN
			}
		}
	}
}

#seek support independence - no
country_event = {
	id = jap.15
	title = jap.15.t
	desc = jap.15.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	option = {
		name = jap.15.a
	}
}

#mck wants us to act now
country_event = {
	id = jap.16
	title = jap.16.t
	desc = jap.16.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = jap.16.a
		ai_chance = {
			factor = 100
			modifier = {
				has_war_with_amount > 3
				factor = 10
			}
		}
		JAP = {
			country_event = { id = jap.17 days = 1 }
		}
	}
	
	option = {
		name = jap.16.b
		ai_chance = {
			factor = 0
			modifier = {
				has_war_with_amount > 3
				factor = 90
			}
		}
		MAN = {
			country_event = { id = jap.18 days = 1 }
		}
	}
	
	option = {
		name = jap.16.c
		ai_chance = {
			factor = 0
		}
		declare_war_on = {
			target = JAP
			type = puppet_wargoal_focus
		}
	}
}

#usa ultimatum
country_event = {
	id = jap.17
	title = jap.17.t
	desc = jap.17.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = jap.17.a
		set_global_flag = JAP_grant_MCK_independence
		ai_chance = {
			factor = 10
			modifier = {
				has_war_with_amount > 3
				factor = 90
			}
		}
		end_puppet = MAN
		hidden_effect = {
			USA = {
				puppet = MAN
				end_puppet = MAN
			}
		}
		USA = {
			country_event = { id = jap.19 }
		}
		MAN = {
			country_event = { id = jap.20 }
			hidden_effect = {
				if = {
					limit = {
						has_idea = MCK_dongbei_partisan
					}
					remove_ideas = MCK_dongbei_partisan
				}
				if = {
					limit = {
						has_idea = MCK_dongbei_partisan_pacified
					}
					remove_ideas = MCK_dongbei_partisan_pacified
				}
			}
		}
	}
	
	option = {
		name = jap.17.b
		ai_chance = {
			factor = 90
			modifier = {
				has_war_with_amount > 3
				factor = 10
			}
		}
		USA = {
			country_event = { id = jap.21 }
			declare_war_on = {
				target = JAP
				type = puppet_wargoal_focus
			}
		}
	}
}

#usa says not yet time
country_event = {
	id = jap.18
	title = jap.18.t
	desc = jap.18.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = jap.18.a
	}
}

#jap release mck
country_event = {
	id = jap.19
	title = jap.19.t
	desc = jap.19.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = jap.19.a
	}
}

#jap release us
country_event = {
	id = jap.20
	title = jap.20.t
	desc = jap.20.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	option = {
		name = jap.20.a
		effect_tooltip = {
			JAP = {
				end_puppet = MAN
			}
			every_other_country = {
				limit = {
					has_war_with = MAN
				}
				white_peace = MAN
			}
		}
	}
}

#jap refuses, declare war
country_event = {
	id = jap.21
	title = jap.21.t
	desc = jap.21.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			declare_war_on = {
				target = JAP
				type = puppet_wargoal_focus
			}
		}
	}
	
	option = {
		name = jap.21.a
		effect_tooltip = {
			declare_war_on = {
				target = JAP
				type = puppet_wargoal_focus
			}
		}
	}
}

#join usa!
country_event = {
	id = jap.22
	title = jap.22.t
	desc = jap.22.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			JAP = {
				country_event = { id = jap.23 }
			}
		}
	}
	
	option = {
		name = jap.22.a
		effect_tooltip = {
			JAP = {
				end_puppet = MAN
			}
			add_to_war = {
				targeted_alliance = USA
				enemy = JAP
			}
		}
	}
}

#mck joined usa!
country_event = {
	id = jap.23
	title = jap.23.t
	desc = jap.23.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes
	
	option = {
		name = jap.23.a
		effect_tooltip = {
			end_puppet = MAN
			MAN = {
				add_to_war = {
					targeted_alliance = USA
					enemy = JAP
				}
			}
		}
	}
}

#become qing vassal?
country_event = {
	id = jap.28
	title = jap.28.t
	desc = jap.28.d
	
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	option = {
		name = jap.28.a
		ai_chance = { 
			factor = 100	
			modifier = {
				MAN = {
					any_war_score < 0.3
				}
				factor = 50
			}
			modifier = {
				is_in_faction = yes
				factor = 20
			}
		}
		MAN = {
			puppet = ROOT
			country_event = { id = jap.29 }
		}
		if = {
			limit = {
				ROOT = { tag = SIA }
			}
			add_state_core = 741
			add_state_core = 670
			add_state_core = 640
		}
	}
	
	option = {
		name = jap.28.b
		MAN = {
			country_event = { id = jap.30 }
			create_wargoal = {
				target = ROOT
				type = puppet_wargoal_focus
			}
		}
		add_stability = 0.05
	}
}

#yes
country_event = {
	id = jap.29
	title = jap.29.t
	desc = jap.29.d
	
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = jap.29.a
		effect_tooltip = {
			puppet = FROM
		}
	}
	
	option = {
		name = jap.29.b
		trigger = {
			any_state = {
				is_core_of = MAN
				is_owned_by = FROM
			}
		}
		annex_country = {
			target = FROM
			transfer_troops = yes
		}
	}
}

#no
country_event = {
	id = jap.30
	title = jap.30.t
	desc = jap.30.d
	
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = jap.30.a
		effect_tooltip = {
			create_wargoal = {
				target = FROM
				type = puppet_wargoal_focus
			}
		}
	}
}

#mck wants kantoshu
country_event = {
	id = jap.31
	title = jap.31.t
	desc = jap.31.d
	
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	
	option = {
		name = jap.31.a
		MAN = {
			transfer_state = 750
			add_state_core = 750
			country_event = { id = jap.32 }
		}
	}
	
	option = {
		name = jap.31.b
		MAN = {
			transfer_state = 750
			add_state_core = 750
			country_event = { id = jap.33 }
		}
	}
}

#関東州 yes
country_event = {
	id = jap.32
	title = jap.32.t
	desc = jap.32.d
	
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	
	option = {
		name = jap.32.a
		effect_tooltip = {
			transfer_state = 750
			add_state_core = 750
		}
	}
}

#関東州 no
country_event = {
	id = jap.33
	title = jap.33.t
	desc = jap.33.d
	
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	
	option = {
		name = jap.33.a
	}
}

#naval expansion permission
country_event = {
	id = jap.34
	title = jap.34.t
	desc = jap.34.d
	
	picture = GFX_report_event_usa_destroyers
	
	is_triggered_only = yes
	
	option = {
		name = jap.31.a
		MAN = {
			country_event = { id = jap.35 }
		}
	}
	
	option = {
		name = jap.31.b
		MAN = {
			country_event = { id = jap.36 }
		}
	}
}

#naval expansion permission yes
country_event = {
	id = jap.35
	title = jap.35.t
	desc = jap.35.d
	
	picture = GFX_report_event_usa_destroyers
	
	is_triggered_only = yes
	
	option = {
		name = jap.32.a
		set_country_flag = MCK_navy_allowed
	}
}

#naval expansion permission no
country_event = {
	id = jap.36
	title = jap.36.t
	desc = jap.36.d
	
	picture = GFX_report_event_usa_destroyers
	
	is_triggered_only = yes
	
	option = {
		name = jap.33.a
	}
}

#xuantung restoration - 1
country_event = {
	id = jap.37
	title = jap.37.t
	desc = jap.37.d
	
	picture = GFX_report_event_generic_factory
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.1
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_1
			}
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
}

#xuantung restoration - 2
country_event = {
	id = jap.38
	title = jap.37.t
	desc = jap.38.d
	
	picture = GFX_report_event_generic_factory
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.2
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 3
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				set_state_flag = MCK_xt_2
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_1
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}
}

#xuantung restoration - 3
country_event = {
	id = jap.39
	title = jap.37.t
	desc = jap.39.d
	
	picture = GFX_report_event_generic_research_lab
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.3
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_3_ic
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_3_af
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = electronics
			}
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_3_ic
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_3_af
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = electronics
			}
		}
	}
}

#xuantung restoration - 4
country_event = {
	id = jap.40
	title = jap.40.t
	desc = jap.40.d
	
	picture = GFX_report_event_generic_lend_lease
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.4
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_4_1
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_4_2
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_4_1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_4_2
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
		}
	}
}

#xuantung restoration - 5
country_event = {
	id = jap.41
	title = jap.40.t
	desc = jap.41.d
	
	picture = GFX_report_event_british_artillery
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.5
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_5_af
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_5_dy
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = artillery
			}
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_5_af
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_5_dy
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_5_dy
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = artillery
			}
		}
	}
}

#xuantung restoration - 6
country_event = {
	id = jap.42
	title = jap.42.t
	desc = jap.42.d
	
	picture = GFX_report_event_destroyers
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.6
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_6
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_6
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = MCK_xt_6
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
		}
	}
}

#xuantung restoration - 7
country_event = {
	id = jap.43
	title = jap.43.t
	desc = jap.43.d
	
	picture = GFX_report_event_ast_navy
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.7
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = MCK_xt_7_dy
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = MCK_xt_7_ab
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_7_dy
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_7_ab
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
}

#xuantung restoration - 8
country_event = {
	id = jap.44
	title = jap.43.t
	desc = jap.44.d
	
	picture = GFX_report_event_airplane_factory
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.8
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = MCK_xt_8_ic
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 3
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				set_state_flag = MCK_xt_8_ab_1
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 3
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				set_state_flag = MCK_xt_8_ab_2
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = air_equipment
			}
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_8_ic
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_8_ab_1
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_8_ab_2
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = air_equipment
			}
		}
	}
}

#xuantung restoration - 9
country_event = {
	id = jap.45
	title = jap.45.t
	desc = jap.45.d
	
	picture = GFX_report_event_physics_lab_01
	
	trigger = {
		tag = MAN
		focus_progress = {
			progress > 0.9
			focus = MCK_xuantong_restoration
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = MCK_xt_9_ic
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = MCK_xt_9_af
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = MCK_xt_9_dy
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 3
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
				set_state_flag = MCK_xt_9_ab
			}
			if = {
				limit = {
					618 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 8
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 9
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 11
						state = 618
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 25
						state = 618
					}
				}
			}
			if = {
				limit = {
					617 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 617
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 617
					}
				}
			}
			if = {
				limit = {
					619 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 619
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 619
					}
				}
			}
			if = {
				limit = {
					287 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 287
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 7
						state = 287
					}
				}
			}
			if = {
				limit = {
					714 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 9
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 11
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 13
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 16
						state = 714
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 18
						state = 714
					}
				}
			}
			add_research_slot = 1
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_9_ic
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_9_af
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_9_dy
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_9_ab
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			if = {
				limit = {
					618 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 7
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 8
						state = 618
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 9
						state = 618
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 10
						state = 618
					}
				}
			}
			if = {
				limit = {
					617 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 617
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 617
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 617
					}
				}
			}
			if = {
				limit = {
					619 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 619
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 619
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 619
					}
				}
			}
			if = {
				limit = {
					287 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 1
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 2
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 3
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 287
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 4
						state = 287
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 5
						state = 287
					}
				}
			}
			if = {
				limit = {
					714 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = oil
						amount = 6
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = oil
						amount = 7
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = oil
						amount = 8
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = oil
						amount = 9
						state = 714
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = oil
						amount = 10
						state = 714
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = oil
						amount = 12
						state = 714
					}
				}
			}
			add_research_slot = 1
		}
	}
}

#xuantung restoration - 10
country_event = {
	id = jap.46
	title = jap.46.t
	desc = jap.45.d
	
	picture = GFX_report_event_physics_lab_02
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = MCK_xt_10_dy
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = MAN
					free_building_slots = {
						building = air_base
						size > 3
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
				set_state_flag = MCK_xt_10_ab
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 4
				category = industry
				category = electronics
				category = infantry_weapons
				category = artillery
				category = naval_equipment
				category = air_equipment
			}
			if = {
				limit = {
					609 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = steel
						amount = 10
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}			
					add_resource = {
						type = steel
						amount = 15
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = steel
						amount = 20
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = steel
						amount = 25
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = steel
						amount = 30
						state = 609
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = steel
						amount = 35
						state = 609
					}
				}
			}
			if = {
				limit = {
					715 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 1
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 2
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 9
						state = 715
					}
				}
			}
			if = {
				limit = {
					328 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}			
					add_resource = {
						type = chromium
						amount = 4
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 5
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 328
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 328
					}
				}
			}
			if = {
				limit = {
					717 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 4
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 8
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}	
					add_resource = {
						type = chromium
						amount = 10
						state = 717
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 11
						state = 717
					}
				}
			}
			if = {
				limit = {
					602 = {
						is_owned_by = ROOT
					}
				}
				add_resource = {
					type = tungsten
					amount = 4
					state = 602
				}
			}
			if = {
				limit = {
					616 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 4
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 6
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 616
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 7
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 6
						state = 616
					}
				}
			}
			if = {
				limit = {
					604 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 604
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 604
					}
				}
			}
			add_research_slot = 1
		}
	}
	
	option = {
		name = jap.37.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MCK_xt_10_dy
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = MCK_xt_10_ab
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 4
				category = industry
				category = electronics
				category = infantry_weapons
				category = artillery
				category = naval_equipment
				category = air_equipment
			}
			if = {
				limit = {
					609 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = steel
						amount = 10
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}			
					add_resource = {
						type = steel
						amount = 15
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = steel
						amount = 20
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}		
					add_resource = {
						type = steel
						amount = 25
						state = 609
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = steel
						amount = 30
						state = 609
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = steel
						amount = 35
						state = 609
					}
				}
			}
			if = {
				limit = {
					715 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 1
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 2
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 715
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 715
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 9
						state = 715
					}
				}
			}
			if = {
				limit = {
					328 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}		
					add_resource = {
						type = chromium
						amount = 3
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}			
					add_resource = {
						type = chromium
						amount = 4
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 5
						state = 328
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 328
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 7
						state = 328
					}
				}
			}
			if = {
				limit = {
					717 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}		
					add_resource = {
						type = chromium
						amount = 2
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = chromium
						amount = 4
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}		
					add_resource = {
						type = chromium
						amount = 6
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = chromium
						amount = 8
						state = 717
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}	
					add_resource = {
						type = chromium
						amount = 10
						state = 717
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}		
					add_resource = {
						type = chromium
						amount = 12
						state = 717
					}
				}
			}
			if = {
				limit = {
					602 = {
						is_owned_by = ROOT
					}
				}
				add_resource = {
					type = tungsten
					amount = 4
					state = 602
				}
			}
			if = {
				limit = {
					616 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 4
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 616
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 6
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 616
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 7
						state = 616
					}
					add_resource = {
						type = chromium
						amount = 6
						state = 616
					}
				}
			}
			if = {
				limit = {
					604 = {
						is_owned_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = {
							has_tech = excavation1
							has_tech = excavation2
							has_tech = excavation3
							has_tech = excavation4
							has_tech = excavation5
						}
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_1 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 1
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 1
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_2 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 2
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_3 = yes
					}	
					add_resource = {
						type = aluminium
						amount = 3
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 3
						state = 604
					}
				}
				if = {
					limit = {
						check_for_excavation_4 = yes
					}
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 4
						state = 604
					}
				}
				if = {
					limit = {
						has_tech = excavation1
						has_tech = excavation2
						has_tech = excavation3
						has_tech = excavation4
						has_tech = excavation5
					}	
					add_resource = {
						type = aluminium
						amount = 5
						state = 604
					}
					add_resource = {
						type = chromium
						amount = 5
						state = 604
					}
				}
			}
			add_research_slot = 1
		}
	}
}

#rfp request to fight soviet
country_event = {
	id = jap.47
	title = jap.47.t
	desc = jap.47.d
	
	picture = GFX_report_event_stalin_propaganda
	
	trigger = {
		tag = MAN
		is_puppet = no
		has_idea = MCK_rfr_supporters
		has_capitulated = no
		NOT = {
			has_war_with = JAP
			has_war_with = SOV
			has_war_together_with = SOV
		}
		SOV = {
			NOT = {
				has_government = fascism
			}
		}
		threat > 0.5
	}
	
	mean_time_to_happen = { days = 90 }
	
	fire_only_once = yes
	
	option = {
		name = jap.47.a
		SOV = {
			start_civil_war = {
				ideology = fascism
				capital = 408
				states = { 408 409 560 657 655 537 561 563 }
			}
		}
		random_country = {
			limit = {
				original_tag = SOV
				has_government = fascism
			}
			create_faction = rfp_white_movement
			add_to_faction = MAN
			MAN = {
				add_to_war = {
					targeted_alliance = PREV
					enemy = SOV
				}
			}
			add_timed_idea = {
				idea = MCK_RFP_white_movement
				days = 1700
			}
			add_ideas = {
				service_by_requirement
				war_economy
				closed_economy
			}
			hidden_effect = {
				load_oob = "RFP_anti_bolshelvik"
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 3000 producer = MAN }
				if = {
					limit = {
						MAN = {
							has_tech = infantry_weapons
							NOT = {
								has_tech = infantry_weapons1
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 6000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = infantry_weapons1
							NOT = {
								has_tech = improved_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 6000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = improved_infantry_weapons
							NOT = {
								has_tech = advanced_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 6000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = advanced_infantry_weapons
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 6000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = gw_artillery
							NOT = {
								has_tech = artillery1
							}
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 600 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = artillery1
							NOT = {
								has_tech = artillery4
							}
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_2 amount = 600 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = artillery4
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_3 amount = 600 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = motorised_infantry
						}
					}
					add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 2500 producer = MAN }
				}
			}
		}
		remove_ideas = MCK_rfr_supporters
		hidden_effect = {
			408 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			563 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			409 = {
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	option = {
		name = jap.47.b
		custom_effect_tooltip = MCK_10_t_prepare_tt
		hidden_effect = {
			country_event = { id = jap.56 days = 366 }
		}
	}
	
	option = {
		name = jap.47.c
		custom_effect_tooltip = MCK_rfp_rise_tt
		set_country_flag = MCK_deny_rfp_request
		remove_ideas = MCK_rfr_supporters
	}
}

#rfp request to fight soviet
country_event = {
	id = jap.48
	title = jap.47.t
	desc = jap.48.d
	
	picture = GFX_report_event_stalin_propaganda
	
	is_triggered_only = yes
	
	option = {
		name = jap.47.a
		SOV = {
			start_civil_war = {
				ideology = fascism
				capital = 408
				states = { 408 409 560 657 655 537 561 563 }
			}
		}
		random_country = {
			limit = {
				original_tag = SOV
				has_government = fascism
			}
			create_faction = rfp_white_movement
			add_to_faction = MAN
			MAN = {
				add_to_war = {
					targeted_alliance = PREV
					enemy = SOV
				}
			}
			add_timed_idea = {
				idea = MCK_RFP_white_movement
				days = 1700
			}
			hidden_effect = {
				load_oob = "RFP_anti_bolshelvik"
			}
		}
		remove_ideas = MCK_rfr_supporters
	}
	
	option = {
		name = jap.47.c
		custom_effect_tooltip = MCK_rfp_rise_tt
		set_country_flag = MCK_deny_rfp_request
		remove_ideas = MCK_rfr_supporters
	}
}

#rfp rise against us
country_event = {
	id = jap.49
	title = jap.49.t
	desc = jap.49.d
	
	picture = GFX_report_event_swedish_soldier
	
	trigger = {
		has_country_flag = MCK_deny_rfp_request
		tag = MAN
	}
	
	mean_time_to_happen = { days = 10 }
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			start_civil_war = {
				ideology = fascism
				capital = 714
				states = { 714 }
			}
			random_country = {
				limit = {
					original_tag = MAN
					has_government = fascism
				}
				set_cosmetic_tag = RFPmck
				load_oob = "MCK_RFP_rebelled_oob"
				set_party_name = { ideology = fascism long_name = MCK_RFP_rebelled_party_long name = MCK_RFP_rebelled_party }
				create_country_leader = {
					name = "Konstantin Rodzaevsky"
					desc = "POLITICS_KONSTANTIN_RODZAEVSKY_DESC"
					picture = "gfx/leaders/SOV/Portrait_Soviet_Konstantin_Rodzaevsky.dds"
					expire = "1953.3.1"
					ideology = fascism_ideology
					traits = {
						
					}
				}
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 1500 producer = MAN }
				if = {
					limit = {
						MAN = {
							has_tech = infantry_weapons
							NOT = {
								has_tech = infantry_weapons1
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3500 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = infantry_weapons1
							NOT = {
								has_tech = improved_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 3500 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = improved_infantry_weapons
							NOT = {
								has_tech = advanced_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 3500 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = advanced_infantry_weapons
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 3500 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = gw_artillery
							NOT = {
								has_tech = artillery1
							}
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = artillery1
							NOT = {
								has_tech = artillery4
							}
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_2 amount = 500 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = artillery4
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_3 amount = 500 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = motorised_infantry
						}
					}
					add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 1000 producer = MAN }
				}
			}
			add_stability = -0.1
		}
	}
	
	option = {
		name = jap.49.a
		effect_tooltip = {
			start_civil_war = {
				ideology = fascism
			}
			add_stability = -0.1
		}
	}
}

#confront guerilla - success
country_event = {
	id = jap.50
	title = jap.50.t
	desc = jap.50.d
	
	picture = GFX_report_event_japanese_army_parade
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			add_manpower = -1000
			add_stability = 0.05
			add_political_power = 150
			army_experience = 30
			remove_ideas = MCK_dongbei_partisan
			add_ideas = MCK_dongbei_partisan_pacified
		}
	}
	
	option = {
		name = jap.50.a
		effect_tooltip = {
			add_manpower = -1000
			add_stability = 0.05
			add_political_power = 150
			army_experience = 30
		}
		custom_effect_tooltip = MCK_longer_partisan_effect
	}
}

#confront guerilla - failed
country_event = {
	id = jap.51
	title = jap.51.t
	desc = jap.51.d
	
	picture = GFX_report_event_dead_soldiers
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			add_manpower = -3000
			add_political_power = -50
			army_experience = 15
		}
	}
	
	option = {
		name = jap.51.a
		effect_tooltip = {
			add_manpower = -3000
			add_political_power = -50
			army_experience = 15
		}
	}
}

#mck independence war send ultimatum
country_event = {
	id = jap.52
	title = jap.52.t
	desc = jap.52.d
	
	picture = GFX_report_event_generic_sign_treaty1
	
	trigger = {
		MAN = {
			has_war_with = JAP
			is_in_faction = no
		}
		AND = {
			608 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}
			609 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}
			611 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}
			612 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			750 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			610 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			716 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			328 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			717 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			715 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			714 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			527 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
			525 = { 
				controller = { 
					NOT = { 
						tag = JAP 
						is_puppet_of = JAP
					}
				}
			}	
		}
		tag = MAN
	}
	
	mean_time_to_happen = { days = 200 }
	
	fire_only_once = yes
	
	option = {
		ai_chance = {
			factor = 100
		}
		name = jap.52.a
		JAP = {
			country_event = { id = jap.53 }
		}
	}
	
	option = {
		name = jap.52.b
	}
}

#mck independence war ultimatum
country_event = {
	id = jap.53
	title = jap.53.t
	desc = jap.53.d
	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 75
			modifier = {
				any_other_country = {
					is_major = yes
					has_war_with = JAP
				}
				factor = 95
			}
			modifier = {
				has_war_with_amount > 3
				factor = 100
			}
		}
		name = jap.53.a
		effect_tooltip = {
			white_peace = MAN
		}
		MAN = {
			custom_effect_tooltip = MCK_independence_yes_tt
		}
		MAN = {
			country_event = { id = jap.54 }
		}
	}
	
	option = {
		ai_chance = {
			factor = 25
			modifier = {
				any_other_country = {
					is_major = yes
					has_war_with = JAP
				}
				factor = 5
			}
			modifier = {
				has_war_with_amount > 3
				factor = 0
			}
		}
		name = jap.53.b
		MAN = {
			country_event = { id = jap.55 }
		}
	}
}

#mck independence war ultimatum - yes
country_event = {
	id = jap.54
	title = jap.54.t
	desc = jap.54.d
	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					MEN = { exists = yes }
				}
				annex_country = {
					target = MEN
					transfer_troops = no
				}
			}
			every_state = {
				limit = {
					OR = {
						region = 155
						region = 143
					}
					owner = {
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
					}
				}
				ROOT = {
					transfer_state = PREV
				}
			}
			JAP = {
				white_peace = PREV
			}
		}
	}
	
	option = {
		name = jap.54.b
		effect_tooltip = {
			white_peace = JAP
			custom_effect_tooltip = MCK_independence_yes_tt
		}
	}
}

#mck independence war ultimatum - no
country_event = {
	id = jap.55
	title = jap.55.t
	desc = jap.55.d
	
	picture = GFX_report_event_japanese_officers
	
	is_triggered_only = yes
	
	option = {
		name = jap.55.b
	}
}

#check for requirement
country_event = {
	id = jap.56
	hidden = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_capitulated = yes
			}
			country_event = { id = jap.56 days = 30 }
			else = {
				country_event = { id = jap.48 }
			}
		}
	}
}

#mck changed government
country_event = {
	id = jap.57
	title = jap.57.t
	desc = jap.57.d
	
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = jap.57.a
		MAN = {
			country_event = { id = jap.58 }
		}
	}
	
	option = {
		name = jap.57.b
	}
}

#jap demand our annexation
country_event = {
	id = jap.58
	title = jap.58.t
	desc = jap.58.d
	
	picture = GFX_report_event_japanese_siam_politicians
	
	is_triggered_only = yes
	
	option = {
		name = jap.58.a
		JAP = {
			end_puppet = MAN
		}
		hidden_effect = {
			if = {
				limit = {
					has_idea = MCK_communist_influence
				}
				random_other_country = {
					limit = {
						has_war = no
						has_government = communism
					}
					puppet = MAN
					end_puppet = MAN
				}
				if = {
					limit = {
						NOT = { 
							any_country = {
								has_government = communism
							}
						}
					}
					random_other_country = {
						limit = {
							has_war = no
						}
						puppet = MAN
						end_puppet = MAN
					}
				}
				set_politics = {
					ruling_party = communism
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.10
				}
				add_popularity = {
					ideology = communism
					popularity = 0.85
				}
				SOV = {
					give_guarantee = MAN
				}
			}
			if = {
				limit = {
					has_idea = MCK_democratic_influence
				}
				random_other_country = {
					limit = {
						has_war = no
						has_government = democratic
					}
					puppet = MAN
					end_puppet = MAN
				}
				if = {
					limit = {
						NOT = { 
							any_country = {
								has_government = democratic
							}
						}
					}
					random_other_country = {
						limit = {
							has_war = no
						}
						puppet = MAN
						end_puppet = MAN
					}
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_political_party = {
					ideology = communism
					popularity = 0
				}
				set_political_party = {
					ideology = fascism
					popularity = 5
				}
				set_political_party = {
					ideology = neutrality
					popularity = 20
				}
				set_political_party = {
					ideology = democratic
					popularity = 80
				}
				USA = {
					give_guarantee = MAN
				}
			}
		}
		JAP = {
			country_event = { id = jap.59 }
			create_wargoal = {
				target = MAN
				type = annex_everything
			}
		}
	}
	
	option = {
		name = jap.58.b
		FROM = {
			country_event = { id = jap.60 }
			effect_tooltip = {
				annex_country = {
					target = ROOT
					transfer_troops = yes
				}
			}
		}
	}
}

#mck break free
country_event = {
	id = jap.59
	title = jap.59.t
	desc = jap.59.d
	
	picture = GFX_report_event_chinese_soldiers_01
	
	is_triggered_only = yes
	
	option = {
		name = jap.58.a
		effect_tooltip = {
			end_puppet = MAN
			create_wargoal = {
				target = MAN
				type = annex_everything
			}
		}
	}
}

#mck annexed
country_event = {
	id = jap.60
	title = jap.60.t
	desc = jap.60.d
	
	picture = GFX_report_event_japanese_parade
	
	is_triggered_only = yes
	
	option = {
		name = jap.60.a
		annex_country = {
			target = MAN
			transfer_troops = yes
		}
	}
}

#join usa!
country_event = {
	id = jap.61
	title = jap.22.t
	desc = jap.22.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes
	
	trigger = {
		tag = MAN
		USA = {
			has_war_with = JAP
		}
		is_puppet_of = JAP
		has_global_flag = MCK_will_join_usa
	}
	
	immediate = {
		hidden_effect = {
			MAN = {
				overlord = {
					set_autonomy = {
						target = MAN
						autonomy_state = autonomy_free
					}
				}
			}
			USA = {
				set_autonomy = {
					target = MAN
					autonomy_state = autonomy_puppet
				}
				set_autonomy = {
					target = MAN
					autonomy_state = autonomy_free
				}
				if = {
					limit = {
						is_in_faction = no
					}
					create_faction = mck_liberate
					add_to_faction = MAN
					else = {
						random_country = {
							limit = {
								OR = {
									is_in_faction_with = USA
									tag = USA
								}
								is_faction_leader = yes
							}
							add_to_faction = MAN
						}
					}
				}
			}
			MAN = {
				declare_war_on = {
					target = JAP
					type = take_state_focus
					generator = { 750 }
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_political_party = {
					ideology = communism
					popularity = 0
				}
				set_political_party = {
					ideology = fascism
					popularity = 5
				}
				set_political_party = {
					ideology = neutrality
					popularity = 20
				}
				set_political_party = {
					ideology = democratic
					popularity = 80
				}
				add_to_war = {
					targeted_alliance = USA
					enemy = JAP
				}
				if = {
					limit = {
						has_idea = MCK_dongbei_partisan
					}
					remove_ideas = MCK_dongbei_partisan
				}
				if = {
					limit = {
						has_idea = MCK_dongbei_partisan_pacified
					}
					remove_ideas = MCK_dongbei_partisan_pacified
				}
			}
			JAP = {
				country_event = { id = jap.23 }
			}
		}
	}
	
	option = {
		name = jap.22.a
		effect_tooltip = {
			JAP = {
				end_puppet = MAN
			}
			add_to_war = {
				targeted_alliance = USA
				enemy = JAP
			}
		}
	}
}

#set flag
country_event = {
	id = jap.62
	hidden = yes
	
	trigger = {
		JAP = {
			has_war_with = CHI
		}
		NOT = {
			has_global_flag = CHI_warred_with_JAP
		}
	}
	
	mean_time_to_happen = { days = 2 }
	
	immediate = {
		set_global_flag = CHI_warred_with_JAP
	}
	
	option = {
	}
}

#change to civil war
country_event = {
	id = jap.63
	hidden = yes

	is_triggered_only = yes
	
	trigger = {
		original_tag = MAN
		has_war_with = SOV
	}
	
	immediate = {
		SOV = {
			start_civil_war = {
				ideology = fascism
				capital = 408
				states = { 408 409 560 657 655 537 561 563 }
			}
		}
		random_country = {
			limit = {
				original_tag = SOV
				has_government = fascism
			}
			create_faction = rfp_white_movement
			add_timed_idea = {
				idea = MCK_RFP_white_movement
				days = 1700
			}
			hidden_effect = {
				load_oob = "RFP_anti_bolshelvik"
			}
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
				load_oob = "RFP_anti_bolshelvik"
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 15000 producer = MAN }
				if = {
					limit = {
						MAN = {
							has_tech = infantry_weapons
							NOT = {
								has_tech = infantry_weapons1
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 25000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = infantry_weapons1
							NOT = {
								has_tech = improved_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 25000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = improved_infantry_weapons
							NOT = {
								has_tech = advanced_infantry_weapons
							}
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 25000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = advanced_infantry_weapons
						}
					}
					add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 25000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = gw_artillery
							NOT = {
								has_tech = artillery1
							}
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 10000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = artillery1
							NOT = {
								has_tech = artillery4
							}
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_2 amount = 10000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = artillery4
						}
					}
					add_equipment_to_stockpile = { type = artillery_equipment_3 amount = 10000 producer = MAN }
				}
				if = {
					limit = {
						MAN = {
							has_tech = motorised_infantry
						}
					}
					add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 7500 producer = MAN }
				}
			add_ideas = war_economy
			add_ideas = service_by_requirement
		}
		hidden_effect = {
			408 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 5
					instant_build = yes
				}
			}
			563 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			409 = {
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
	}
	
	option = {
	}
}