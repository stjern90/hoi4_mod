focus_tree = {
	id = china_communist_focus
	
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CCP
			has_dlc = "Waking the Tiger"
		}
	}
	

	default = no

	continuous_focus_position = { x = 20 y = 1000 }

	focus = {
		id = PRC_start_to_recover_from_the_long_march
		icon = GFX_goal_generic_build_tank
		x = 16
		y = 0
		
		cost = 5
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
		}

		bypass = {
			NOT = { has_idea = PRC_fragemented_nation }
		}

		
		completion_reward = {
			add_political_power = 50
			army_experience = 15
			swap_ideas = {
				remove_idea = PRC_fragemented_nation
				add_idea = PRC_fragemented_nation_1
			}
		}
	}
	
	focus = { 
		id = PRC_gather_local_equipment 
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = PRC_start_to_recover_from_the_long_march }
		x = -3
		y = 1 
		relative_position_id = PRC_start_to_recover_from_the_long_march
		
		cost = 4
		
		ai_will_do = {
			factor = 10 
		}
		
		available = {
		}
		
		bypass = {
		}
		
		completion_reward = {
			add_equipment_to_stockpile = { type = infantry_equipment_0  amount = 1000 producer = CCP }
			add_equipment_to_stockpile = { type = infantry_uniforms  amount = 750 producer = CCP }
			add_equipment_to_stockpile = { type = support_equipment  amount = 150 producer = CCP }
		}
	}
	
	focus = {
		id = PRC_strengthen_the_central_secretariat
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = PRC_start_to_recover_from_the_long_march }
		x = 9
		y = 1
		relative_position_id = PRC_start_to_recover_from_the_long_march

		cost = 6

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 50
			remove_ideas = PRC_power_struggles
		}
	}
	
	focus = {
		id = PRC_maoism
		icon = GFX_focus_prc_maoism
		prerequisite = { focus = PRC_strengthen_the_central_secretariat }
		x = -1
		y = 1
		relative_position_id = PRC_strengthen_the_central_secretariat

		cost = 4

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_stability = 0.1
			add_ideas = PRC_maoism
		}
	}
	
	
	
	focus = {
		id = PRC_revolutionary_military_commission
		icon = GFX_PRC_red_army
		prerequisite = { focus = PRC_gather_local_equipment }
		x = 0
		y = 1
		relative_position_id = PRC_gather_local_equipment

		cost = 8

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = PRC_revolutionary_military_commission
			add_offsite_building = { type = arms_factory level = 2 }
			set_country_flag = PRC_commission_factories
		}
	}		
	
	focus = {
		id = PRC_prepare_for_war_with_japan
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = PRC_revolutionary_military_commission }
		#mutually_exclusive = { focus = PRC_focus_on_china }
		x = -3
		y = 1
		relative_position_id = PRC_revolutionary_military_commission

		cost = 5

		ai_will_do = {
			factor = 4
			modifier = {
				JAP = {
					has_government = communism
				}
				factor = 0
			}
		}

		available = {
			not = {
				is_subject_of = JAP
			}
		}

		bypass = {
			has_war_with = JAP
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_war_support = 0.1
			CCP = {
				country_event = wtt_prc.9
			}
		}
	}
	
	focus = {
		id = PRC_contact_zhang_xueliang
		icon = GFX_focus_chi_united_front
		prerequisite = { focus = PRC_prepare_for_war_with_japan }
		x = 0
		y = 1
		relative_position_id = PRC_prepare_for_war_with_japan

		cost = 2

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_war_with = CHI
			}
			is_subject = no
		}

		bypass = {
			is_in_faction = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}
		
		completion_reward = {
			set_country_flag = CHI_xian_instigator_flag
			set_global_flag = CHI_xian_fired
			CHI = {
				country_event = wtt_xian_incident.11
			}
		}
	}	
	
	focus = {
		id = PRC_anti_japanese_aim
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = PRC_contact_zhang_xueliang }
		x = -1
		y = 1
		relative_position_id = PRC_contact_zhang_xueliang
		cost = 5
		
		available = {
			NOT = {
				is_puppet_of = JAP
				has_war_with = CHI
			}
		}
		cancel = {
			is_puppet_of = JAP
		}
		cancel_if_invalid = yes

		completion_reward = {
			add_stability = 0.1
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = PRC_supply_from_the_soviet_union
		icon = GFX_Goal_Soviet_guns
		#prerequisite = { focus = PRC_gather_local_equipment }
		prerequisite = { focus = PRC_anti_japanese_aim }
		x = -2
		y = 1
		relative_position_id = PRC_anti_japanese_aim
		
		cost = 8
		
		ai_will_do = {
			factor = 1 
		}
		
		available = {
			#NOT = {
			#	CHI = {
			#		has_non_aggression_pact_with = SOV
			#	}
			#}
			SOV = {
				has_government = communism
			}
			has_government = communism
			custom_trigger_tooltip = {
				tooltip = CCP_sov_supply_tt
				any_owned_state = {
					any_neighbor_state = {
						OR = {
							owner = {
								OR = { 
									tag = SOV
									is_in_faction_with = SOV
									AND = {
										has_opinion = {
											target = SOV
											value > 0
										}
										NOT = {
											has_war_with = SOV
										}
										tag = SIK
									}
								}
								has_opinion = {
									target = ROOT
									value > 9
								}
							}
							controller = {
								OR = { 
									tag = SOV
									is_in_faction_with = SOV
									AND = {
										has_opinion = {
											target = SOV
											value > 0
										}
										NOT = {
											has_war_with = SOV
										}
										tag = SIK
									}
								}
								has_opinion = {
									target = ROOT
									value > 9
								}
							}
						}
					}
				}
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = CCP_sov_supply_eff_tt
			hidden_effect = {
				country_event = { id = CCP.1 }
			}
		}
	}		
	
	focus = { 
		id = PRC_anti_japanese_university
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = PRC_anti_japanese_aim }
		x = 0
		y = 1
		relative_position_id = PRC_anti_japanese_aim 
		
		cost = 10 
		
		ai_will_do = { 
			factor = 1 
		}
		
		available = {
		}
		
		bypass = {
		}
		
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = PRC_agrarian_socialism
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = PRC_strengthen_the_central_secretariat }
		x = 1
		y = 1
		relative_position_id = PRC_strengthen_the_central_secretariat

		cost = 5

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				remove_idea = PRC_the_long_march_1
				add_idea = PRC_the_long_march_2
			}
		}
	}

	focus = {
		id = PRC_land_redistribution
		icon = GFX_Goal_Agrarian_Reform_communist
		prerequisite = { focus = PRC_agrarian_socialism }
		x = 0
		y = 1
		relative_position_id = PRC_agrarian_socialism

		cost = 5

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {
			NOT = { PRC_has_low_popular_support = yes }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			PRC_low_popular_support_level_down = yes
		}
	}
	
	focus = {
		id = PRC_support_the_peasants
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = PRC_land_redistribution }
		prerequisite = { focus = PRC_the_yanan_base_area }
		x = -2 
		y = 1 
		relative_position_id = PRC_land_redistribution
		
		cost = 7 
		
		ai_will_do = {
			factor = 5 
		}
		
		available = {
		}
		
		bypass = {
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 622 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
		}
	}

	focus = {
		id = PRC_the_yanan_base_area
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = PRC_maoism }
		#prerequisite = { focus = PRC_agrarian_socialism }
		x = -4
		y = 1
		relative_position_id = PRC_agrarian_socialism

		cost = 6

		ai_will_do = {
			factor = 4
		}

		available = {
			622 = { is_fully_controlled_by = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			622 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}

		completion_reward = {
			622 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	
	focus = {
		id = PRC_local_arms_production 
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = PRC_provisional_science_department }
		x = 1 
		y = 2 
		relative_position_id = PRC_the_yanan_base_area
		
		cost = 5 
		
		ai_will_do = {
			factor = 5 
		}
		
		available = {
			622 = { is_fully_controlled_by = ROOT }
		}
		
		bypass = {
		}
		
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 622 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PRC_provisional_science_department
		icon = GFX_Goal_Socialist_Science
		prerequisite = { focus = PRC_the_yanan_base_area }
		x = 0
		y = 1
		relative_position_id = PRC_the_yanan_base_area
		
		cost = 5
		
		ai_will_do = {
			factor = 5 
		}
		
		available = {
			}
			
		bypass = {
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			PRC_personnel_shortage_down = yes
		}
	}
	
	#focus = {
	#	id = PRC_government_of_national_defense
	#	icon = GFX_focus_chi_united_front
	#	prerequisite = { focus = PRC_prepare_for_war_with_japan }
	#	mutually_exclusive = { focus = PRC_approach_the_front }
	#	x = 0
	#	y = 1
	#	relative_position_id = PRC_prepare_for_war_with_japan
#
	#	cost = 2
#
	#	ai_will_do = {
	#		factor = 1
	#	}
#
	#	available = {
	#		NOT = {
	#			has_war_with = CHI
	#		}
	#		is_subject = no
	#	}
#
	#	bypass = {
	#		is_in_faction = yes
	#	}
#
	#	cancel_if_invalid = yes
	#	continue_if_invalid = no
	#	available_if_capitulated = no
#
	#	complete_tooltip = {
#
	#	}
	#	
	#	completion_reward = {
	#		CHI = { country_event = wtt_prc.1 }
	#		if = { 
	#			limit = {
	#				has_non_aggression_pact_with = SHX
	#				SHX = { exists = yes }
	#			}
	#		SHX = { country_event = wtt_prc.6 }
	#		}
	#	}
	#}

	focus = {
		id = PRC_confrontation_with_the_warlords
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = PRC_contact_zhang_xueliang }
		x = 1
		y = 1
		relative_position_id = PRC_contact_zhang_xueliang

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			has_army_manpower = { size > 999999 }
		}

		bypass = {
			OR = {
				AND = {
					is_in_faction = yes
					not = { is_in_faction_with = CHI } #in any other faction that doesn't include CHI
				}
				AND = {
					YUN = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
					GXC = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
					SHX = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
					XSM = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
					SIK = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			hidden_effect = {
				if = {
					limit = {
						is_in_faction = no
					}
					set_rule = { can_create_factions = yes }
					create_faction = chinese_united_front
				}
			}
			every_country = {
				limit = {
					is_literally_china = yes
					is_in_faction = no
					NOT = {
						tag = ROOT
					}
				}
				country_event = wtt_prc.10
			}
		}
	}

	focus = {
		id = PRC_anti_japanese_expedition
		icon = GFX_focus_AST_war_japan
		prerequisite = { focus = PRC_anti_japanese_aim }
		x = 2
		y = 1
		relative_position_id = PRC_anti_japanese_aim

		cost = 7

		ai_will_do = {
			factor = 4
			modifier = {
				JAP = {
					has_government = communism
				}
				factor = 0
			}
		}

		available = {
			OR = {
				MAN = {
					OR = {
						is_subject_of = JAP
						has_cosmetic_tag = MAN_kwantung_army
					}
				}
				AND = {
					MAN = {
						exists = no
					}
					JAP = {
						owns_state = 612
						owns_state = 611
						owns_state = 610
					}
				}
			}
			NOT = {
				is_subject_of = JAP
			}
		}

		bypass = {
			has_war_with = JAP
			OR = {
				has_war_with = JAP
				AND = {
					MAN = {
						is_subject = no
					}
					JAP = {
						NOT = {
							owns_state = 525
							owns_state = 527
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			unlock_decision_category_tooltip = PRC_anti_japanese_expedition
			set_country_flag = {
				flag = JAP_delay_sweep_for_communists
				days = 100
				value = 1
			}
		}
	}
	
	focus = { 
		id = PRC_improve_the_guerilla_tactics 
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = PRC_revolutionary_military_commission }
		x = 4
		y = 1 
		relative_position_id = PRC_revolutionary_military_commission 
		
		cost = 5 
		
		ai_will_do = {
			factor = 10 
		}
		
		available = {
		}
		
		bypass = {
		}
		
		completion_reward = {
			custom_effect_tooltip = PRC_improve_the_guerilla_tactics_tt
			swap_ideas = {
				remove_idea = PRC_red_army_weakened
				add_idea = PRC_improved_gurilla_tactics
			}
		}
	}
	
	focus = {
		id = PRC_implement_devious_tactics
		icon = GFX_Goal_Communist_Partisans2
		prerequisite = { focus = PRC_improve_the_guerilla_tactics }
		x = 0
		y = 2
		relative_position_id = PRC_improve_the_guerilla_tactics 
		
		cost = 4 
		
		ai_will_do = { 
			factor = 4 
		}
		
		available = {
		}
		
		bypass = {
		}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = PRC_improved_gurilla_tactics
				add_idea = PRC_devious_tactics
			}
		}
	}
	
	focus = {
		id = PRC_start_to_reform_the_army
		icon = GFX_Goal_Commie_recruits
		prerequisite = { focus = PRC_implement_devious_tactics }
		x = 2
		y = 1 
		relative_position_id = PRC_implement_devious_tactics
		
		cost = 7 
		
		ai_will_do = {
			factor = 1 
		}
		
		available = { 
		}
		
		bypass = {
		}
		
		completion_reward = {
			add_ideas = PRC_start_a_field_army
		}
	}
	
	focus = {
		id = PRC_field_army
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = PRC_start_to_reform_the_army }
		prerequisite = { focus = PRC_recover_from_the_long_march }
		x = 0
		y = 1
		relative_position_id = PRC_start_to_reform_the_army
		
		cost = 11 
		
		ai_will_do = {
			}
		available = {
		}
		
		bypass = {
		}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = PRC_start_a_field_army
				add_idea = PRC_field_armies
			}
		}
	}

	focus = {
		id = PRC_provoke_japan
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = PRC_anti_japanese_expedition }
		x = 0
		y = 1
		relative_position_id = PRC_anti_japanese_expedition

		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				JAP = {
					has_government = communism
				}
				factor = 0
			}
		}

		available = {
			NOT = {
				is_subject_of = JAP #was fun while it lasted
			}
		}

		bypass = {
			OR = {
				has_war_with = JAP
				AND = {
					MAN = {
						is_subject = no
					}
					JAP = {
						NOT = {
							owns_state = 525
							owns_state = 527
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			unlock_decision_tooltip = { decision = PRC_provoke_japan show_effect_tooltip = yes }
		}
	}

	focus = {
		id = PRC_focus_on_china
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = PRC_implement_devious_tactics }
		x = -2
		y = 1
		relative_position_id = PRC_implement_devious_tactics

		cost = 7

		ai_will_do = {
			factor = 4
		}

		available = {
			not = {
				is_subject_of = event_target:WTT_current_china_leader
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = PRC_focus_on_china
		}
	}
	
	focus = { 
		id = PRC_west_expedition
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = PRC_improve_the_guerilla_tactics }
		x = -1
		y = 1
		relative_position_id = PRC_improve_the_guerilla_tactics
		
		cost = 4
		
		available = {
			XSM = { can_ROOT_get_wargoal_on_THIS = yes }
		}
		
		bypass = {
			NOT = {
			    OR = {
				country_exists = XSM
				has_war_with = XSM
				}
			}
		}
		
        cancel_if_invalid = yes
		continue_if_invalid = no
		
		completion_reward = {
			custom_effect_tooltip = PRC_west_expedition_tt
			unlock_decision_tooltip = PRC_west_expedition
			hidden_effect = {
				division_template = {
				name = "Volunteer militia"
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }

						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
				}
				random_owned_controlled_state = {
				    limit = { NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 } }
					create_unit = { 
						division = "name = \"West expedition volunteers I\" division_template = \"Volunteer militia\" start_experience_factor = 0.25" 
						owner = CCP
						}
				}
				random_owned_controlled_state = {
				    limit = { NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 } }
					create_unit = { 
						division = "name = \"West expedition volunteers II\" division_template = \"Volunteer militia\" start_experience_factor = 0.25" 
						owner = CCP
						}
				}
				if = { limit = { is_ai = yes } 
					random_owned_controlled_state = {
					    limit = { NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 } }
						create_unit = { 
							division = "name = \"West expedition volunteers III\" division_template = \"Volunteer militia\" start_experience_factor = 0.5" 
							owner = CCP
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = PRC_approach_the_front
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PRC_improve_the_guerilla_tactics }
		x = 1
		y = 1 
		relative_position_id = PRC_improve_the_guerilla_tactics
		
		cost = 4
			
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				AND = {
					is_ai = yes
					is_historical_focus_on = no
				}
			}			
		}	
		available = {
				SHX = { can_ROOT_get_wargoal_on_THIS = yes }
		}
		bypass = {
			OR = {
				SHX = {
					is_puppet = yes
				}
				has_war_with = SHX
				NOT = {
					country_exists = SHX
				}
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		

	
		completion_reward = {
			custom_effect_tooltip = PRC_east_expedition_tt
			unlock_decision_tooltip = PRC_approach_the_front
			hidden_effect = {
				division_template = {
					name = "Volunteer militia"
					regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }

					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					}
				}

				random_owned_controlled_state = {
				    limit = { NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 } }
					create_unit = { 
						division = "name = \"East expedition volunteers I\" division_template = \"Volunteer militia\" start_experience_factor = 0.25" 
						owner = CCP
						}
				}
				random_owned_controlled_state = {
				    limit = { NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 } }
					create_unit = { 
						division = "name = \"East expedition volunteers II\" division_template = \"Volunteer militia\" start_experience_factor = 0.25" 
						owner = CCP
						}
				}
				if = { limit = { is_ai = yes } 
					random_owned_controlled_state = {
					    limit = { NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 } }
						create_unit = { 
							division = "name = \"East expedition volunteers III\" division_template = \"Volunteer militia\" start_experience_factor = 0.5" 
							owner = CCP
						}
					}
				}
			}
		}
	}
	
	focus = { 
		id = PRC_integrate_yan_xishan_thought
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PRC_approach_the_front }
		x = 1
		y = 1
		relative_position_id = PRC_approach_the_front
		
		cost = 2
		
		available = {
			country_exists = SHX
			615 = {
				is_controlled_by = ROOT
			}
		}
		bypass = {
			NOT = {
			    OR = {
				country_exists = SHX
				has_war_with = SHX
				}
			}
		}
		
        cancel_if_invalid = yes
		continue_if_invalid = no
		
		completion_reward = {
			SHX = { country_event = wtt_prc.6 }
		}
	}
	
	focus = { 
		id = PRC_west_liberation
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = PRC_west_expedition }
		x = -1
		y = 1
		relative_position_id = PRC_west_expedition
		
		cost = 2
		
		available = {
			country_exists = XSM
			283 = {
				is_controlled_by = ROOT
			}
		}
		bypass = {
			NOT = {
			    OR = {
				country_exists = XSM
				has_war_with = XSM
				}
			}
		}
		
        cancel_if_invalid = yes
		continue_if_invalid = no
		
		completion_reward = {
			country_event = { id = prc_border_conflict.101 }
		}
	}
	
	focus = {
		id = PRC_exploit_the_weak_neighbours
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PRC_implement_devious_tactics }
		x = 0
		y = 1
		relative_position_id = PRC_implement_devious_tactics

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				SHX = { can_ROOT_get_wargoal_on_THIS = yes }
				XSM = { can_ROOT_get_wargoal_on_THIS = yes }
			}
		}

		bypass = {
			OR = {
				has_war_with = SHX
				has_war_with = XSM
				AND = {
					SHX = { can_ROOT_get_wargoal_on_THIS = no }
					XSM = { can_ROOT_get_wargoal_on_THIS = no }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			if = {
				limit = {
					SHX = { can_ROOT_get_wargoal_on_THIS = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = SHX
				}
			}
			if = {
				limit = {
					XSM = { can_ROOT_get_wargoal_on_THIS = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = XSM
				}
			}
		}
	}
	
	focus = {
		id = PRC_china_medical_university
		icon = GFX_focus_research
		prerequisite = { focus = PRC_provisional_science_department }
		x = -1
		y = 2
		relative_position_id = PRC_the_yanan_base_area

		cost = 7.5

		ai_will_do = {
			factor = 1
		}

		available = {
			num_of_factories > 34
			#amount_research_slots < 5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = PRC_recover_from_the_long_march
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = PRC_china_medical_university }
		prerequisite = { focus = PRC_local_arms_production }
		x = 1
		y = 1
		relative_position_id = PRC_china_medical_university
		
		cost = 10
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			OR = {
			has_full_control_of_state = 615
			has_full_control_of_state = 283
			is_in_faction_with = CHI
			has_war_with = JAP
			}
			has_army_manpower = { size > 175000 }
		}

		bypass = {
			NOT = { has_idea = PRC_fragemented_nation_1 }
		}

		completion_reward = {
			army_experience = 15
			add_political_power = 50 
			remove_ideas = PRC_fragemented_nation_1
		}
	}
	
	focus = {
		id = PRC_local_industry
		icon = GFX_Goal_Develop_Mongolia
		prerequisite = { focus = PRC_support_the_peasants }
		prerequisite = { focus = PRC_recover_from_the_long_march }
		x = 2 
		y = 1 
		relative_position_id = PRC_recover_from_the_long_march 
		
		cost = 5 
		
		ai_will_do = {
			factor = 5 
		}
		
		available = {
			}
			
		bypass = {
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 622 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = PRC_infiltration
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = PRC_focus_on_china }
		x = 0
		y = 1
		relative_position_id = PRC_focus_on_china

		cost = 7

		ai_will_do = {
			factor = 4
		}

		available = {
			country_exists = event_target:WTT_current_china_leader 
			NOT = {
				is_subject_of = event_target:WTT_current_china_leader
				has_war_with = JAP
			}
			date > 1939.1.1
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			unlock_decision_category_tooltip = PRC_infiltrate_nationalist_areas
			set_country_flag = {
				flag = CHI_delay_sweep_for_communists
				days = 90
				value = 1
			}
		}
	}
	
	focus = {
		id = PRC_protracted_warfare
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = PRC_infiltration }
		x = 0
		y = 1
		relative_position_id = PRC_infiltration

		cost = 4
		
		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = PRC_protracted_warfare
		}
	}

	focus = {
		id = PRC_mobile_warfare
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = PRC_field_army }
		x = 0
		y = 1
		relative_position_id = PRC_field_army

		cost = 6

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = PRC_mobile_warfare
		}
	}

	focus = {
		id = PRC_peoples_war
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = PRC_protracted_warfare }
		x = 0
		y = 1
		relative_position_id = PRC_protracted_warfare

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = PRC_peoples_war
		}
	}

	focus = {
		id = PRC_100_regiments_campaign
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PRC_mobile_warfare }
		x = 0
		y = 1
		relative_position_id = PRC_mobile_warfare

		cost = 5

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			unlock_decision_tooltip = PRC_launch_100_regiments_campaign
		}
	}	
	
	focus = {
		id = PRC_strengthen_the_left_wing_of_the_kmt
		icon = GFX_propaganda_soviet
		prerequisite = { focus = PRC_infiltration }
		x = -2
		y = 1
		relative_position_id = PRC_infiltration

		cost = 7

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			WTT_CHI_is_not_leader = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			CHI = { add_stability = -0.05 } 
		}
	}
	
	focus = {
		id = PRC_communist_propaganda
		icon = GFX_propaganda_soviet
		prerequisite = { focus = PRC_strengthen_the_left_wing_of_the_kmt }
		x = 0
		y = 1
		relative_position_id = PRC_strengthen_the_left_wing_of_the_kmt

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
            event_target:WTT_current_china_leader = { has_war = yes }
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_popularity = {
					ideology = communism
					popularity = 0.05
				}
				add_war_support = 0.05
			effect_tooltip = {
			event_target:WTT_current_china_leader = { 
			add_popularity = {
					ideology = communism
					popularity = 0.05
				}
				}
			}
			hidden_effect = {
			event_target:WTT_current_china_leader = { 
			country_event = { id = china.27 }
			}
		}
		}
	}	
	
	focus = {
		id = PRC_war_of_liberation
		icon = GFX_Goal_Liberation_war
		prerequisite = { focus = PRC_infiltration }
		prerequisite = { focus = PRC_field_army }
		x = 2
		y = 3
		relative_position_id = PRC_infiltration
		
		cost = 10 
		
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = {
					any_other_country = {
						is_literally_china = yes
						is_in_faction_with = ROOT
					} 
				} 
				remove_from_faction = ROOT
			}
			every_other_country = {
				limit = {
					is_literally_china = yes
					NOT = { has_war_with = ROOT }
					NOT = { is_subject_of = ROOT }
					NOT = { ROOT = { has_wargoal_against = PREV } }
					NOT = { tag = ROOT }
				}
				CCP = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
			add_timed_idea = {
				idea = PRC_War_of_Liberation
				days = 120
			}
		}
		available = {
			OR = {
				num_of_controlled_states > 5
				num_of_factories > 15
			}			
			NOT = {
				has_war_with = JAP
			}
			NOT = {
				any_other_country = {
					has_war_with = JAP
				}
			}
		}
		bypass = {

		}

	}
	
	focus = {
		id = PRC_socialism_with_chinese_characteristics
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = PRC_war_of_liberation }
		prerequisite = { focus = PRC_specialist_training_program }
		x = 3
		y = 1
		relative_position_id = PRC_war_of_liberation

		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				is_faction_leader = yes
				factor = 0
			}
		}

		available = {
			is_subject = no
			is_in_faction = no
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = PRC_mao_faction
			}
		}
	}
	
	focus = {
		id = PRC_centralized_economic_planning
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = PRC_socialism_with_chinese_characteristics }
		x = 2
		y = 1
		relative_position_id = PRC_socialism_with_chinese_characteristics 
		
		cost = 10 
		
		ai_will_do = {
			}
			
		available = {
		}
		
		bypass = {
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			remove_ideas = PRC_ineffective_bureaucracy
			random_owned_controlled_state = {
				prioritize = { 622 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = PRC_excavation_NE
		icon = GFX_goal_oil
		prerequisite = { focus = PRC_centralized_economic_planning }
		cost = 4
        x = 2
		y = 1
		relative_position_id = PRC_centralized_economic_planning
		available = {
		714 = { is_fully_controlled_by = ROOT }
		}
		completion_reward = {
		    unlock_decision_tooltip = develop_daqing_deposits
		}
	}
	
	focus = {
		id = PRC_excavation_NW
		icon = GFX_goal_steel
		prerequisite = { focus = PRC_excavation_NE }
		x = 0
		y = 1
		relative_position_id = PRC_excavation_NE
		cost = 6
		available = {
		OR = {
		325 = { is_fully_controlled_by = ROOT }
		605 = { is_fully_controlled_by = ROOT }
		}
		}
		completion_reward = {
		    unlock_decision_tooltip = develop_yunnan_aluminium_deposits
			unlock_decision_tooltip = develop_sichuan_aluminium_deposits
		}
	}	
	
	focus = {
		id = PRC_proclaim_the_peoples_republic
		icon = GFX_focus_prc_proclaim_the_peoples_republic 
		prerequisite = { focus = PRC_socialism_with_chinese_characteristics }
		x = 0
		y = 1
		relative_position_id = PRC_socialism_with_chinese_characteristics

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			strength_ratio = {
				tag = CHI
				ratio > 0.5
			}
			num_of_factories > 49
			num_of_controlled_states > 14
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
		    drop_cosmetic_tag = yes
			custom_effect_tooltip = CCP_set_government_rank
			hidden_effect = {
				news_event = { id = wtt_news.37 days = 3 random = 72 }
			}
		}
	}
		
	focus = { 
		id = PRC_burn_flag 
		icon = GFX_goal_chi_kmt_burn
		prerequisite = { focus = PRC_proclaim_the_peoples_republic }
		available = { 
		}
		x = 0
		y = 3
		relative_position_id = PRC_proclaim_the_peoples_republic
		cost = 8
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
				
			effect_tooltip = {
			event_target:WTT_current_china_leader = { 
			add_popularity = {
					ideology = communism
					popularity = 0.1
				}
				add_war_support = -0.07
				}
			}
			hidden_effect = {
			event_target:WTT_current_china_leader = { 
			country_event = { id = china.28 }
			}
		}
		}
	}	

	focus = {
		id = PRC_socialist_market_economy
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = PRC_proclaim_the_peoples_republic }
		prerequisite = { focus = PRC_centralized_economic_planning }
		x = 2
		y = 1
		relative_position_id = PRC_proclaim_the_peoples_republic

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			OR = {
				
				WTT_is_ROOT_current_leader_of_china = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = PRC_deng_xiaoping
			if = {
				limit = { has_idea = PRC_the_long_march_1 }
				remove_ideas = PRC_the_long_march_1
			}
			if = {
				limit = { has_idea = PRC_the_long_march_2 }
				remove_ideas = PRC_the_long_march_2 
			}
		}
	}

	focus = {
		id = PRC_five_year_plan_of_china
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = PRC_socialist_market_economy }
		x = 0
		y = 1
		relative_position_id = PRC_socialist_market_economy
		
		cost = 5 
		
		available = {
		}
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}
		
		completion_reward = {
			add_timed_idea = {
				idea = PRC_five_year_plans_of_China
				days = 1825
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1.0
				uses = 1
				category = construction_tech
			}
			add_tech_bonus = {
				name = industry_bonus
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}
	
	focus = {
		id = PRC_nationalise_companies
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = PRC_five_year_plan_of_china }
		x = 0 
		y = 1 
		relative_position_id = PRC_five_year_plan_of_china
		
		cost = 10
		
		ai_will_do = {
		}
		
		available = {
			has_war = no
			num_of_factories > 150
		}
		
		bypass = {
		}
		
		completion_reward = {
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = PRC_showa_steel_works
			613 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
				}	
			}
		}
	}
	
	focus = {
		id = PRC_new_industrial_center
		icon = GFX_Goal_Red_Industry
		prerequisite = { focus = PRC_nationalise_companies }
		x = 0 
		y = 1  
		relative_position_id = PRC_nationalise_companies  
		
		cost = 12 
		
		ai_will_do = {
		}
		
		available = {
		}
		
		bypass = {
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 608 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 744 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 605 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
		}
	}
	
	
	focus = {
		id = PRC_support_the_heavy_industry
		icon = GFX_goal_economic_control
		prerequisite = { focus = PRC_invite_soviet_experts }
		prerequisite = { focus = PRC_new_industrial_center }
		prerequisite = { focus = PRC_hundred_flowers_campaign }
		x = -1 
		y = 1
		relative_position_id = PRC_new_industrial_center
		
		cost = 12 
		
		ai_will_do = {
			factor = 10 
		}
		
		available = {
			has_war = no
			num_of_factories > 150
		}
		
		bypass = {
		}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = incompetent_heavy_industry
				add_idea = incompetent_heavy_industry_2
			}
		}
	}
	
	focus = {
		id = PRC_reorganise_arms_production
		icon = GFX_Soviet_War_Economy
		prerequisite = { focus = PRC_support_the_heavy_industry }
		x = -1
		y = 1
		relative_position_id = PRC_support_the_heavy_industry
		
		cost = 8 
		
		ai_will_do = { 
			factor = 0 
		}
		
		available = {
		}
		
		bypass = {
		}
		
		completion_reward = {
			custom_effect_tooltip = available_tank_designer
			random_owned_controlled_state = {
				prioritize = { 605 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 608 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
		}
	}
	
	focus = {
		id = PRC_tsinghua_university
		icon = GFX_goal_shx_taiyuanyinhang
		prerequisite = { focus = PRC_five_year_plan_of_china }		
		x = 2 
		y = 1 		
		relative_position_id = PRC_five_year_plan_of_china		
		
		cost = 12 
		
		ai_will_do = {
			factor = 10 
		}
		
		available = {
		}
		
		completion_reward = {
			remove_ideas = public_illiteracy_3
		}
	}	
	
	focus = {
		id = PRC_invite_soviet_experts
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = PRC_tsinghua_university }
		x = 0
		y = 1
		relative_position_id = PRC_tsinghua_university
		
		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = PRC_sino_soviet_resource_surveyors		
		}
	}
	
	focus = {
		id = PRC_chemical_research_institute
		icon = GFX_focus_research
		prerequisite = { focus = PRC_hundred_flowers_campaign }
		prerequisite = { focus = PRC_invite_soviet_experts }
		x = 0 
		y = 2
		relative_position_id = PRC_tsinghua_university

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			num_of_factories > 115
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {			
			add_research_slot = 1
		}
	}
	
	focus = {
		id = PRC_central_military_commission
		icon = GFX_goal_generic_defence
		prerequisite = { focus = PRC_socialism_with_chinese_characteristics }
		x = -4
		y = 1
		relative_position_id = PRC_socialism_with_chinese_characteristics

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			swap_ideas = {
				remove_idea = PRC_revolutionary_military_commission
				add_idea = PRC_central_military_commission
			}
		}
	}
	
	focus = {
		id = PRC_peoples_volunteer_army
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = PRC_central_military_commission }
		x = -2
		y = 1
		relative_position_id = PRC_central_military_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = PRC_peoples_volunteer_army
		}
	}

	focus = {
		id = PRC_peoples_liberation_army
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = PRC_central_military_commission }
		x = 0
		y = 1
		relative_position_id = PRC_central_military_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			if = {
				limit = { has_idea = PRC_red_army_weakened }
				remove_ideas = PRC_red_army_weakened
			}
			if = {
				limit = { has_idea = PRC_devious_tactics }
				remove_ideas = PRC_devious_tactics
			}
			if = {
				limit = { has_idea = PRC_field_armies }
				remove_ideas = PRC_field_armies
			}
		}
	}
	
	focus = {
		id = PRC_establish_the_peoples_liberation_army_air_force
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = PRC_peoples_liberation_army }
		x = -3
		y = 1
		relative_position_id = PRC_peoples_liberation_army
		
		cost = 10
		
		ai_will_do = {
			factor = 10 
		}
		
		available = {
		}
		
		bypass = {
		}
		
		completion_reward = {
			air_experience = 15
			add_tech_bonus = {
			    name = air_doctrine_bonus
				bonus = 0.5
				uses = 3
				category = air_doctrine
			}
			random_owned_controlled_state = {
				prioritize = { 608 }
					limit = {
					air_base > 0
					air_base < 9
					NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 }
					}
					add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
			}
			random_owned_controlled_state = {
				prioritize = { 622 }
					limit = {
					air_base > 0
					air_base < 9
					NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 }
					}
					add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
			}	
			random_owned_controlled_state = {
				prioritize = { 613 }
					limit = {
					air_base > 0
					air_base < 9
					NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 }
					}
					add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
			}
			random_owned_controlled_state = {
				prioritize = { 605 }
					limit = {
					air_base > 0
					air_base < 9
					NOT = { state = 810 } NOT = { state = 809 } NOT = { state = 808 } NOT = { state = 811 }
					}
					add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
			}
		}
	}
	
	focus = {
		id = PRC_establish_the_peoples_liberation_army_navy
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = PRC_peoples_liberation_army }
		x = -1
		y = 1
		relative_position_id = PRC_peoples_liberation_army
		
		cost = 10
		
		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		
		bypass = {
			}
		
		completion_reward = {
			navy_experience = 10
			add_tech_bonus = {
			    name = naval_doc_bonus
				bonus = 0.5
				uses = 3
				category = naval_doctrine
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			create_navy_leader = {
					name = "Zhang Aiping"
					picture = "Portrait_PRC_chen_yi.tga"
					traits = { }
					skill = 3
			}
		}
	}
	
	focus = {
		id = PRC_assistance_in_building_up_a_naval_industry
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = PRC_establish_the_peoples_liberation_army_navy }
		x = 0
		y = 1
		relative_position_id = PRC_establish_the_peoples_liberation_army_navy
		
		cost = 5
		
		available = {
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PRC_invite_soviet_military_advisors
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = PRC_peoples_liberation_army }
		x = 1
		y = 2
		relative_position_id = PRC_peoples_liberation_army
		
		cost = 10
		
		available = {
		}

		completion_reward = {
			add_ideas = PRC_soviet_advisor
		}
	}
	
	focus = {
		id = PRC_hire_soviet_designer
		icon = GFX_t_34_prototype
		prerequisite = { focus = PRC_invite_soviet_military_advisors }
		x = 0
		y = 1
		relative_position_id = PRC_invite_soviet_military_advisors

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = { 
				NOT	= {	country_exists = CHI }
				NOT = {
				CHI = { has_non_aggression_pact_with = SOV }
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus =1.0
				uses = 1
				category = armor
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PRC_soviet_tank_experts
		}
	}	

	focus = {
		id = PRC_enforce_the_three_rules
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = PRC_land_redistribution }
		x = 0
		y = 1
		relative_position_id = PRC_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {
			NOT = { PRC_has_low_popular_support = yes }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			PRC_low_popular_support_level_down = yes
		}
	}

	focus = {
		id = PRC_permit_opium_trade
		icon = GFX_Goal_Pro_Opium_Trade
		prerequisite = { focus = PRC_enforce_the_three_rules}
		mutually_exclusive = { focus = PRC_ban_the_opium_trade }
		x = -1
		y = 1
		relative_position_id = PRC_enforce_the_three_rules

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = PRC_permit_opium_trade
			add_ideas = PRC_government_corruption
		}
	}

	focus = {
		id = PRC_ban_the_opium_trade
		icon = GFX_Goal_Anti_Opium_Trade
		mutually_exclusive = { focus = PRC_permit_opium_trade }
		prerequisite = { focus = PRC_enforce_the_three_rules }
		x = 1
		y = 1
		relative_position_id = PRC_enforce_the_three_rules

		cost = 2

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_stability = 0.05
		}
	}

	focus = {
		id = PRC_abolish_the_land_rent
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = PRC_permit_opium_trade focus = PRC_ban_the_opium_trade }
		x = 0
		y = 2
		relative_position_id = PRC_enforce_the_three_rules

		cost = 5

		ai_will_do = {
			factor = 4
		}

		available = {
			if = {
				limit = {
					has_idea = PRC_low_popular_support_1
				}
				has_idea = PRC_low_popular_support_1
			}
			if = {
				limit = {
					has_idea = PRC_low_popular_support_2
				}
				has_idea = PRC_low_popular_support_2
			}
			if = {
				limit = {
					has_idea = PRC_low_popular_support_3
				}
				has_idea = PRC_low_popular_support_3
			}
			if = {
				limit = {
					has_idea = PRC_low_popular_support_4
				}
				has_idea = PRC_low_popular_support_4
			}
			if = {
				limit = {
					has_idea = PRC_low_popular_support_5
				}
				has_idea = PRC_low_popular_support_5
			}
		}

		bypass = {
			NOT = { PRC_has_low_popular_support = yes }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			if = { limit = { has_idea = PRC_low_popular_support_1 } remove_ideas = PRC_low_popular_support_1 }
			else_if = { limit = { has_idea = PRC_low_popular_support_2 } remove_ideas = PRC_low_popular_support_2 }
			else_if = { limit = { has_idea = PRC_low_popular_support_3 } remove_ideas = PRC_low_popular_support_3 }
			else_if = { limit = { has_idea = PRC_low_popular_support_4 } remove_ideas = PRC_low_popular_support_4 }
			else = { remove_ideas = PRC_low_popular_support_5 }
		}
	}

	focus = {
		id = PRC_literacy_programs
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = PRC_abolish_the_land_rent }
		x = 0
		y = 1
		relative_position_id = PRC_abolish_the_land_rent

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			swap_ideas = {
				remove_idea = public_illiteracy
				add_idea = public_illiteracy_2
			}
		}
	}

	focus = {
		id = PRC_form_the_academy_of_sciences
		icon = GFX_Goal_Communist_education
		prerequisite = { focus = PRC_literacy_programs }
		prerequisite = { focus = PRC_local_industry }
		x = -1
		y = 1
		relative_position_id = PRC_literacy_programs

		cost = 9

		ai_will_do = {
			factor = 1
		}

		available = {
			num_of_factories > 69
			#amount_research_slots < 5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			swap_ideas = {
				remove_idea = public_illiteracy_2
				add_idea = public_illiteracy_3
			}
		}
	}
	
	focus = {
		id = PRC_specialist_training_program
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = PRC_form_the_academy_of_sciences }
		x = 0
		y = 2
		relative_position_id = PRC_form_the_academy_of_sciences

		cost = 5 
		
		available = {
			}
			
		bypass = {
		}
		
		completion_reward = {
			unlock_decision_tooltip = PRC_specialized_training_decision
		}
	}	
	
	focus = {
		id = PRC_the_new_communism_beacon
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = PRC_proclaim_the_peoples_republic }
		available = {
			has_government = communism
		}
		relative_position_id = PRC_proclaim_the_peoples_republic
		x = 7
		y = 1
		cost = 10
		
		completion_reward = {
			add_opinion_modifier = {
				modifier = political_rivalry
				target = SOV
			}
			SOV = {
				add_opinion_modifier = {
					modifier = political_rivalry
					target = ROOT
				}
			}
			add_timed_idea = {
			    	idea = PRC_red_beacon 
			    	days = 365
		    	}
			
			set_rule = { can_create_factions = yes }
		}
	}
	
	focus = {
		id = PRC_mongolia_issue
		icon = GFX_Goal_pressure_Mongolia
		available = { 
			has_government = communism
			MON = { is_puppet = no }
		}
		relative_position_id = PRC_the_new_communism_beacon
		x = 3
		y = 2
		cost = 10
		prerequisite = {
			focus = PRC_exert_influence_in_india_and_mongolia
		}
		bypass = {
			owns_state = 330
			owns_state = 329
		}
		completion_reward = {
			if = {
				limit = {
					330 = {
						owner = {
							NOT = {
								tag = ROOT
							}
						}
					}
				}
				330 = {
					owner = {
						country_event = { id = CCP.84 }
					}
				}
			}
			if = {
				limit = {
					329 = {
						owner = {
							NOT = {
								tag = ROOT
								owns_state = 330
							}
						}
					}
				}
				329 = {
					owner = {
						country_event = { id = CCP.84 days = 1 }
					}
				}
			}
			
		}
	}
	
	focus = {
		id = PRC_exert_influence_in_sea
		icon = GFX_goal_generic_political_pressure
		available = { 
			has_government = communism
		}
		relative_position_id = PRC_the_new_communism_beacon
		x = -1
		y = 1
		cost = 10
		prerequisite = {
			focus = PRC_the_new_communism_beacon
		}
		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						OR = {	
							region = 142
							region = 158
							region = 159
							region = 93
							region = 160
							region = 275 # JAVA
							state = 524
						}
					}
					NOT = {
						tag = CHI
					}
				}
				add_timed_idea = {
			    	idea = PRC_influence 
			    	days = 700
		    	}
			}
		}
	}
	
	focus = {
		id = PRC_coerce_korea
		icon = GFX_Goal_Cooperation_with_NKorea	
		available = { 
			country_exists = KOR
			has_government = communism
		}
		bypass = {
			KOR = {
				is_puppet_of = CCP
			}
		}
		relative_position_id = PRC_the_new_communism_beacon
		x = 3
		y = 3
		cost = 10
		prerequisite = {
			focus = PRC_mongolia_issue
		}
		completion_reward = {
			KOR = {
				country_event = { id = CCP.87 }
				add_timed_idea = {
			    	idea = PRC_influence 
			    	days = 700
		    	}
			}
		}
	}
	
	focus = {
		id = PRC_exert_influence_in_central_asia
		icon = GFX_goal_generic_political_pressure
		available = { 
			has_government = communism
		}
		relative_position_id = PRC_the_new_communism_beacon
		x = 1
		y = 1
		cost = 10
		prerequisite = {
			focus = PRC_the_new_communism_beacon
		}
		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						OR = {	
							region = 145
							region = 146
							region = 162
							region = 136
						}
					}
					NOT = {
						tag = CHI
					}
				}
				add_timed_idea = {
			    	idea = PRC_influence 
			    	days = 700
		    	}
			}
		}
	}
	
	focus = {
		id = PRC_exert_influence_in_india_and_mongolia
		icon = GFX_goal_generic_political_pressure
		available = { 
			has_government = communism
		}
		relative_position_id = PRC_the_new_communism_beacon
		x = 3
		y = 1
		cost = 10
		prerequisite = {
			focus = PRC_the_new_communism_beacon
		}
		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						OR = {	
							region = 153
							region = 141
							region = 31
							region = 101
							region = 152
						}
					}
					NOT = {
						tag = CHI
					}
				}
				add_timed_idea = {
			    	idea = PRC_influence 
			    	days = 700
		    	}
			}
		}
	}
	
	focus = {
		id = PRC_demand_return_of_trade_ports
		icon = GFX_goal_generic_more_territorial_claims
		available = { 
			OR = {
				NOT = {
					controls_state = 326
				}
				NOT = {
					controls_state = 729
				}
				NOT = {
					controls_state = 728
				}
			}
			has_government = communism
		}
		relative_position_id = PRC_the_new_communism_beacon
		x = -1
		y = 2
		cost = 10
		prerequisite = {
			focus = PRC_exert_influence_in_sea
		}
		completion_reward = {
			if = {
				limit = {
					326 = {
						owner = {
							NOT = {
								tag = ROOT
							}
						}
					}
				}
				if = {
					limit = {
						326 = {
							owner = {
								is_puppet = no
							}
						}
					}
					326 = {
						owner = {
							country_event = { id = CCP.89 }
						}
					}
					else = {
						326 = {
							owner = {
								overlord = {
									country_event = { id = CCP.89 }
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					728 = {
						owner = {
							NOT = {
								tag = ROOT
								owns_state = 326
							}
						}
					}
				}
				if = {
					limit = {
						728 = {
							owner = {
								is_puppet = no
							}
						}
					}
					728 = {
						owner = {
							country_event = { id = CCP.89 }
						}
					}
					else = {
						728 = {
							owner = {
								overlord = {
									country_event = { id = CCP.89 }
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					729 = {
						owner = {
							NOT = {
								tag = ROOT
								OR = {
									owns_state = 326
									owns_state = 728
								}
							}
						}
					}
				}
				if = {
					limit = {
						729 = {
							owner = {
								is_puppet = no
							}
						}
					}
					729 = {
						owner = {
							country_event = { id = CCP.89 }
						}
					}
					else = {
						729 = {
							owner = {
								overlord = {
									country_event = { id = CCP.89 }
								}
							}
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = PRC_the_permanent_revolution
		icon = GFX_goal_support_fourth_int
		available = { 
			has_government = communism
		}
		relative_position_id = PRC_the_new_communism_beacon
		x = 1
		y = 3
		cost = 10
		prerequisite = {
			focus = PRC_exert_influence_in_central_asia  
		}
		prerequisite = {
			focus = PRC_exert_influence_in_india_and_mongolia
		}
		prerequisite = {
			focus = PRC_demand_return_of_trade_ports
		}
		completion_reward = {
			every_other_country = {
				limit = {
					has_idea = PRC_influence
					NOT = {
						has_government = communism
					}
					num_of_controlled_states < 2
				}
				set_politics = {
					ruling_party = communism
				}
				hidden_effect = {
					add_popularity = {
						ideology = communism
						popularity = 0.35
					}
					add_stability = -0.1
					remove_ideas = PRC_influence
				}
			}
			every_other_country = {
				limit = {
					has_idea = PRC_influence
					NOT = {
						has_government = communism
					}
				}
				add_stability = -0.2
				start_civil_war = {
					ideology = communism
					size = 0.65
				}
			}
		}
	}
	
	focus = {
		id = PRC_aid_the_workers
		icon = GFX_goal_support_communism
		available = { 
			has_government = communism
		}
		relative_position_id = PRC_the_new_communism_beacon
		x = 1
		y = 2
		cost = 10
		prerequisite = {
			focus = PRC_exert_influence_in_central_asia  
		}
		prerequisite = {
			focus = PRC_exert_influence_in_india_and_mongolia
		}
		completion_reward = {
			every_other_country = {
				limit = {
					has_idea = PRC_influence
					is_puppet_of = CCP
				}
				country_event = { id = CCP.92 }
			}
			every_other_country = {
				limit = {
					has_idea = PRC_influence
					NOT = {
						is_puppet_of = CCP
					}
				}
				add_popularity = {
						ideology = communism
						popularity = 0.15
					}
			}
		}
	}
	
	focus = {
		id = PRC_cult_of_personality
		icon = GFX_goal_CCP_maozedong
		prerequisite = { focus = PRC_peoples_liberation_army }
		prerequisite = { focus = PRC_suppress_counterrevolutionaries }
		x = -1
		y = 2
		relative_position_id = PRC_proclaim_the_peoples_republic
		cost = 10
		
		completion_reward = {
			add_country_leader_trait = the_great_chairman
		}
	}
	
	focus = {
		id = PRC_suppress_counterrevolutionaries
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = PRC_proclaim_the_peoples_republic }
		available = {
			has_government = communism
		}
		x = -1
		y = 1
		relative_position_id = PRC_proclaim_the_peoples_republic
		cost = 10
		
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = -0.08
			}
			add_popularity = {
				ideology = democratic
				popularity = -0.08
			}
			add_popularity = {
				ideology = neutrality
				popularity = -0.08
			}
			add_country_leader_trait = dictator
		}
	}	
	
	focus = {
		id = PRC_156_project
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = PRC_support_the_heavy_industry }
		x = 1
		y = 1
		relative_position_id = PRC_support_the_heavy_industry
		available = {
			SOV = {
				has_opinion = {
					target = ROOT
					value > 9
				}
			}
			has_war = no
		}
		cost = 11
		
		completion_reward = {
			add_opinion_modifier = {
				modifier = industrial_assistance
				target = SOV
			}
			#add_ideas = PRC_sov_assistance_in_industry
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}	
	
	focus = {
		id = PRC_hundred_flowers_campaign
		icon = GFX_goal_chi_unify
		prerequisite = { focus = PRC_cult_of_personality }
		available = {
			OR = {
				has_war = no
				has_civil_war = yes
			}
			has_government = communism
			608 = { is_fully_controlled_by = ROOT }
			613 = { is_fully_controlled_by = ROOT }
			592 = { is_fully_controlled_by = ROOT }
			605 = { is_fully_controlled_by = ROOT }
		}
		x = 0
		y = 2
		relative_position_id = PRC_cult_of_personality
		cost = 50
        bypass = {
			has_country_flag = baihua_completed
		}
		cancel = {
			NOT = { has_government = communism }
		}
		select_effect = {
			country_event = { id = kmt.32 days = 1 }
			set_country_flag = KMT_hundred_flowers_started
		}
		
		completion_reward = {
			custom_effect_tooltip = KMT_hundred_flowers_tt
			hidden_effect = {
				country_event = { id = kmt.37 }
			}
		}
	}
	
	
	
	focus = {
		id = PRC_join_comintern
		icon = GFX_goal_soviet_committee
		prerequisite = { focus = PRC_invite_soviet_military_advisors }
		x = -3
		y = 0
		relative_position_id = PRC_reorganise_arms_production

		cost = 5 
		
		available = {
			SOV = { is_in_faction = yes is_faction_leader = yes }
		}
		
		allow_branch = {
			always = no
		}
			
		bypass = {
		}
		
		completion_reward = {
			if = { limit = { is_in_faction = yes  }
			leave_faction = yes
			}
			SOV = { add_to_faction = ROOT }
		}
	}
	
	focus = {
		id = PRC_anti_fascism
		icon = GFX_Goal_Anti_fascist_dimplomacy
		prerequisite = { focus = PRC_join_comintern }
		x = -3
		y = 1
		relative_position_id = PRC_reorganise_arms_production

		cost = 5 
		
		available = {
			}
			
		bypass = {
		}
		
		completion_reward = {
			#unlock_decision_tooltip = PRC_specialized_training_decision
		}
	}
}
