focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			original_tag = SOV
		}
	}
	continuous_focus_position = { x = 3000 y = 1420 }
	default = no
	
	focus = {
		id = SOV_t28_dev
		icon = GFX_goal_SOV_t28
		x = 48
		y = 1
		cost = 5.5
		ai_will_do = {
			factor = 4
		}	
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = SOV_t28
			add_tech_bonus = {
				name = med_armor_bonus
				bonus = 1.0
				uses = 1
				technology = tech_t_28_b
			}
			hidden_effect = {
				load_oob = SOV_t28
			}
		}
	}

	focus = {
		id = SOV_2_5_year_plan
		icon = GFX_Goal_Second_5_plan
		x = 3
		y = 0
		cost = 1
		available = {
		}
		ai_will_do = {
			factor = 12
		}
		search_filters = { FOCUS_FILTER_CONSTRUCTION FOCUS_FILTER_RESOURCES }
		completion_reward = {
			add_timed_idea = {
					idea = SOV_idea_2_5_year_plan
					days = 700
				}
			hidden_effect = {
				if = { 
					limit = { 
				    	is_ai = yes
					}
					add_ideas = partial_economic_mobilisation
					}
				}
			}
		}

	focus = {
		id = develop_leningrad_area
		icon = GFX_sov_rails
		prerequisite = { focus = SOV_heavy_industry_1 focus = SOV_capitalism }
		x = -1
		y = 3
		cost = 2
		available = {
			208 = { is_controlled_by = ROOT }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_CONSTRUCTION }

		completion_reward = {
		    
			208 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 181
						instant_build = yes
					}	
                }	
		
		    build_railway = { 
				path = { 3151 6174 11080 181 }
				level = 2
			}
			build_railway = { 
				path = { 181 6139 3053 11097 11202 }
				level = 2
			}
			208 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			244 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			209 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			263 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = industrialize_leningrad_area
		icon = GFX_leningrad_development
		prerequisite = { focus = develop_leningrad_area }
		x = -1
		y = 4
		cost = 4
		available = {
			195 = { is_controlled_by = ROOT }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 209 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 263 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
		}		
	}

	focus = {
		id = develop_moscow_area
		icon = GFX_goal_SOV_moscow_dev
		prerequisite = { focus = SOV_heavy_industry_1 focus = SOV_capitalism }
		x = -3
		y = 3
		cost = 4.5
		available = {
			205 = { is_controlled_by = ROOT }
			219 = { is_controlled_by = ROOT }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_CONSTRUCTION }

		completion_reward = {
		    
			205 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 11300
						instant_build = yes
					}
                    add_building_construction = {
						type = supply_node
						level = 1
						province = 11254
						instant_build = yes
					}					
                }
			
			219 = {
			        add_building_construction = {
						type = supply_node
						level = 1
						province = 3358
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 9348
						instant_build = yes
					}
				}
		
		    build_railway = { 
				path = { 11349 9343 3215 333 6022 6122 9144 11039 231 11205 121 3220 346 11338 280 9311 214 283 11314 11248 3356 }
				level = 3
			}
			build_railway = { 
				path = { 3356 9313 6315 6262 11347 3236 246 11300 11369 11254 3279 6303 11349 }
				level = 3
			}
			build_railway = { 
				path = { 6262 6396 6290 9348 }
				level = 1
			}
			build_railway = { 
				path = { 11300 3263 6348 6414 }
				level = 1
			}
			build_railway = { 
				path = { 11254 335 401 3327 3391 6380 }
				level = 1
			}
			build_railway = { 
				path = { 11349 11326 366 3358 }
				level = 2
			}
			build_railway = { 
				path = { 121 252 6356 9278 9378 6380 }
				level = 1
			}
			build_railway = { 
				path = { 280 378 6316 11362 301 6380 }
				level = 1
			}
			build_railway = { 
				path = { 214 11217 9235 3290 301 }
				level = 1
			}
			246 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			247 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			248 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			253 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			254 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			223 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			205 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			242 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = industrialize_moscow_area
		icon = GFX_sov_develop_moscow
		prerequisite = { focus = develop_moscow_area }
		x = -3
		y = 4
		cost = 5.5
		available = {
			248 = { is_controlled_by = ROOT }
			223 = { is_controlled_by = ROOT }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 246 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 247 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 248 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 223 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 242 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
		}		
	}

	focus = {
		id = sov_don_river_system
		icon = GFX_sov_don_river
		prerequisite = { focus = industrialize_leningrad_area focus = industrialize_moscow_area }
		x = -2
		y = 5
		cost = 4
		available = {
			260 = { is_controlled_by = ROOT }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_CONSTRUCTION FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 260 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			258 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			257 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			260 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = sov_stalingrad_area_development
		icon = GFX_stalingrad_development
		prerequisite = { focus = sov_don_river_system }
		x = -3
		y = 6
		cost = 5
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
			217 = { is_controlled_by = ROOT }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_CONSTRUCTION FOCUS_FILTER_INDUSTRY }

		completion_reward = {
		
		    build_railway = { 
				path = { 3529 9504 3582 9436 11485 3539 9564 11408 }
			}
			build_railway = { 
				path = { 3529 11474 520 6516 6486 9455 11429 6620 9753 }
			}
			
			random_owned_controlled_state = {
				prioritize = { 239 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 217 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			245 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			265 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			401 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			407 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			236 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			238 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = sov_retool_tractor_factories
		icon = GFX_sov_tankograd
		prerequisite = { focus = sov_stalingrad_area_development }
		x = -3
		y = 7
		cost = 5
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			407 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}
			195 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}
			217 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
		}
	}
	
	focus = {
		id = SOV_collectivization
		icon = GFX_SOV_colect
		prerequisite = { focus = SOV_heavy_industry_1 }
		mutually_exclusive = { focus = SOV_Improvement_Tools }
		x = 3
		y = 3 
		cost = 4
		available = {
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESOURCES FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_lazar_kaganovich

			random_owned_controlled_state = {
				prioritize = { 250 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 652 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 401 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 407 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			SOV = {
				country_event = {
					id = soviet.390
					days = 1 
				}
			}
		}	
	}
	
	focus = {
		id = SOV_breadbasket
		icon = GFX_goal_wheat
		prerequisite = { focus = SOV_collectivization }
		relative_position_id = SOV_collectivization
		x = 0
		y = 1
		cost = 7
		available = {
			has_idea = SOV_The_Great_Soviet_Famine
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_OCCUPATION_COST }
		completion_reward = {
			remove_ideas = SOV_The_Great_Soviet_Famine
			
			every_owned_state = {
				limit = {
					not = { is_core_of = ROOT }
					is_core_of = UKR
				}
				add_compliance = 10
				add_resistance = -5
			}
}
	}

	focus = {
		id = sov_develop_urals
		icon = GFX_sov_rails
		prerequisite = { focus = sov_don_river_system  focus = SOV_third_five_year_plan }
		x = -1
		y = 6
		cost = 4
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
			OR = {
				582 = { is_controlled_by = ROOT }
				651 = { is_controlled_by = ROOT }
			}
		}

		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		completion_reward = {
		    custom_effect_tooltip = available_tank_designer
	    	show_ideas_tooltip = uralmash
			random_owned_controlled_state = {
				prioritize = { 583 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			573 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			651 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			398 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			581 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_goal_tankograd
		icon = GFX_sov_tankograd
		prerequisite = { focus = SOV_arms_production  }
		available = { has_completed_focus = sov_retool_tractor_factories }
		x = -3
		y = 12
		cost = 3.5 
		available = { 
		SOV = { has_war_with = GER }
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = SOV_tankograd
			add_tech_bonus = {
				name = armor_factory_bonus
				bonus = 1.0
				uses = 1
				technology = armor_industry2
				technology = armor_industry3
				technology = armor_industry4
			}
		}
	}
	
	focus = {
		id = SOV_weapons_prod
		icon = GFX_Goal_socialism_forwards
		prerequisite = { focus = SOV_arms_production }
		available = { or = { has_completed_focus = SOV_moscow_mil has_completed_focus = SOV_magnitogorsk } }
		x = -1
		y = 12
		cost = 3.5 

		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = {
				idea = SOV_inf_prod
				days = 820
			}
		}
	}
	
	focus = {
		id = SOV_t34_new
		icon = GFX_goal_RUS_armored_school
		prerequisite = { focus = SOV_goal_tankograd  }
		relative_position_id = SOV_goal_tankograd
		x = 0
		y = 1
		cost = 7

		ai_will_do = {
			factor = 8
		}
		
		available = {
			has_war_with = GER
			surrender_progress > 0.1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
			    name = med_armor_bonus
				uses = 1
				bonus = 0.75
				category = cat_medium_armor
			}
		}
	}
	
	focus = {
		id = SOV_saturnprep
		icon = GFX_goal_SOV_hat
		prerequisite = { focus = SOV_defense_of_moscow focus = SOV_defense_of_stalingrad  }
		relative_position_id = SOV_weapons_prod
		x = 4
		y = 1
		cost = 9

		ai_will_do = {
			factor = 8
		}
		
		available = {
			has_country_flag = SOVwintercounteroffense
			has_war_with = GER
			casualties > 1500000
			custom_trigger_tooltip = {
				tooltip = barba_9
				check_variable = {
					var = global.ostfront_year_4
					value = 8
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}
	
	focus = {
		id = SOV_saviourofeast
		icon = GFX_goal_SOV_sav
		prerequisite = { focus = SOV_saturnprep  }
		relative_position_id = SOV_saturnprep
		x = -1
		y = 1
		cost = 8

		ai_will_do = {
			factor = 8
		}
		
		available = {
			has_country_flag = SOVwintercounteroffense
			has_war_with = GER
			casualties > 2000000
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
		}
	}
	
	focus = {
		id = SOV_reformstavka
		icon = GFX_goal_SOV_stavka
		prerequisite = { focus = SOV_goal_tankograd }
		prerequisite = { focus = SOV_weapons_prod }
		prerequisite = { focus = SOV_airprod }
		relative_position_id = SOV_weapons_prod
		x = 0
		y = 1
		cost = 4.2

		ai_will_do = {
			factor = 8
		}
		
		available = {
			has_country_flag = SOVwintercounteroffense
			has_war_with = GER
			custom_trigger_tooltip = {
				tooltip = barba_11
				check_variable = {
					var = global.ostfront_year_4
					value = 10
					compare = greater_than_or_equals
				}
			}
			has_completed_focus = SOV_STAVKA
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			swap_ideas = {
				add_idea = SOV_STAVKA_idea2
				remove_idea = SOV_STAVKA_idea
			}
		}
	}
	
	focus = {
		id = SOV_heavyrush
		icon = GFX_goal_SOV_kv1
		prerequisite = { focus = SOV_reformstavka }
		relative_position_id = SOV_reformstavka
		x = 0
		y = 2
		cost = 4.5

		ai_will_do = {
			factor = 12
		}
		
		available = {
			has_country_flag = SOVwintercounteroffense
			has_war_with = GER
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
			    name = heavy_armor_bonus
				category = cat_heavy_armor
				category = cat_heavy_td
				category = cat_heavy_art
				uses = 4
				ahead_reduction = 0.3
				bonus = 0.6
			}
		}
	}
	
	focus = {
		id = SOV_gunfetus
		icon = GFX_goal_SOV_equipment
		prerequisite = { focus = SOV_reformstavka }
		relative_position_id = SOV_reformstavka
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 12
		}
		
		available = {
			has_country_flag = SOVwintercounteroffense
			has_war_with = GER
			has_army_experience > 100
			or = {
				has_tech = improved_infantry_weapons
				has_tech = advanced_infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					has_tech = advanced_infantry_weapons
				}
				create_equipment_variant = { 
					name = "PPS-42" 
					type = infantry_equipment_3
					upgrades = { 
						weapons_quality_upgrade = 3
						LMG_upgrade = 3
						AT_upgrade = 1
						heavy_weapons_upgrade = 2
						cheap_weapons_upgrade = 0
					}		
				}
			}
			else = {
				create_equipment_variant = { 
					name = "PPS-41s" 
					type = infantry_equipment_2
					upgrades = { 
						weapons_quality_upgrade = 3
						LMG_upgrade = 3
						AT_upgrade = 1
						heavy_weapons_upgrade = 2
						cheap_weapons_upgrade = 0
					}		
				}
			}
			army_experience = -100
		}
	}
	
	focus = {
		id = SOV_signal
		icon = GFX_goal_SOV_signals
		prerequisite = { focus = SOV_reformstavka }
		relative_position_id = SOV_reformstavka
		x = -1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 12
		}
		
		available = {
			has_country_flag = SOVwintercounteroffense
			has_war_with = GER
			has_army_experience > 100
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
			    name = electronics_bonus
				category = electronics
				uses = 3
				bonus = 0.4
			}
			army_experience = -100
		}
	}

	focus = {
		id = SOV_urals_armed
		icon = GFX_sov_goal_arm_urals
		prerequisite = { focus = sov_develop_urals }
		prerequisite = { focus = SOV_peoples_commissariat }
		x = -1
		y = 7
		cost = 5
		available = {
			OR = {
				398 = { is_controlled_by = ROOT }
				652 = { is_controlled_by = ROOT }
			}
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			652 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			651 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}
			398 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}
		}
	}

	
	focus = {
		id = SOV_petrochemical
		icon = GFX_goal_oil
		prerequisite = { focus = SOV_Tolkach focus = SOV_anti_church }
		x = 0
		y = 2
		cost = 4.2
		available = {
			229 = { is_controlled_by = ROOT }
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESOURCES FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_resource = {
				type = oil
				amount = 28
				state = 229
			}
			add_resource = {
				type = rubber
				amount = 16
				state = 229
			}
			229 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				add_building_construction = {
					type = synthetic_rubber_refinery
					level = 1
					instant_build = yes
				}
				}
			}
            add_tech_bonus = {
				name = synth_bonus
					bonus = 0.6
					uses = 2
					category = synth_resources
			}			
		}
	}
	focus = {
		id = SOV_Tolkach
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_2_5_year_plan }
		mutually_exclusive = { focus = SOV_anti_church }
		x = 1
		y = 1
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_ideas = SOV_Tolkach_idea
		}
	}
	focus = {
		id = SOV_anti_church
		icon = GFX_anti_orthodox
		prerequisite = { focus = SOV_2_5_year_plan }
		mutually_exclusive = { focus = SOV_Tolkach }
		x = 3
		y = 1
		cost = 4
		available = {
		}
		ai_will_do = {
			factor = 8 
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = {
			ideology = communism
			popularity = 0.04
		}
		}
	}
	focus = {
		id = SOV_heavy_industry_1
		icon = GFX_sov_heavy_industry
		prerequisite = { focus = SOV_Tolkach focus = SOV_anti_church }
		x = 2 
		y = 2
		cost = 10.5
		available = {
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 248 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 195 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 219 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.6
				uses = 1
				category = construction_tech
			}
			add_tech_bonus = {
				name = heavy_industry_tech_bonus
				bonus = 0.6
				uses = 3
				category = heavy_industry
			}
		}
	}
	focus = {
		id = SOV_Improvement_Tools
		icon = GFX_auto_invest
		prerequisite = { focus = SOV_heavy_industry_1 }
		mutually_exclusive = { focus = SOV_collectivization }
		x = 1
		y = 3
		cost = 4 # same cost as collectivisation
		available = {
			has_idea = home_of_revolution
		}
		ai_will_do = {
			factor = 8 
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {
			swap_ideas = {
				add_idea = home_of_revolution_workers_culture
				remove_idea = home_of_revolution
			}
			SOV = {
				country_event = {
					id = soviet.390
					days = 1 
				}
			}
		}
	}
	focus = {
		id = SOV_capitals_of_socialism
		icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = SOV_2_5_year_plan }
        prerequisite = { focus = SOV_stalin_constitution }
		x = 7
		y = 1
		cost = 7
		available = {
			OR = {
				219 = { is_controlled_by = ROOT }
				195 = { is_controlled_by = ROOT }
				217 = { is_controlled_by = ROOT }
			}
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_CONSTRUCTION }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 239 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			219 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			195 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
					}
				}
			}
			217 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
		    build_railway = { 
				path = { 6380 11282 3358 11250 3215 11315 2999 187 9111 6086 6035 6095 9164 11068 149 3151 }
			}
			build_railway = { 
				path = { 6380 6414 9348 9282 11268 9330 3356 6279 6230 6398 6369 9339 9312 11436 471 9422 11408 9564 3539 11485 9436 3582 9504 3529 }
				level = 2
			}
		}
	}

	focus = {
		id = SOV_new_generation
		icon = GFX_SOV_new
		prerequisite = { focus = SOV_capitals_of_socialism  }
		x = 7
		y = 2
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.5
				uses = 3
				category = construction_tech
			}
		}
	}		

	focus = {
		id = SOV_tractor_factories
		icon = GFX_goal_SOV_city
		prerequisite = { focus = SOV_stakhonovite }
		x = 5
		y = 2
		cost = 11 
		available = {
		} 
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 219 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 195 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 217 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 408 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
		}
	}
	focus = {
		id = SOV_stakhonovite
		icon = GFX_sov_stakhonovite
		prerequisite = { focus = SOV_2_5_year_plan }
		x = 5
		y = 1
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = SOV_stakhonovite_idea
			add_tech_bonus = {
                                name = industry_bonus
				bonus = 0.3
				uses = 3
				category = industry
			}
		}
	}

	focus = {
		id = SOV_third_five_year_plan
		icon = GFX_sov_stalin_writing
		prerequisite = { focus = SOV_Improvement_Tools focus = SOV_collectivization }
		x = 2
		y = 5
		cost = 1 
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESOURCES }

		completion_reward = {
			add_ideas = SOV_idea_3_5_year_plan
			hidden_effect = {
				news_event = {
					id = worldnews.22
					days = 1
				}
				play_song = "Troika Galop"
			}
		}
	}
	focus = {
		id = SOV_heavy_industry_2
		icon = GFX_sov_heavy_industry
		prerequisite = { focus = SOV_third_five_year_plan }
		available = { has_completed_focus = SOV_heavy_industry_1 }
		x = 4
		y = 6
		cost = 10
		available = {
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 248 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 249 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 250 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.75
				uses = 1
				category = construction_tech
			}
			add_tech_bonus = {
				name = heavy_industry_tech_bonus
				bonus = 0.75
				uses = 2
				category = heavy_industry
			}
			add_popularity = {
			ideology = communism
			popularity = 0.04
		}
		}
	}

	focus = {
		id = SOV_arms_industry_2
		icon = GFX_sov_arms_production
		prerequisite = { focus = SOV_heavy_industry_2 }
		prerequisite = { focus = SOV_peoples_commissariat }
		x = 3
		y = 7
		cost = 8
		available = {
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 653 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 572 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 582 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
			}
		}
	}

	focus = {
		id = SOV_arms_production
		icon = GFX_Soviet_War_Economy
		prerequisite = { focus = SOV_council_evacuation focus = SOV_gosplan  }
		x = -1
		y = 11
		cost = 6
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				add_idea = SOV_idea_arms_production
				remove_idea = emergency_industrial_effort
			}
		}
	}
	
	focus = {
		id = SOV_airprod
		icon = GFX_Goal_Attack_Soviets
		prerequisite = { focus = SOV_arms_production }
		relative_position_id = SOV_arms_production
		x = 2
		y = 1
		cost = 3.5

		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_country_flag = SOVwintercounteroffense
			has_war_with = GER
		}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_airprod2
				days = 365
			}
		}
	}
	
	focus = {
		id = SOV_develope_belarus
		icon = GFX_goal_SOV_belarus
		prerequisite = { focus = SOV_develope_baltics focus = SOV_moscow_mil }
		relative_position_id = SOV_airprod
		x = 2
		y = -3
		cost = 6
		available = {
			206 = { is_controlled_by_ROOT_or_ally = yes }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			206 = {
				if = {
					limit = { is_controlled_by_ROOT_or_ally = yes }
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}
			95 = {
				if = {
					limit = { is_controlled_by_ROOT_or_ally = yes }
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			204 = {
				if = {
					limit = { is_controlled_by_ROOT_or_ally = yes }
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}
		}
	}
	
	focus = {
		id = SOV_council_evacuation
		icon = GFX_goal_SOV_council
		prerequisite = { focus = SOV_industrial_war_mobilisation  }
		x = -2
		y = 10
		cost = 1
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = SOV_industry_relocation
			add_political_power = 50
			add_timed_idea = {
				idea = SOV_relocation
				days = 90
			}
		}
	}
	
	focus = {
		id = SOV_soviet_strong
		icon = GFX_goal_SOV_urals
		prerequisite = { focus = SOV_saviourofeast focus = SOV_vasily_chuikov  }
		relative_position_id = SOV_saturnprep
		x = 0
		y = 2
		cost = 3.5
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
		
		available = {
			has_war_with = GER
			custom_trigger_tooltip = {
				tooltip = barba_15
				check_variable = {
					var = global.ostfront_year_4
					value = 14
					compare = greater_than_or_equals
				}
			}
			surrender_progress > 0.05
		}

		available_if_capitulated = no

		completion_reward = {
			add_ideas = SOV_consolidate2
		}
	}
	
	focus = {
		id = SOV_ural_forts
		icon = GFX_develop_urals
		prerequisite = { focus = SOV_soviet_strong  }
		relative_position_id = SOV_soviet_strong
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		
		available = {
			has_completed_focus = sov_develop_urals
			has_completed_focus = SOV_urals_armed
			controls_state = 582
			controls_state = 573
			surrender_progress > 0.8
		}

		available_if_capitulated = no

		completion_reward = {
			582 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 7373
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 4383
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 4311
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 10185
					instant_build = yes
				}
			}
			573 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 10329
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 11223
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 7320
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 4758
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 11307
					instant_build = yes
				}
			}
			
			swap_ideas = {
				add_idea = SOV_consolidate3
				remove_idea = SOV_consolidate2
			}
		}
	}
	
	focus = {
		id = SOV_ural_factories
		icon = GFX_goal_FIN_railway
		prerequisite = { focus = SOV_soviet_strong  }
		relative_position_id = SOV_soviet_strong
		x = 1
		y = 1
		cost = 3.5
		ai_will_do = {
			factor = 1
		}
		
		available = {
			has_completed_focus = sov_develop_urals
			has_completed_focus = SOV_urals_armed
			controls_state = 653
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = no

		completion_reward = {
			653 = {
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
		}
	}
	
	focus = {
		id = SOV_second_baku
		icon = GFX_goal_SOV_second_baku
		prerequisite = { focus = SOV_ural_factories  }
		relative_position_id = SOV_ural_factories
		x = 0
		y = 1
		cost = 11
		ai_will_do = {
			factor = 1
		}
		
		available = {
			surrender_progress < 0.04
			controls_state = 652
			controls_state = 249
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESOURCES }

		available_if_capitulated = no

		completion_reward = {
			652 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			651 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			add_resource = {
				type = oil
				amount = 24
				state = 652
			}
			add_resource = {
				type = oil
				amount = 10
				state =	651
			}
			custom_effect_tooltip = SOV_ural_oil2_tt
			hidden_effect = {
				country_event = {
					id = soviet.587
					days = 420
				}
			}
		}
	}
	
	focus = {
		id = SOV_expand_tankograd
		icon = GFX_goal_SOV_tankograd2
		prerequisite = { focus = SOV_soviet_strong  }
		relative_position_id = SOV_soviet_strong
		x = 3
		y = 1
		cost = 2.9
		ai_will_do = {
			factor = 1
		}
		
		available = {
			has_war_with = GER
			has_completed_focus = SOV_goal_tankograd
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				add_idea = SOV_tankograd_2
				remove_idea = SOV_tankograd
			}
		}
	}

	focus = {
		id = SOV_industrial_war_mobilisation 
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_preparation_war focus = SOV_urals_armed focus = sov_retool_tractor_factories }
		x = -1
		y = 9
		cost = 2.9
		
		ai_will_do = {
			factor = 10
		}
		available = {
			OR = {
			has_war_with = GER
			has_war_with = JAP
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = { 
				limit = {
				 NOT = { has_idea = peoples_commissariat_focus }
				 }
				 add_ideas = emergency_industrial_effort 
			}
			if = {
				limit = {
					has_idea = peoples_commissariat_focus
					}
					swap_ideas = { 
					remove_idea = peoples_commissariat_focus
					add_idea = emergency_industrial_effort
					}
			} 
			add_ideas = closed_economy
			random_owned_controlled_state = {
				prioritize = { 587 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 406 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 219 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			
			add_tech_bonus = {
				name = SOV_industrial_war_mobilisation
				bonus = 0.75
				uses = 3
				category = heavy_industry
			}
		}
	}
	
	focus = {
		id = SOV_martiallaw
		icon = GFX_focus_SOV_penal_battalions
		prerequisite = { focus = SOV_industrial_war_mobilisation  }
		relative_position_id = SOV_industrial_war_mobilisation
		x = 4
		y = 1
		cost = 5

		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = barba_4
				check_variable = {
					var = global.ostfront_year_4
					value = 3
					compare = greater_than_or_equals
				}
			}
			
			has_war_with = GER
			surrender_progress > 0.04
		}

		completion_reward = {
			add_ideas = SOV_law
		}
	}
	
	focus = {
		id = SOV_tankindustry
		icon = GFX_Goal_Red_Industry
		prerequisite = { focus = SOV_martiallaw focus = SOV_gosplan  }
		relative_position_id = SOV_martiallaw
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 8
		}
		
		available = {
			has_war_with = GER
			surrender_progress > 0.1
			casualties > 1000000
			custom_trigger_tooltip = {
				tooltip = barba_4
				check_variable = {
					var = global.ostfront_year_4
					value = 3
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
        
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
		}
	}
	
	focus = {
		id = SOV_gosplan
		icon = GFX_goal_SOV_city
		prerequisite = { focus = SOV_industrial_war_mobilisation }
		relative_position_id = SOV_industrial_war_mobilisation
		x = 1
		y = 1
		cost = 7

		ai_will_do = {
			factor = 8
		}
		
		available = {
			or = {
				has_country_flag = SOVwintercounteroffense
				surrender_progress > 0.26
			}
			has_war_with = GER
			surrender_progress > 0.1
			casualties > 1500000
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { any_neighbor_state = { is_controlled_by = GER } }
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}

	focus = {
		id = SOV_peoples_commissariat
		icon = GFX_focus_SOV_the_supreme_soviet
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 1
		y = 6
		cost = 4.7
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = peoples_commissariat_focus
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = georgy_malenkov
			unlock_decision_category_tooltip = SOV_PCDI
		}
	}

	focus = {
		id = SOV_appoint_koshkin
		icon = GFX_appoint_koshkin
		prerequisite = { focus = SOV_t28_dev }
		prerequisite = { focus = SOV_great_purge }
		relative_position_id = SOV_t28_dev
		x = 2
		y = 1
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				threat > 0.4
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		available_if_capitulated = no
		
		completion_reward = {
		custom_effect_tooltip = available_tank_designer
				show_ideas_tooltip = morozov_design_bureau
		}
	}
	
	focus = {
		id = SOV_armor_effort
		text = SOV_armor_effort
		icon = GFX_SOV_bt_tank
		prerequisite = { focus = SOV_t28_dev }
		relative_position_id = SOV_t28_dev
		
		x = -2
		y = 1
		cost = 5.5
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
		available_if_capitulated = yes
		completion_reward = {
		    custom_effect_tooltip = available_tank_designer
	    	show_ideas_tooltip = astrov_design_bureau
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.75
				uses = 1
				category = cat_light_armor
			}
		}
	}

	focus = {
		id = SOV_t_34_prototype
		icon = GFX_t_34_prototype
		prerequisite = { focus = SOV_appoint_koshkin }
		relative_position_id = SOV_appoint_koshkin
		x = 1
		y = 1
		cost = 4
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
				threat > 0.25
				date > 1937.1.1
				}
			}
		}
		available = {
		    has_tech = tech_t_28_b
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		
		completion_reward = {
			221 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}		
		}
	}

	focus = {
		id = SOV_t_34_finalized
		icon = GFX_sov_tankograd
		prerequisite = { focus = SOV_t_34_prototype }
		relative_position_id = SOV_t_34_prototype
		available = {
		date > 1939.03.01
		}

		x = 0
		y = 1
		cost = 5.4
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
				threat > 0.35
				date > 1937.6.1
				}
			}
		}
                #REVISIT TO OPTIMIZE AI
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			set_technology = { 
				tech_t_34_a = 1
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = cat_medium_armor
			}
		}
	}
	
	focus = {
		id = SOV_heavy_tank_effort
		icon = GFX_goal_SOV_kv1
		prerequisite = { focus = SOV_t28_dev }
		relative_position_id = SOV_t28_dev

		x = 0
		y = 1
		cost = 7
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
				threat > 0.35
				date > 1938.1.1
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 2
				category = cat_heavy_armor
				category = cat_heavy_art
				category = cat_heavy_td
			}
		}
	}

	focus = {
		id = SOV_progress_cult
		icon = GFX_Goal_Progress_Cult
		prerequisite = { focus = SOV_heavy_industry_2 }
		relative_position_id = SOV_arms_industry_2
		x = 2
		y = 0
		cost = 8.4
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = progress_cult_focus
		}
	}

	focus = {
		id = SOV_socialist_science
		icon = GFX_Goal_Socialist_Science
		prerequisite = { focus = SOV_childcare }
		x = 8
		y = 5
		cost = 6.8
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		available_if_capitulated = yes
		completion_reward = {
			swap_ideas = {
				add_idea = SOV_childcare3
				remove_idea = SOV_childcare2
			}
		}
	}

	focus = {
		id = SOV_extra_tech_slot_early
		icon = GFX_SOV_research
		prerequisite = { focus = SOV_socialist_science_2 focus = SOV_heavy_industry_2 }
		x = 7
		y = 7
		cost = 9.5
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available = { has_idea = leningrad_polytechnical_institute }
		available_if_capitulated = no
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = SOV_nuclear2
		icon = GFX_SOV_nuclear
		prerequisite = { focus = SOV_progress_cult }
		x = 6
		y = 8
		cost = 10
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		available_if_capitulated = no
		completion_reward = {
			add_tech_bonus = {
				category = nuclear
				uses = 2
				bonus = 0.6
			}
		}
	}
	
	focus = {
		id = SOV_socialist_science_2
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_socialist_science }
		x = 8
		y = 6
		cost = 6.8
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = socialist_science_tech_bonus
				bonus = 0.5
				uses = 5
				category = construction_tech
			}
		}
	}
	
	focus = {
		id = SOV_develop_mongolia
		icon = GFX_develop_mongolia
		prerequisite = { focus = SOV_destroysiberia }
		x = 12
		y = 7
		cost = 4
		available = {
			MON = { is_subject_of = SOV }
		}
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		available_if_capitulated = yes
		completion_reward = {
		         if = { limit = { has_idea = SOV_colonization_0 }
		            swap_ideas = {
				remove_idea = SOV_colonization_0
				add_idea = SOV_colonization_1
			}
				}
		        330 = {
		        if = {
				limit = { is_controlled_by = MON }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			}
			654 = {
			if = {
				limit = { OR = { is_controlled_by = SOV is_controlled_by = MON } }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			}
			add_opinion_modifier = { target = MON modifier = aided_industry }
			MON = {
			        add_popularity = { ideology = communism popularity = 0.1 }
			        add_stability = 0.05
				add_autonomy_ratio = {
					value = -0.15
					localization = fra_syria_focus
				}
			}
		}
	}
	
	focus = {
		id = SOV_develop_sinkiang
		icon = GFX_develop_sinkiang
		prerequisite = { focus = SOV_socialist_science_2 focus = SOV_annex_tannu_tuva }
		x = 10
		y = 7
		cost = 4
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
		}
		
		available = {
			330 = { is_controlled_by_ROOT_or_ally = yes }
		}

		bypass = {
			NOT = { country_exists = SIK }
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
			if = { limit = { has_idea = SOV_colonization_0 }
		        swap_ideas = {
					remove_idea = SOV_colonization_0
					add_idea = SOV_colonization_1
				}
			}
		    617 = {
                if = {
					limit = { OR = { is_controlled_by = SIK is_controlled_by = ROOT } }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			287 = {
				if = {
					limit = { OR = { is_controlled_by = SIK is_controlled_by = ROOT } }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			759 = {
				if = {
					limit = { OR = { is_controlled_by = SIK is_controlled_by = ROOT } }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					country_exists = SIK
				}
				add_opinion_modifier = { target = SIK modifier = aided_industry }
				SIK = {
					add_popularity = { ideology = communism popularity = 0.1 }
					add_stability = 0.05
				}
				if = {
					limit = {
						SIK = { is_puppet_of = SOV }
					}
					add_autonomy_ratio = {
						value = -0.15
						localization = fra_syria_focus
					}
				}
			}
		}
	}
	
	focus = {
		id = SOV_Central_Asian_Estates
		icon = GFX_SOV_Palace
		prerequisite = { focus = SOV_develop_sinkiang focus = SOV_develop_mongolia }
		x = 13
		y = 8
		available_if_capitulated = no
		cost = 4.5
		
		ai_will_do = {
				factor = 2
		}

		available = {
			587 = { is_controlled_by = ROOT }
			402 = { is_controlled_by = ROOT }
			406 = { is_controlled_by = ROOT }
			588 = { is_controlled_by = ROOT }
		}
		search_filters = { FOCUS_FILTER_OCCUPATION_COST }
		
		

		completion_reward = {
			if = {
				limit = { 
					or = {
						has_idea = SOV_colonization_1
						has_idea = SOV_colonization_0
					}
				}
				swap_ideas = {
					remove_idea = SOV_colonization_1
					add_idea = SOV_colonization_2
				}
			}
		     unlock_decision_tooltip = develop_kyzyl_tungsten_deposits
		     587 = { 
			 add_core_of = SOV 
			 set_state_category = pastoral
			 add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
			 }
			 402 = { 
			 add_core_of = SOV 
			 add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
			 }
			 406 = { 
			 add_core_of = SOV 
			 set_state_category = pastoral
			 add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
			 }
			 588 = { 
			 add_core_of = SOV 
			 add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
			 }
			 585 = { 
			 add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
			 }
		}
	}
	
	focus = {
		id = SOV_tran_siberian
		icon = GFX_Goal_snow_rail
		prerequisite = { focus = SOV_tractor_factories focus = SOV_new_generation }
		
		x = 6
		y = 3
		cost = 7
		available = {
			563 = { is_controlled_by = ROOT }
			409 = { is_controlled_by = ROOT }
		}
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_OCCUPATION_COST FOCUS_FILTER_CONSTRUCTION }
		
		completion_reward = {
			if = { limit = { has_idea = SOV_colonization_0 }
		            swap_ideas = {
				remove_idea = SOV_colonization_0
				add_idea = SOV_colonization_1
			}
			}
			add_tech_bonus = {
				name = SOV_tran_siberian
				bonus = 0.75
				uses = 2
				technology = rail_infra2
				technology = rail_infra3
				technology = rail_infra4
				technology = rail_infra5
			}
			
			build_railway = {
				path = { 12691 10639 10712 7886 12631 7757 4866 7274 } 
				level = 1
			}
			build_railway = {
				path = { 7274 7825 1860 1733 12679 10696  } 
				level = 1
			}
			build_railway = {
				path = { 10696 4700 12652 10600 3472 7774 7846 4824 } 
				level = 1
			}
			build_railway = {
				path = { 4824 10189 1543 9553 1821 } 
				level = 1
			}
			build_railway = {
				path = { 1821 10133 7320 3280 361 10314 10286 1380 206 7403 6278 } 
				level = 1
			}
			build_railway = {
				path = { 6278 6388 3300 3251 9336 260 6338 } 
				level = 1
			}
			build_railway = {
				path = { 6338 11243 11356 9373 6253 6374 3352 11277 11344  } 
				level = 1
			}
			build_railway = {
				path = { 11344 9407 6410 6362 3339 214 } 
				level = 1
			}
		}
	}
	
	focus = {
		id = SOV_magnitogorsk
		icon = GFX_SOV_maginotorsk
		prerequisite = { focus = SOV_tran_siberian }
		x = 5
		y = 4
		cost = 4.2
		available = {
			582 = { is_controlled_by = ROOT }
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESOURCES }

		completion_reward = {
			add_resource = {
				type = steel
				amount = 30
				state = 582
			}
			add_resource = {
				type = tungsten
				amount = 16
				state = 582
			}

			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}					
		}
	}
	
	focus = {
		id = SOV_camps
		icon = GFX_sib_camps
		prerequisite = { focus = SOV_tran_siberian }
		x = 7
		y = 4
		cost = 2.9
		available = {
		}
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
				add_stability = 0.07
		}
	}

	focus = {
		id = SOV_last_frontier
		icon = GFX_focus_SOV_south_manchuria_railway
		prerequisite = { focus = SOV_magnitogorsk focus = SOV_camps }
		relative_position_id = SOV_tran_siberian
		x = 0
		y = 2
		cost = 7
		available = {
			563 = { is_controlled_by = ROOT }
			409 = { is_controlled_by = ROOT }
		}
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_RESOURCES FOCUS_FILTER_POLITICAL FOCUS_FILTER_CONSTRUCTION }
		
		completion_reward = {
		
		    unlock_decision_tooltip = develop_x_aluminium_deposits
			unlock_decision_tooltip = develop_x_chromium_deposits
			566 = { 
				add_core_of = SOV 
				set_state_category = rural
			}
			574 = { 
				add_core_of = SOV 
				set_state_category = pastoral
			}
			406 = { 
				add_core_of = SOV 
				set_state_category = pastoral
			}
			563 = { 
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			409 = { 
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			
			build_railway = {
				path = { 957 6989 11750 6684 664 6686 11643 10466 12189 } 
				level = 1
			}
			build_railway = {
				path = { 12189 4805 12261 12678 7801 10655 4725 } 
				level = 1
			}
			build_railway = {
				path = { 4725 7763 12657 10678 7851 12543 10559 7725 4677 } 
				level = 2
			}
			build_railway = {
				path = { 4677 7786 10683 7860 12507 4766 10528 4837 1762 4797 } 
				level = 1
			}
			build_railway = {
				path = { 4797 12540 10661 10549 1813 1876 12621 12691 } 
				level = 2
			}
		
			if = {
				limit = { 
					or = {
						has_idea = SOV_colonization_1
						has_idea = SOV_colonization_0
					}
				}
				swap_ideas = {
					remove_idea = SOV_colonization_1
					add_idea = SOV_colonization_2
				}
			}
		}
	}
	
	focus = {
		id = SOV_far_east_army
		icon = GFX_Goal_Far_east_army
		prerequisite = { focus = SOV_develop_mongolia }
		x = 12
		y = 9
		cost = 4
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 3
				OR = {
				has_war_with = JAP
				CHI = { OR = { has_capitulated = yes exists = no is_puppet = yes } }				
				}
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
		     custom_effect_tooltip = SOV_far_east_army_tt
			 hidden_effect = {
		    load_oob = "SOV_eastern_army"
			}
		}
	}

	focus = {
		id = SOV_stalin_constitution
		icon = GFX_focus_SOV_stalins_cult_of_personality
		x = 12
		y = 0
		cost = 8
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		available_if_capitulated = yes

		completion_reward = {
		add_stability = 0.05
			add_popularity = {
			ideology = communism
			popularity = 0.07
		}
		}
	}

	
	focus = {
		id = SOV_anti_fascist_diplomacy
		icon = GFX_Goal_Anti_fascist_dimplomacy
		prerequisite = { focus = SOV_stalin_constitution }
		x = 12
		y = 2
		cost = 3
		ai_will_do = {
			factor = 12
			modifier = {
				has_government = fascism
				factor = 0
			}
		}	
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		available_if_capitulated = yes
		completion_reward = {
			USA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			ENG = { 
				if = {
					limit = { NOT = { has_government = fascism } }

					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			FRA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_fascists }
			}
		}
	}

	focus = {
		id = SOV_support_spain
		icon = GFX_goal_LEC_armsSPA
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		x = 14
		y = 3
		cost = 2.4
		ai_will_do = {
			factor = 50 
		}
		available = {
			has_global_flag = spanish_civil_war
			NOT = { has_global_flag = scw_over }
			
			if = {
		   		limit = {
					has_dlc = "La Resistance"
				}
				country_exists = SPD
		    }
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					OR = { has_government = communism has_government = democratic }
					has_civil_war = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		
        cancel_if_invalid = yes
		
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				unlock_decision_tooltip = SOV_support_spain_with_factories
			if = {
			    
				limit = {
					any_country = {
						tag = SPD
						has_tech = infantry_weapons1
					}
				}
			    SPD = {
			    	add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2000 producer = SOV }
		    	}
		    	else = {
		    		SPD = {
		        		add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 2000 producer = SOV }
		    		}
				}
			} 
			SPD = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 1000 producer = SOV }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 750 producer = SOV }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = SOV }
				add_equipment_to_stockpile = { type = infantry_uniforms_0 amount = 1000 producer = SOV }
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 250 producer = SOV }
				add_equipment_to_stockpile = { type = motorized_lia_equipment_01 amount = 250 producer = SOV }
				add_equipment_to_stockpile = { type = mountain_artillery_equipment_0 amount = 400 producer = SOV }
				}
			if = {
				limit = {
				    any_country = {
						tag = SPD
						has_tech = artillery1
					}
				}
				SPD = {
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 400 producer = SOV }
				}
				else =
				{
				SPD = {
				add_equipment_to_stockpile = { type = artillery_equipment_0 amount = 400 producer = SOV }
				}
				}
			}
			SPD = { 
			    country_event = spain.11
				add_opinion_modifier = { target = SOV modifier = SOV_SPR_help }
				add_popularity = {
					ideology = communism
					popularity = 0.04
				}
				
			}
			}
			
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						OR = { has_government = communism has_government = democratic }
					}
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3000 producer = SOV }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 750 producer = SOV }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = SOV }
				add_equipment_to_stockpile = { type = infantry_uniforms_0 amount = 1000 producer = SOV }
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 250 producer = SOV }
				add_equipment_to_stockpile = { type = motorized_lia_equipment_01 amount = 250 producer = SOV }
				add_equipment_to_stockpile = { type = artillery_equipment_0 amount = 400 producer = SOV }
				country_event = spain.11
				add_opinion_modifier = { target = SOV modifier = SOV_SPR_help }
				add_popularity = {
					ideology = communism
					popularity = 0.04
				}
				}
			}
		}
	}
	

	focus = {
		id = SOV_far_east_fortification
		icon = GFX_Goal_Soviet_Defense2
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		x = 10
		y = 3
		cost = 4
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 3
				OR = {
				has_war_with = JAP
				CHI = { OR = { has_capitulated = yes exists = no is_puppet = yes } }				
				}
			}
		}	
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		completion_reward = {
			563 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_1
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4719
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 12622
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10559
							instant_build = yes
						}
					}
				}
			}
			657 = {
					if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 7763
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 4725
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10655
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 7801
							instant_build = yes
						}
					}
				}
			}
			409 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_3
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 12189
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10466
							instant_build = yes
						}
					}
				}
			}
			408 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = bunker
					level = 2
					province = 11643
					instant_build = yes
					}
				}
			}
			# Other possible Provinces
			# 4719 12802 10559 12543 7851 10678 12657 7763 4725 10655 7801 10722 7672 4805
			# 12189 10466 11643 6686 664 6684 3787 6838 3977 11879 1755
		}
	}
	focus = {
		id = SOV_support_china
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		prerequisite = { focus = SOV_far_east_fortification }
		x = 10
		y = 4
		cost = 3
		ai_will_do = {
			factor = 30 
		}
		bypass = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		
		available = {
			CHI = { has_war_with = JAP }
			#CHI = { has_tech = infantry_weapons1 }
			CHI = { has_completed_focus = CHI_rapprochement_with_soviet_union }
			OR = {
				is_ai = yes 
				AND = {
					has_equipment = { infantry_equipment > 999 }
					has_equipment = { infantry_uniforms > 499 }
				}
			}
		}
		
		completion_reward = {
			army_experience = 20
			add_political_power = 50 
			ROOT = {
				send_equipment = {
					target = CHI
					type = infantry_equipment
					amount = 1000
					old_prioritised = yes
				}
				send_equipment = {
					target = FROM
					type = infantry_uniforms
					amount = 500
					old_prioritised = yes
				}
			}
			CHI = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3500 producer = SOV }
				add_equipment_to_stockpile = { type = infantry_uniforms_0 amount = 2500 producer = SOV }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 2500 producer = SOV }
			} 
			CHI = {
				add_opinion_modifier = { target = SOV modifier = SOV_CHI_help }
			}
		}
	}
	focus = {
		id = SOV_pressure_mon
		icon = GFX_Goal_pressure_Mongolia
		prerequisite = { focus = SOV_far_east_fortification }
		available = {
			MON = {
				has_government = communism
				any_neighbor_country = {
						is_subject_of = JAP
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_DIPLOMACY }
		continue_if_invalid = yes
		bypass = {
			MON = {
				NOT = { has_government = communism }
				any_neighbor_country = {
					NOT = { is_subject_of = JAP }
				}
			}
		}
		x = 12
		y = 4
		cost = 3
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			MON = {
				country_event = { id = soviet.140 }
			}
		}
	}
	focus = {
		id = SOV_fareast
		icon = GFX_focus_SOV_the_road_of_life
		prerequisite = { focus = SOV_pressure_mon }
		relative_position_id = SOV_pressure_mon
		available = {
		}
		continue_if_invalid = yes
		bypass = {
		}
		x = 0
		y = 1
		cost = 2.6
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			unlock_decision_tooltip = SOV_JAP_war
			custom_effect_tooltip = POL_decisiongive
			effect_tooltip = {
				custom_effect_tooltip = SOV_japan_units
				remove_ideas = SOV_rear_is_safe
				add_ideas = SOV_patriotic
			}
		}
	}
	focus = {
		id = SOV_destroysiberia
		icon = GFX_Goal_Positive_heroism
		prerequisite = { focus = SOV_fareast }
		relative_position_id = SOV_fareast
		available = {
		}
		continue_if_invalid = yes
		bypass = {
		}
		x = 0
		y = 1
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			unlock_decision_tooltip = SOV_destroysiberia2
			custom_effect_tooltip = POL_decisiongive
			effect_tooltip = {
				408 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
				409 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
				657 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
				561 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
				563 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
				564 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
				566 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
				567 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
		}
	}
	focus = {
		id = SOV_permanent_asia_rev
		icon = GFX_focus_chi_one_china_policy
		prerequisite = { focus = SOV_develop_sinkiang }
		prerequisite = { focus = SOV_develop_mongolia }
		available = {
		}
		continue_if_invalid = yes
		bypass = {
		}
		x = 11
		y = 8
		cost = 5.5
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
		     if = { limit = { MON = { exists = yes }}
		          MON = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { MEN = { exists = yes }}
		          MEN = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { MAN = { exists = yes }}
		          MAN = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { CCP = { exists = yes }}
		          CCP = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { SIK = { exists = yes }}
		          SIK = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { TIB = { exists = yes }}
		          TIB = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { YUN = { exists = yes }}
		          YUN = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { XSM = { exists = yes }}
		          XSM = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { TAN = { exists = yes }}
		          TAN = {   country_event = { id = political.4 }  }
		     }
		}
	}
	focus = {
		id = SOV_operation_zet
		icon = GFX_goal_LEC_strikeJAP
		prerequisite = { focus = SOV_support_china }
		available = {
			CHI = { has_war_with = JAP }
			CHI = { has_tech = early_fighter }
		}
		continue_if_invalid = yes
		bypass = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		x = 10
		y = 5
		cost = 2
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
			add_timed_idea = {
				idea = SOV_secret_production
				days = 90
			}
			if = {
				limit = {
					CHI = {
						has_tech = early_fighter
						NOT = { has_tech = fighter1 }
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 600 producer = CHI }
				}
			
			else = {
			if = {
				limit = {
					CHI = {
						has_tech = fighter1
						NOT = { has_tech = fighter2 }
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 600 producer = CHI }
				}
			}
			if = {
				limit = {
					CHI = {
						has_tech = fighter2
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 600 producer = CHI }
				}
			}
			}
			}
			CHI = {
				add_opinion_modifier = { target = SOV modifier = operation_zet_chi }				
			}
			JAP = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
			CCP = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
		}
	}

	focus = {
		id = SOV_annex_tannu_tuva
		icon = GFX_Goal_annex_tanu_tuva
		prerequisite = { focus = SOV_operation_zet }
		available = { 
			is_puppet = no 
			TAN = {
				is_puppet_of = SOV
			}
		}
		bypass = {
			NOT = { country_exists = TAN }
			NOT = { TAN = { is_puppet_of = SOV } }
		}
		x = 10
		y = 6
		cost = 2
		ai_will_do = {
			factor = 10
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			TAN = {
				country_event = { id = soviet.14 }
			}
		}
	}

	focus = {
		id = SOV_vasily_chuikov
		icon = GFX_focus_sov_recall_zhuikov
		prerequisite = { focus = SOV_saturnprep }
		relative_position_id = SOV_saturnprep
		
		available = {
		    has_completed_focus = SOV_far_east_fortification
		}
		x = 1
		y = 1
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = vasily_chuikov_1
			#add_political_power = 100
		}
	}
	
	focus = {
		id = SOV_japan_agreement
		icon = GFX_focus_chi_collaboration_with_the_japanese
		mutually_exclusive = { focus = SOV_war_with_japan }
		x = 13
		y = 10
		cost = 4
		ai_will_do = {
			factor = 1
			modifier = {
			factor = 5
			date > 1941.1.1
			}
		}
		available = {
			has_completed_focus = SOV_far_east_fortification
			threat > 0.9 
			JAP = { has_war = yes }
			NOT = {has_war_with = JAP }
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available_if_capitulated = yes

		completion_reward = {
		    effect_tooltip = {
			SOV = {
		    	set_truce = { target = JAP days = 800 }
            }
			}
			JAP = { 
			country_event = soviet.73 
			custom_effect_tooltip = needs_approval
			}
		}
	}
	
	focus = {
		id = SOV_war_with_japan
		icon = GFX_focus_attack_japan
		mutually_exclusive = { focus = SOV_japan_agreement }
		available = {
		    has_completed_focus = SOV_far_east_fortification
		}
		x = 11
		y = 10
		available = {
			country_exists = JAP
			date > 1943.1.1
			OR = {
			 NOT = { SOV = { has_war_with = GER } }
			 
			 OR = {
					JAP = { controls_state = 629 }
					any_other_country = {
						is_in_faction_with = JAP
						controls_state = 629
					}
				}
			}	
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		will_lead_to_war_with = JAP
		cost = 8
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_germany
						GER = { has_capitulated = no }
					}
					
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.9
				}
			}
		}
		bypass = {
			OR = {
				has_war_with = JAP
				NOT = { country_exists = JAP }
			}
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
			} 
		}
	}
	
	focus = {
		id = SOV_improve_stalin_line
		icon = GFX_Goal_Soviet_Defense
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		available = { }
		x = 12
		y = 3
		cost = 6
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 4
				OR = {
				threat > 0.35
				date > 1937.6.1
				}
			}
		}	
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		completion_reward = {
			209 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 2
						province = 415
						instant_build = yes
					}
				}
				#add_building_construction = {
				#	type = bunker
				#	level = 6
				#	province = 209
				#	instant_build = yes
				#}
			}
			210 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 3333
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 3219
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6371
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6220
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11370
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 525
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 3494
						instant_build = yes
					}
				}

			}
			203 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 11409
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 754
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 741
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 11670
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claims_on_baltic
		icon = GFX_SOV_claims_baltic
		prerequisite = { focus = SOV_baltic_security }
		
		x = 16
		y = 6
		cost = 8
		available = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact 
				custom_trigger_tooltip = {
					tooltip = SOV_claims_on_baltic_tt
					has_global_flag = sov_no_pact
				}
				date > 1939.8.1
			}
			has_army_manpower = { size > 1499999 } 
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				NOT = { 
					GER = { has_completed_focus = GER_demand_memel }
				}
			}
			modifier = {
				factor = 2
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}
		bypass = {
			OR = { 
				owns_state = 11
				11 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 12
				12 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 189
				189 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 190
				190 = { is_claimed_by = ROOT }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 11
			add_state_claim = 189
			add_state_claim = 12
			add_state_claim = 190
			add_state_claim = 191 
			add_state_claim = 13
			add_named_threat = { threat = 3 name = SOV_claims_on_baltic }

			every_other_country = {
			
				limit = {					
					OR = {
						owns_state = 11
						owns_state = 12
						owns_state = 189
						owns_state = 190
						owns_state = 191 
						owns_state = 13
					}
				}
				add_opinion_modifier = { target = SOV modifier = threat_to_baltic }
			}
		}
	}

	focus = {
		id = SOV_baltic_security
		icon = GFX_SOV_security_baltic
		prerequisite = { focus = SOV_improve_stalin_line }
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		mutually_exclusive = { focus = SOV_afganistan }
		x = 16
		y = 4
		cost = 4.5
		available = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.75	
			}
			has_army_manpower = { size > 1499999 } 
		}
		
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				date < 1939.5.1
			}
			modifier = {
				factor = 2
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}
		bypass = {
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
		    if = { limit = { FIN = { is_in_faction = no } }
		    custom_effect_tooltip = SOV_baltic_security_tt
			}
			add_state_claim = 146 # Karjala
			add_named_threat = { threat = 2 name = SOV_baltic_security }
			hidden_effect = {
			SOV = { country_event = { days = 2 id = soviet.31 } }
			SWE = {
			country_event = soviet.75
			}
			}
		}
	}
	
	focus = {
		id = SOV_claims_on_poland
		icon = GFX_Goal_Attack_poland
		prerequisite = { focus = SOV_claims_on_baltic }
		x = 15
		y = 7
		cost = 4.6
		available = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.8	
			}
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 4
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}

		bypass = {
			#OR = {
				#has_idea = SOV_molotov_ribbentrop_pact

				#NOT = { country_exists = POL }

				AND = {
					OR = { 
						owns_state = 91
						91 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 93
						93 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 94
						94 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 95
						95 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 96
						96 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 89
						89 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 97
						97 = { is_claimed_by = ROOT }
					}
				}
			#}			
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			unlock_decision_tooltip = SOV_waronpoland
			# REVISIT Covers Polish border, may want to add/remove some states
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 89
			add_named_threat = { threat = 3 name = SOV_claims_on_poland }

			every_other_country = {
				limit = { 
					OR = {
						owns_state = 96
						owns_state = 95
						owns_state = 94
						owns_state = 93
						owns_state = 91
						owns_state = 89
					}
				}
				add_opinion_modifier = { target = SOV modifier = claimed_eastern_poland }
			}
		}
	}

	focus = {
		id = SOV_defense_of_moscow
		icon = GFX_SOV_defense_of_moscow
		prerequisite = { focus = SOV_gosplan focus = SOV_martiallaw }
		available = {
			219 = {
				is_controlled_by = ROOT
			}
		}
		bypass = {
			NOT = {
				219 = {
					is_controlled_by = ROOT
				}	
			}
		}
		x = 5
		y = 11
		cost = 2.9
		ai_will_do = {
			factor = 100
		}	
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		completion_reward = {
			219 = {
				custom_effect_tooltip = SOV_defense_of_moscow_forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 3391
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6414
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9348
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 301
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9378
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6283
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3259
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11282
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6348
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = SOV_desperate_times
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_defense_of_moscow }
		relative_position_id = SOV_defense_of_moscow
		x = -1
		y = 1
		cost = 4.4

		ai_will_do = {
			factor = 8
		}
		
		available = {
			JAP = { has_war_with = USA }
			surrender_progress > 0.3
			
		
		}
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			custom_effect_tooltip = we_need_more_men
			hidden_effect = { set_technology = { Desperate_for_men_tech = 1 } }
			add_ideas = SOV_childmobil
		}
	}
	
	focus = {
		id = SOV_order_227
		icon = GFX_Goal_Sov_high_command
		prerequisite = { focus = SOV_defense_of_moscow }
		relative_position_id = SOV_defense_of_moscow
		x = 1
		y = 1
		cost = 2.9

		ai_will_do = {
			factor = 8
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = barba_9
				check_variable = {
					var = global.ostfront_year_4
				value = 8
				compare = greater_than_or_equals
				}
			}
			surrender_progress > 0.25
		}
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
				hidden_effect = {
					sound_effect = sp_sov_invinciblearmy 
				}
			}
			add_ideas = SOV_order227
		}
	}
	
	focus = {
		id = SOV_defense_of_leningrad
		icon = GFX_SOV_defense_of_moscow
		prerequisite = { focus = SOV_council_evacuation }
		available = {
			195 = {
				is_controlled_by = ROOT

			}
		}
		x = -3
		y = 11
		cost = 2.9
		ai_will_do = {
			factor = 100
		}	
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		completion_reward = {
			195 = {
				custom_effect_tooltip = SOV_defense_of_liningrad_forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 1
						province = 6174
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 79
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 149
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 3151
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 11068
						instant_build = yes
					}
				}
			}
			244 = {
			    hidden_effect = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level < 2
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_defense_of_stalingrad
		icon = GFX_SOV_defense_of_moscow
		prerequisite = { focus = SOV_gosplan focus = SOV_martiallaw }	
		available = {
			217 = {
				is_controlled_by = ROOT
			}
		}
		bypass = {
			NOT = {
				217 = {
					is_controlled_by = ROOT
				}	
			}
		}		
		x = 1
		y = 11
		cost = 2.9
		ai_will_do = {
			factor = 100
		}	
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		completion_reward = {
			217 = {
				custom_effect_tooltip = SOV_defense_of_stalingrad_forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 3529
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 11474
						instant_build = yes
					}
				}
				set_building_level = {
						type = bunker
						level = 3
						province = {
							all_provinces = yes
							limit_to_border = no
							level < 3
						}
					}
			}
		}
	}
    
	focus = {
		id = SOV_claim_bessarabia
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_claims_on_poland }
		x = 15
		y = 8
		cost = 6
		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 8
				has_idea = SOV_molotov_ribbentrop_pact
			}			
		}
		bypass = {
			OR = { 
				owns_state = 78
				78 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 80
				80 = { is_claimed_by = ROOT }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 78
			add_state_claim = 80
			add_state_claim = 766
			add_named_threat = { threat = 1 name = SOV_claim_bessarabia }
			random_other_country = {
				limit = { owns_state = 78 }
				add_opinion_modifier = { target = SOV modifier = claimed_bessarabia }
				set_country_flag = SOV_added_claimed_bessarabia
			}
			if = {
				limit = {
					any_other_country = {
						owns_state = 78
						NOT = {	owns_state = 80 }
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 80 
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
				}
			}
		}
	}
	
	focus = {
		id = SOV_ratify_molotov
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = SOV_claim_bessarabia focus = SOV_pak_puppet focus = SOV_rebuild_iran }
		mutually_exclusive = { focus = SOV_war_with_germany }
		available = {
			country_exists = GER			
			has_global_flag = sov_yes_pact
			NOT = { has_idea = SOV_molotov_ribbentrop_pact }
			NOT = { has_global_flag = eastern_front_peace }
		}
		bypass = {
			has_war_with = GER
		}

		x = 16
		y = 9
		cost = 8
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
            GER = { country_event = germany.253 }
		}
	}


	focus = {
		id = SOV_war_with_germany
		icon = GFX_focus_attack_germany
		prerequisite = { focus = SOV_claim_bessarabia focus = SOV_pak_puppet focus = SOV_rebuild_iran }
		mutually_exclusive = { focus = SOV_ratify_molotov }
		available = {
			country_exists = GER
			has_country_flag = plan_ready
			#NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
			NOT = { has_global_flag = eastern_front_peace }
		}
		bypass = {
			has_war_with = GER
		}
		will_lead_to_war_with = GER
		x = 18
		y = 9
		cost = 10
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0
                                OR = {  
				        date < 1941.12.12
					AND = {
						has_completed_focus = SOV_war_with_japan
						JAP = { has_capitulated = no }
						has_war = yes
					}
				}
			}

			modifier = {
				factor = 2
				ROM = {
					is_in_faction_with = GER
				}
			}
			modifier = {
				factor = 10
				GER = {
					has_war_with = USA
				}
			}
			modifier = {
				factor = 0.5
				GER = { strength_ratio = { tag = SOV ratio > 1 } }
			}
			modifier = {
				factor = 0.2
				GER = { strength_ratio = { tag = SOV ratio > 2 } }
			}
			modifier = {
				factor = 0
				GER = { strength_ratio = { tag = SOV ratio > 4 } }
			}
			modifier = {
				factor = 2
				GER = { strength_ratio = { tag = SOV ratio < 1 } }
			}
		}	
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
			} 
		}
	}
	
	focus = {  # they fear us now
		id = SOV_molotov_pact_extension
		icon = GFX_focus_ger_great_red_menace
		prerequisite = { focus = SOV_ratify_molotov }
		available = {
			country_exists = GER
			date > 1941.11.1
			has_war = no
			has_idea = SOV_molotov_ribbentrop_pact
			OR = {
			95 = { is_controlled_by_ROOT_or_ally = yes }
			89 = { is_controlled_by_ROOT_or_ally = yes }
			}
		}		
		bypass = {
				OR = {
				owns_state = 79
				has_war_with = ROM
				has_war_with = GER
				}
		}		
		x = 16
		y = 10
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				ROM = {
					NOT = { is_in_faction_with = GER }
				}
			}
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
		    add_state_claim = 79
	   	    GER = { country_event = { id = romania.8 } }
		}
	}
	# TODO: add mechanic that renews molotov pact when the spirit runs out?
	
	focus = {
	id = SOV_Baltic_Sea_1
	icon = GFX_goal_generic_construct_military
	cost = 5.8
   available = {
   195 = { is_controlled_by = ROOT } 
   208 = { is_controlled_by = ROOT } 
   }
	x = 23
	y = 1
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_CONSTRUCTION }
	completion_reward = {
	        custom_effect_tooltip = available_theorist
			show_ideas_tooltip = vladimir_tributs
			208 = {
					add_building_construction = {
						type = bunker
						level = 1
						province = 104
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 104
						instant_build = yes
					}
				
				}
				195 = {
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3151
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = 3151
						instant_build = yes
					}
				}
			
		}
	

   }
	
	focus = {
	id = SOV_Sevastopol
	icon = GFX_goal_generic_construct_military
	cost =5.8
   available = {
   137 = { is_controlled_by = ROOT } 
   }
	x = 25
	y = 1
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_CONSTRUCTION }
	completion_reward = {
			137 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 3686
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3686
						instant_build = yes
					}
					set_building_level = {
						type = bunker
						level = 3
						province = {
							all_provinces = yes
							level < 3
						}
					}
					add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 1
					instant_build = yes
				}
		}
	}

   }
   
   focus = {
	id = SOV_Black_Sea
	icon = GFX_goal_generic_build_navy
	cost = 5.5
	prerequisite = { focus = SOV_Sevastopol }
    mutually_exclusive = { focus = SOV_Baltic_Sea }
	available = {
	}
	x = 25
	y = 2
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_NAVY_XP }
	completion_reward = {
			navy_experience = 20
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.3
				uses = 5
				category = naval_equipment
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = nevskoye_coastal_bureau
	}

   }
   
   focus = {
	id = SOV_Baltic_Sea
	icon = GFX_goal_Upgrade_Reserves
	mutually_exclusive = { focus = SOV_Black_Sea }
	available = {
	}
	prerequisite = { focus = SOV_Baltic_Sea_1 }
	cost = 5.5

	x = 23
	y = 2
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_NAVY_XP }
	completion_reward = {
			navy_experience = 20
			add_tech_bonus = {
				name = bb_bonus
				bonus = 0.75
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = naval_gunry
				bonus = 0.75
				uses = 1
				category = naval_gunry
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = nevskoye_atlantic_bureau			
	}

   }

	focus = {
		id = SOV_anti_capitalist_diplomacy
		icon = GFX_Goal_Anti_Capitalist_diplomacy
		prerequisite = { focus = SOV_stalin_constitution }
		x = 19
		y = 2
		cost = 2.8
		available = { 
			date > 1938.02.01
			threat > 0.25
		}
		ai_will_do = {
			factor = 0.25
			modifier = {
				factor = 13
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_focus }
			}
			USA = { 
				if = {
					limit = { NOT = { has_government = communism } }
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}
			ENG = {
				if = { 
					limit = { NOT = { has_government = communism } }
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}
			FRA = { 
				if = {
					limit = { NOT = { has_government = communism } }
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}	
		}
	}

	focus = {
		id = SOV_expand_red_fleet
		icon = GFX_soviet_navy_1
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		prerequisite = { focus = SOV_Baltic_Sea focus = SOV_Black_Sea }
        prerequisite = { focus = SOV_great_navy_purge  }
		x = 24
		y = 3
		cost = 7.2
       
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		available_if_capitulated = yes
		complete_tooltip = {
		    navy_experience = 25
			every_state = {
				limit = { has_state_flag = SOV_expand_red_fleet_2dockyards }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}				
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.6
				uses = 2
				category = naval_equipment
			}		
            custom_effect_tooltip = available_theorist
			show_ideas_tooltip = vladimir_tributs			
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.6
				uses = 2
				category = naval_equipment
			}
		}
	}
	
	focus = {
		id = SOV_cruiser_effort
		icon = GFX_goal_generic_cruiser2
		mutually_exclusive = { focus = SOV_submarine_designs }
		prerequisite = { focus = SOV_expand_red_fleet }

		x = 23
		y = 4
		cost = 5.8

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 40
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.6
				uses = 2
				category = cl_tech
				category = ca_tech
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = nevskoye_escort_bureau
		}
	}
	
	focus = {
		id = SOV_submarine_designs
		icon = GFX_Goal_sub_plans
		mutually_exclusive = { focus = SOV_cruiser_effort }
		prerequisite = { focus = SOV_expand_red_fleet }

		x = 25
		y = 4
		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 30
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.5
				uses = 2
				category = ss_tech
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = nevskoye_interceptor_bureau
		}
	}
	
	focus = {
		id = SOV_modern_navy
		icon = GFX_goal_Large_Navy
		
		prerequisite = { focus = SOV_submarine_designs focus = SOV_cruiser_effort }
		

		x = 24
		y = 6
		cost = 5
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			navy_experience = 30
			add_tech_bonus = {
				name = naval_doc_bonus
				uses = 3
				bonus = 0.75
				category = naval_doctrine
			}
			if = {
				limit = {
					has_idea = navy_purged
				}
				remove_ideas = navy_purged
			}
			else_if = {
				limit = {
					has_idea = navy_purged_2
				}
				remove_ideas = navy_purged_2
			}
		}
	}
	
	focus = {
		id = SOV_carriers
		icon = GFX_goal_carrier2
		prerequisite = { focus = SOV_modern_navy  }
		

		x = 25
		y = 7
		cost = 6.5
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 0.75
				uses = 2
				category = cv_tech
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = nevskoye_continental_bureau
		}
	}
	
	focus = {
		id = SOV_bcs
		icon = GFX_sov_bb
		prerequisite = { focus = SOV_modern_navy  }
		

		x = 23
		y = 7
		cost = 5
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = FRA_capital_ship_focus
				bonus = 0.75
				uses = 2
				category = bb_tech
			}
		}
	}
	
	focus = {
		id = SOV_afganistan
		icon = GFX_focus_attack_afghanistan
		mutually_exclusive = { focus = SOV_baltic_security }
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		available = {
            OR = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.8	
			}
		}
		x = 18
		y = 4
		cost = 4
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
					target = AFG
					type = annex_everything
				}
		}
	}
	
	focus = {
		id = SOV_afganistan_2
		icon = GFX_goal_POL_revive
		prerequisite = { focus = SOV_afganistan }
		available = {
            267 = { is_controlled_by_ROOT_or_ally = yes }
			415 = { is_controlled_by_ROOT_or_ally = yes }
		}
		x = 18
		y = 6
		cost = 3
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_OCCUPATION_COST }
		completion_reward = {
			AFG = { 
			if = { limit = { has_idea = AFG_graveyard_of_empires_1 } 
			remove_ideas = AFG_graveyard_of_empires_1
            }
			
			if = { limit = { has_idea = AFG_graveyard_of_empires_2 } 
			remove_ideas = AFG_graveyard_of_empires_2
			}
			}
			
			267 = { 
			    add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			415 = { 
			    add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SOV_iran
		icon = GFX_focus_attack_iran 
		mutually_exclusive = { focus = SOV_pakistan }
		prerequisite = { focus = SOV_afganistan_2 }
		available = {
              #has_completed_focus = SOV_afganistan
		}
		x = 17
		y = 7
		cost = 4
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			create_wargoal = {
					target = PER
					type = annex_everything
				}
		}
	}
	
	focus = {
		id = SOV_pakistan
		icon = GFX_pak_communism
		mutually_exclusive = { focus = SOV_iran }
		prerequisite = { focus = SOV_afganistan_2 }
		available = {
            NOT = { country_exists = PAK }
			NOT = { 443 = { is_controlled_by_ROOT_or_ally = yes } }
		}
		x = 19
		y = 7
		cost = 8
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
		    443 = { CONTROLLER = {
			release = PAK
			end_puppet = PAK
			}
			}
						PAK = {

							hidden_effect = {
								set_politics = {
									ruling_party = communism
									last_election = "1935.11.14"
									election_frequency = 58
									elections_allowed = no
								}
								set_popularities = {
									democratic = 35
									fascism = 0
									communism = 50
									neutrality = 25
								}
							}
							country_event = { id = political.4 }
							add_country_leader_trait = dictator
							444 = {
							add_extra_state_shared_building_slots = 2
			add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
							}
							442 = {
							add_extra_state_shared_building_slots = 2
			add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
					add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
							}
							
							219 = {
			remove_building = {
				type = arms_factory
				level = 3
			}
			remove_building = {
				type = industrial_complex
				level = 3
			}
			
							}
	hidden_effect = {
							set_technology = {
	################# infantry ###############
	infantry_uniforms = 1
	infantry_weapons = 1
	infantry_weapons1 = 1
	hmg = 1
	mortars = 1
	semi_motorised_infantry = 2
	tech_Garrison = 1
	tech_Headquarters = 1
	################## support ##################
	tech_recon = 1
	subtech_recon_cav_1 = 1
	desert_equipment = 1
	tech_engineers = 1
	tech_support = 1
	################## artillery ###############
	gw_artillery = 2
	#interwar_artillery = 2
	################## armor ##############
	generic_armor = 1
	tech_Gun_Carriers = 1
	################## aircraft ##############
	early_fighter = 1
	CAS0 = 1
	generic_fighter = 1
	generic_bomber = 1
	############### economy ############
	construction0 = 1
	basic_industry = 2
	defence_works0 = 1
	infra_works0 = 1
	concentrated_industry = 2
	tech_Garrison_2 = 1
}

							load_oob = "PAK_start"
							
							
							hidden_effect = {

				random_owned_state = {
				create_unit = { 
				division = "name = \"Infantry Division 1\" division_template = \"Infantry Division\" start_experience_factor = 0.25" 
		owner = PAK
		}
				
				create_unit = { 
				division = "name = \"Infantry Division 2\" division_template = \"Infantry Division\" start_experience_factor = 0.2" 
		owner = PAK
		}
				}
				
						random_owned_state = {
				create_unit = { 
				division = "name = \"Infantry Division 3\" division_template = \"Infantry Division\" start_experience_factor = 0.25" 
		owner = PAK
		}
				
				create_unit = { 
				division = "name = \"Infantry Division 4\" division_template = \"Infantry Division\" start_experience_factor = 0.25" 
		owner = PAK
		}
				}
				
				random_owned_state = {
				create_unit = { 
				division = "name = \"Infantry Division 5\" division_template = \"Infantry Division\" start_experience_factor = 0.25" 
		owner = PAK
		}
				
				create_unit = { 
				division = "name = \"Infantry Division 6\" division_template = \"Infantry Division\" start_experience_factor = 0.2" 
		owner = PAK
		}
				}
				add_ideas = neutrality_idea
				set_rule = { can_join_factions = no }
				}
				
							
							
						}
					}
						
            431 = { CONTROLLER = {
			transfer_state = 430
			set_state_controller = 430
			country_event = { id = britain.48 days = 1 }
			
			
			}
			}
			hidden_effect = { news_event = { id = mtg_news.45 days = 1 } }
		}
	}
	
	focus = {
		id = SOV_pak_puppet
		icon = GFX_first_shore
		prerequisite = { focus = SOV_pakistan }
		available = {
              
		}
		x = 19
		y = 8
		cost = 3.3
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
		    effect_tooltip = {
		    SOV = { set_autonomy = { target = PAK autonomy_state = autonomy_SSR } }
			add_to_faction = PAK
			}
			#hidden_effect = {
			if = { limit = { RAJ = { is_subject_of = ENG } }
			ENG = { country_event = soviet.70 }
			else = {
			RAJ = { country_event = soviet.70 }
			}
			}
			
			#}
		}
	}
	
	focus = {
		id = SOV_rebuild_iran
		icon = GFX_goal_ruins_rebuid
		prerequisite = { focus = SOV_iran }
		available = {
              412 = { is_controlled_by_ROOT_or_ally = yes }
		}
		x = 17
		y = 8
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		completion_reward = {
		    412 = { 
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 7982
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 7982
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 3
						province = 7982
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 12832
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = 12832
						instant_build = yes
					}
				
			}
			
			413 = { 
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 5005
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = 5005
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 5005
						instant_build = yes
					}
				
			}
		}
	}

	focus = {
		id = SOV_murmansk_lend_lease
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_change_of_course }
		x = 20
		y = 5
		cost = 3
		available = { 
				has_war_with = GER
				213 = {is_controlled_by = SOV}
				USA = { has_completed_focus = USA_lend_lease_act }
		}
		ai_will_do = {
			factor = 7
		}	
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
			add_ideas = lend_lease1
			if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
				hidden_effect = {
					sound_effect = sp_sov_rallytheworkers 
				}
			}
		}
	}

	focus = {
		id = SOV_arkangelsk_lend_lease
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_murmansk_lend_lease }
		prerequisite = { focus = SOV_pause_revolution }
		x = 20
		y = 9
		cost = 3
		available = { 
			has_war_with = GER
			214 = { is_controlled_by = SOV}
			date > 1941.12.12
		}
		ai_will_do = {
			factor = 7
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }	
		completion_reward = {
			add_ideas = lend_lease2
		}
	}

	focus = {
		id = SOV_persia_lend_lease
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_pacific_lend_lease }
		prerequisite = { focus = SOV_pause_revolution }
		available = { 
			has_war_with = GER
			ENG = { has_war_with = GER }
			229 = { 
			CONTROLLER = { is_in_faction_with = ROOT }
			}
			#date > 1942.06.01
		}
		x = 22
		y = 9
		cost = 4
		ai_will_do = {
			factor = 2
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
			add_ideas = lend_lease3
			country_event = { id = soviet.63 }
		}
	}

	focus = {
		id = SOV_pacific_lend_lease
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_change_of_course }
		available = {
			has_war_with = GER
			408 = {is_controlled_by = SOV} 
			date > 1941.06.01
		}
		x = 22
		y = 5
		cost = 4
		ai_will_do = {
			factor = 8
		}	
		search_filters = { FOCUS_FILTER_DIPLOMACY }	
		completion_reward = {
			add_ideas = lend_lease4
		}
	}

	focus = {
		id = SOV_production_license
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = SOV_persia_lend_lease }
		prerequisite = { focus = SOV_arkangelsk_lend_lease }
		available = {
			has_war_with = GER
		}
		x = 21
		y = 10
		cost = 5.7
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_DIPLOMACY }	
		completion_reward = {
			add_ideas = SOV_idea_license
		}
	}

	focus = {
		id = SOV_great_purge
		icon = GFX_focus_SOV_military_purge
		available = {
			NOT = { has_country_flag = counter_purge }
			has_government = communism
		}
		x = 32
		y = 1
		cost = 15.4
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				any_claim = yes
				has_war = yes
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SOV_great_purge_bypass_tt
				has_country_flag = counter_purge
			}
		}

		select_effect = {
			country_event = { id = soviet.24 days = 1 }
			set_country_flag = SOV_purge_started
		}
		search_filters = { FOCUS_FILTER_SOV_POLITICAL_PARANOIA }	
		completion_reward = {
			custom_effect_tooltip = SOV_great_purge_tt
			custom_effect_tooltip = SOV_great_purge_tt2
			custom_effect_tooltip = SOV_great_purge_tt3
			add_war_support = -0.1
			#Full military purge. Hardest penalty
			if = {
				limit = {
					OR = {
						has_country_flag = purge_1_group_a
						has_country_flag = purge_1_group_b
					}
					OR = {						
						has_country_flag = purge_2_group_a
						has_country_flag = purge_2_group_b
					}
				}
				
				hidden_effect = {
					news_event = { hours = 6 id = news.219 }
				}
			}

			remove_ideas = trotskyite_plot
			add_ideas = trotskyite_plot_purged

			hidden_effect = {
				if = {
					limit = { 
						any_other_country = {
							num_of_factories > 80
							has_offensive_war_with = SOV
						}
					}
					country_event = { id = soviet.46 days = 3 }
				}				 
			}
		}
	}
    focus = {
		id = SOV_great_navy_purge 
		icon = GFX_nav_purge
		prerequisite = { focus = SOV_great_purge }

		x = 27
		y = 2
		cost = 4.7
		ai_will_do = {
			factor = 4
		}
      bypass = {
	     has_completed_focus = SOV_great_purge
         NOT = { has_idea = navy_purged }
		 NOT = { has_idea = navy_purged_2 }
		 has_country_flag = purge_dd
      }
	  search_filters = { FOCUS_FILTER_SOV_POLITICAL_PARANOIA }	

		completion_reward = {
		    if = { limit = { has_idea = navy_purged }
			remove_ideas = navy_purged
			}
			if = { limit = { has_idea = navy_purged_2 }
			
			swap_ideas = {
			remove_idea = navy_purged_2
			add_idea = navy_purged
			}
			}			
		}
	}
	
	focus = {
		id = SOV_civ_dock
		icon = GFX_goal_SOV_dockyard
		
		prerequisite = { focus = SOV_great_navy_purge }
		prerequisite = { focus = SOV_collectivist_propaganda }
		relative_position_id = SOV_great_navy_purge

		x = -1
		y = 1
		cost = 5.8
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }	

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
				}
				add_building_construction = {
					instant_build = yes
					level = 2
					type = industrial_complex
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
				}
				add_building_construction = {
					instant_build = yes
					level = 2
					type = dockyard
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}
	
    focus = {
		id = SOV_nkvd_primacy
		icon = GFX_Goal_NKVD_Primacy
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 29
		y = 3
		cost = 4
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		search_filters = { FOCUS_FILTER_POLITICAL }	
		
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = nkvd_idea
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_lavrentiy_beria
		}
	}

	focus = {
		id = SOV_nkvd_divisions
		icon = GFX_shadow_government
		prerequisite = { focus = SOV_nkvd_primacy }
		x = 29
		y = 4
		cost = 8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPY }
		available_if_capitulated = yes
		completion_reward = {
			
        swap_ideas = { remove_idea = nkvd_idea add_idea = nkvd_idea_2 }
		
		set_technology = { 
				nkvd_improved = 1
			} 
				
		}
	}

	focus = {
		id = SOV_Beria_Partisans
		icon = GFX_Goal_Communist_Partisans2
		prerequisite = { focus = SOV_nkvd_divisions }
		available = { 
			has_war_with = GER
		}
		x = 29
		y = 5
		cost = 6.8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPY }
		available_if_capitulated = yes
		completion_reward = {
			
		swap_ideas = { remove_idea = nkvd_idea_2 add_idea = nkvd_idea_3 }
			
		}
	}

	focus = {
		id = SOV_collectivist_propaganda
		icon = GFX_Goal_Commie_recruits
		prerequisite = { focus = SOV_great_purge }
		x = 30
		y = 2
		cost = 6.5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		search_filters = { FOCUS_FILTER_POLITICAL }
		available_if_capitulated = yes

		completion_reward = {
			add_timed_idea = {
				idea = SOV_collectivist_propaganda
				days = 730
			}
		}
	}
	
	focus = {
		id = SOV_peoples_war
		icon = GFX_Goal_sov_troops
		cost = 5
		prerequisite = {
			focus = SOV_lessons_of_war
		}
		mutually_exclusive = {
			focus = SOV_superior_fp
		}
		mutually_exclusive = {
			focus = SOV_Deep_Battle
		}
		x = 32
		y = 4
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			   add_tech_bonus = {
			        name = mass_assault_doc_bonus
					uses = 2
					bonus = 0.75
					technology = peoples_army
					technology = human_infantry_offensive
					technology = large_front_offensive
				}
		}
	}
	
	focus = {
		id = SOV_Deep_Battle
		icon = GFX_Goal_sov_deepops
		cost = 5
		prerequisite = {
			focus = SOV_lessons_of_war
		}
		mutually_exclusive = {
			focus = SOV_superior_fp
		}
		mutually_exclusive = {
			focus = SOV_peoples_war
		}
		x = 34
		y = 4
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
				add_tech_bonus = {
				    name = mass_assault_doc_bonus
					uses = 2
					bonus = 0.75
					technology = large_front_operations
					technology = deep_operations
					technology = operational_concentration
					technology = vast_offensives
				}			
		}
	}
	
	focus = {
		id = SOV_superior_fp
		icon = GFX_SOV_rethink_doctrine
		cost = 8
		prerequisite = {
			focus = SOV_lessons_of_war
		}
		mutually_exclusive = {
			focus = SOV_peoples_war
		}
		mutually_exclusive = {
			focus = SOV_Deep_Battle
		}

		x = 36
		y = 4
		cancel_if_invalid = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
				add_tech_bonus = {
				    name = land_doctrine_bonus
					uses = 3
					bonus = 1.0
					category = cat_superior_firepower
					category = cat_mobile_warfare
				}		
		}
	}
	
	focus = {
		id = SOV_unified_doctrine
		icon = GFX_doctrine_fire_superiority
		cost = 4.6

		prerequisite = { focus = SOV_peoples_war focus = SOV_superior_fp focus = SOV_Deep_Battle }

		x = 34
		y = 5
		cancel_if_invalid = yes
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }

		completion_reward = {
	    	army_experience = 75
		    custom_effect_tooltip = available_theorist
			show_ideas_tooltip = boris_shaposhnikov
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = SOV_anton_egorov
					
		}
	}
	
	focus = {
		id = SOV_art_focus
		icon = GFX_Goal_sov_art2
		cost = 5
        prerequisite = { focus = SOV_unified_doctrine }

		x = 36
		y = 6
		cancel_if_invalid = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
				add_tech_bonus = {
				name = artillery_bonus
				bonus = 0.75
				uses = 3
				category = artillery
			}		
		}
	}
	
	focus = {
		id = SOV_rockets_focus
		icon = GFX_Goal_Comm_Art
		cost = 4
        prerequisite = { focus = SOV_unified_doctrine }

		x = 34
		y = 6
		cancel_if_invalid = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
            add_tech_bonus = {
		    	name = rocket_artillery_bonus
		    	bonus = 0.75
		    	uses = 2
		    	technology = rocket_artillery
			    technology = rocket_artillery2
			    technology = rocket_artillery3
		    	technology = rocket_artillery4
			}			
		}
	}

	focus = {
		id = SOV_STAVKA
		icon = GFX_Goal_Sov_high_command
		prerequisite = { focus = SOV_great_purge }
		x = 33
		y = 2
		cost = 7
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_ideas = SOV_STAVKA_idea
		}
	}
	
	focus = {
		id = SOV_lessons_of_war
		icon = GFX_goal_generic_forceful_treaty

		prerequisite = { focus = SOV_great_purge }
		available = {
            custom_trigger_tooltip = {
					tooltip = SOV_lessons_of_war_tt
					has_idea = SOV_unprepared_red_army
				}
            OR = {
                AND = {
                    NOT = { has_war_with = FIN }
                    NOT = { has_war_with = AFG }
                }
                date > 1941.6.1
                has_war_with = GER
            }
		}
		relative_position_id = SOV_STAVKA

		x = 1
		y = 1
		cost = 8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				or = {
					has_war_with = POL
					has_war_with = FIN
				}
			}
			modifier = {
				factor = 5
					has_war_with = GER
					date > 1942.6.1
			}
		}	
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			remove_ideas = SOV_unprepared_red_army
		}
	}

	focus = {
		id = SOV_positive_heroism
		icon = GFX_Goal_Positive_heroism
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 31
		y = 3
		cost = 7.4
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = konstantin_rokossovsky 
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = georgy_zhukov
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = georgy_zhukov_chief
			# REVISIT Might want to add more
		}
	}
	
	focus = {
		id = SOV_proletariat_reserves
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = SOV_nkvd_divisions }
		prerequisite = { focus = SOV_positive_heroism }
		x = 31
		y = 5
		cost = 4.3
		ai_will_do = {
			factor = 1
		}
		
		available = {
			has_defensive_war = yes
			surrender_progress > 0.2
			219 = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }

		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = proletariat_spawn
			hidden_effect = {
			load_oob = "SOV_proletariat"
			}
			random_owned_controlled_state = {
				prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				}
				
						random_owned_controlled_state = {
						prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				}
						random_owned_controlled_state = {
						prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				}
						random_owned_controlled_state = {
						prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				}
						random_owned_controlled_state = {
						prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				}
		}
	}
	
	focus = {
		id = SOV_guards
		icon = GFX_Goal_Guards_Unit2
		#prerequisite = { focus = SOV_STAVKA }
		#prerequisite = { focus = SOV_positive_heroism }
		prerequisite = { focus = SOV_unified_doctrine }
		#prerequisite = { focus = SOV_t_34_finalized focus = SOV_armored_car }
		x = 38
		y = 6
		cost = 3
		available = {
			has_war_with = GER	
			is_puppet = no
			exists = yes 
			communism > 0.7
		}
		
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_XP }

		
		completion_reward = {
			army_experience = 100
			country_event = {id = soviet.331 }
		}
	}	
	
	focus = {
		id = SOV_amph2
		icon = GFX_SOV_marines
		prerequisite = { focus = SOV_guards }
		x = 39
		y = 7
		cost = 3.2
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1945.6.1
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }

		
		completion_reward = {
			custom_effect_tooltip = SOV_marine_template_tt
            add_tech_bonus = {
				name = tp_bonus
				bonus = 0.5
				uses = 1
				category = tp_tech
			}
			hidden_effect = {

				division_template = {
					name = "Diviziya Morskoi"
					priority = 3	

					regiments = {
						marine = { x = 0 y = 1 }
						marine = { x = 0 y = 2 }
						marine = { x = 0 y = 3 }

						marine = { x = 1 y = 1 }
						marine = { x = 1 y = 2 }
						marine = { x = 1 y = 3 }

						marine = { x = 2 y = 1 }
						marine = { x = 2 y = 2 }	
						marine = { x = 2 y = 3 }

						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
					}	

					support = {
						DIV_HQ = { x = 0 y = 1 }
						engineer = { x = 1 y = 1 }
						logistics_company = { x = 0 y = 2 }
					}
				}
			}
		}
	}
	
	focus = {
		id = SOV_paratroopers
		icon = GFX_Goal_Soviet_Airborne_Corps
		prerequisite = { focus = SOV_guards }
		#prerequisite = { focus = SOV_Soviet_Airforce }
		x = 37
		y = 7
		cost = 4
		available = {
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1945.6.1
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }

		
		completion_reward = {
			custom_effect_tooltip = SOV_paratroopers_tt

			hidden_effect = {
				division_template = {
					name = "Guards Airborne Division"
					priority = 3	

					regiments = {

						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }
						paratrooper = { x = 0 y = 3 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }
						paratrooper = { x = 1 y = 3 }
						paratrooper = { x = 2 y = 1 }
						paratrooper = { x = 2 y = 2 }	
						paratrooper = { x = 2 y = 3 }
						mountain_artillery_brigade = { x = 3 y = 1 }
						mountain_artillery_brigade = { x = 3 y = 2 }
					}	

					support = {
						DIV_HQ = { x = 0 y = 1 }
						engineer = { x = 1 y = 1 }		
                        logistics_company_small	 = { x = 0 y = 1 }						
					}
				}
			}
		}
	}
	
	focus = {
	id = SOV_Campaign_for_Mass_Mechanization
	icon = GFX_Goal_Mass_Mechanization_effort
	cost = 7
	prerequisite = {
		focus = SOV_unified_doctrine
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
	x = 32
	y = 6
	completion_reward = {
		add_tech_bonus = {
		    name = mechanized_bonus
			uses = 1
			bonus = 0.75
			ahead_reduction = 0.5
			category = cat_mechanized_equipment
		}
		add_timed_idea = {
			idea = SOV_mecha
			days = 365
		}
	}

}
	
	focus = {
		id = SOV_Sikorski_Mayski_agreement
		icon = GFX_goal_generic_military_deal
        prerequisite = { focus = SOV_nkvd_divisions  }
		x = 27
		y = 5
		cost = 5
		available = {
			has_war_with = GER
				10 = {
					CONTROLLER = {
						or = {
							is_subject_of = GER
							tag = GER
							is_in_faction_with = GER
						}
					}
				}	
		}
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_MANPOWER }

		
		completion_reward = {
			add_manpower = 300000
			#add_timed_idea = {
			#	idea = polish_agreement
			#	days = 90
			#}
		}
	}
	focus = {
		id = SOV_berlings_army
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = SOV_Sikorski_Mayski_agreement  }
		x = 27
		y = 6
		cost = 4
		available = {
			has_war_with = GER
			10 = {
				CONTROLLER = {
					OR = {
						is_subject_of = GER
						tag = GER
						is_in_faction_with = GER
					}
				}
			}
		}
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			country_event = {id = soviet.338 }
		}
	}

	focus = {
		id = SOV_polish_army
		icon = GFX_polish_army
		prerequisite = { focus = SOV_berlings_army  }
		prerequisite = { focus = SOV_proletariat_reserves }
		x = 29
		y = 7
		cost = 7
		available = {
			has_war_with = GER
			10 = {
				CONTROLLER = {
					OR = {
						is_subject_of = GER
						tag = GER
						is_in_faction_with = GER
					}
				}
			}
		}

		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_MANPOWER }

		
		completion_reward = {
			country_event = {id = soviet.336 }
		}
	}
	
	

	focus = {
		id = SOV_operation_countenance
		icon = GFX_Goal_Countenance
		prerequisite = { focus = SOV_change_of_course }
		x = 21
		y = 6
		cost = 5
		ai_will_do = {
			factor = 3
		}
		available = {
        OR = {
			has_defensive_war_with = GER
			NOT = { 
			126 = {
		    is_owned_and_controlled_by = ENG
			}
			}
			NOT = { 
			127 = {
		    is_owned_and_controlled_by = ENG
			}
			}
			}
			ENG = { has_war_with = GER }
			NOT = { has_war_with = ENG }
		}
		bypass = {
			has_country_flag = operation_countenance_fired
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
		     set_country_flag = operation_countenance_fired_by_soviet
		      ENG = { country_event = { id = BICE_britain.36 } }
			   effect_tooltip = {
			PER = {
			custom_effect_tooltip = needs_approval
			give_resource_rights = { receiver = SOV state = 411 }
			set_rule = { 
					can_join_factions = no 
					can_create_factions = no
					can_not_declare_war = yes
				}
			}
			}
		
		

	    }

	}
	
	focus = {
		id = SOV_change_of_course
		icon = GFX_goal_lend_lease
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		x = 21
		y = 4
		cost = 2.6
		ai_will_do = {
			factor = 3
		}
		available = {
		    has_war = yes
			custom_trigger_tooltip = {
			tooltip = accepted_lend_lease_tt
            has_country_flag = lend_lease_act
			}
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
			add_political_power = 25
	    }

	}
	
	focus = {
		id = SOV_pause_revolution
		icon = GFX_anti_communism
		prerequisite = { focus = SOV_change_of_course }
		x = 21
		y = 8
		cost = 2
		ai_will_do = {
			factor = 1
		}
		available = {
		    # has promised to end third international
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
		    remove_ideas = third_international
			every_other_country = {
				limit = {
					has_opinion_modifier = anti_capitalist_diplomacy_capitalists
					has_war_with = GER
				}
				remove_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists }
			}
	    }

	}

    focus = {
		id = SOV_Red_Army_Airforce
		icon = GFX_SOV_Airforce
		cost = 5.3
		x = 40
		y = 1
		allow_branch = {
			NOT = {
				has_civil_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	
		completion_reward = {
			add_tech_bonus = {
				name = air_doc_bonus
				bonus = 0.6
				uses = 2
				category = air_doctrine

			}
		}

	}	
	
	focus = {
		id = SOV_Naval_Bombers
		icon = GFX_goal_generic_air_naval_bomber
		cost = 5
		prerequisite = {
			focus = SOV_Transpolar_Flight
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 3
		y = 3
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
			add_tech_bonus = {
			    name = nav_bomber_bonus
				uses = 2
				bonus = 0.6
				category = naval_bomber
			}
		}

	}
	
	
	focus = {
		id = SOV_remove_air_purge
		icon = GFX_purge_airforce  #GFX_focus_research move to purge
		cost = 5.5
		prerequisite = {
			focus = SOV_Red_Army_Airforce
		}
		prerequisite = {
			focus = SOV_great_purge
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA }
		x = -2
		y = 1
		relative_position_id = SOV_Red_Army_Airforce
		
	available = {
		has_country_flag = purge_air
	}

      bypass = {
	     has_completed_focus = SOV_great_purge
         NOT = { has_idea = air_purged }
		 NOT = { has_idea = air_purged_2 }
		 has_country_flag = purge_air
      }

		completion_reward = {
		    if = { limit = { has_idea = air_purged }
			remove_ideas = air_purged
			}
			if = { limit = { has_idea = air_purged_2 }
			
			swap_ideas = {
			remove_idea = air_purged_2
			add_idea = air_purged
			}
			}			
		}

	}
	focus = {
		id = SOV_OKB
		icon = GFX_focus_SOV_flying_clubs
		cost = 3.5
		prerequisite = {
			focus = SOV_Red_Army_Airforce
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		x = 0
		y = 1
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = Myasishchev_design_bureau
		
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = Petlyakov_design_bureau
		
			custom_effect_tooltip = available_air_chief
			show_ideas_tooltip = alexander_novikov
		}
	}
	focus = {
		id = SOV_Frontal_Aviation
		icon = GFX_Goal_MIG
		cost = 5
		prerequisite = {
			focus = SOV_OKB
		}
		mutually_exclusive = {
			focus = SOV_Lavochkin_Fighters focus = SOV_Yakovlev_Fighters
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = -2
		y = 2
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = mig_design_bureau
			add_tech_bonus = {
			    name = fighter_bonus
				uses = 1
				bonus = 0.75
				category = light_fighter
			}
		}

	}
	focus = {
		id = SOV_Yakovlev_Fighters 
		icon = GFX_SOV_Yakovlev
		cost = 4
		prerequisite = {
			focus = SOV_OKB
		}
		mutually_exclusive = {
			focus = SOV_Lavochkin_Fighters focus = SOV_Frontal_Aviation
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 0
		y = 2
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = yakovlev_design_bureau
			add_tech_bonus = {
			    name = fighter_bonus
				uses = 1
				bonus = 0.5
				category = light_fighter
			}
		}

	}
	focus = {
		id = SOV_Lavochkin_Fighters
		icon = GFX_SOV_Lavochkin
		cost = 4
		prerequisite = {
			focus = SOV_OKB
		}
		mutually_exclusive = {
			focus = SOV_Yakovlev_Fighters focus = SOV_Frontal_Aviation
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 2
		y = 2
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = LaGG_design_bureau
			add_tech_bonus = {
			    name = fighter_bonus
				uses = 1
				bonus = 0.5
				category = light_fighter
			}
		}

	}
	focus = {
		id = SOV_Transpolar_Flight
		icon = GFX_focus_jap_cast_the_die
		cost = 4.3
		prerequisite = {
			focus = SOV_Red_Army_Airforce
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }
		x = 4
		y = 2
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
				country_event = soviet.339
				air_experience = 25
			add_tech_bonus = {
			    name = heavy_bomber_bonus
				uses = 1
				bonus = 0.5
				category = heavy_air
			}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 0.5
				uses = 1
				category = tactical_bomber
			}
		}

	}
	
	
	focus = {
		id = SOV_aeroflot
		icon = GFX_focus_CZE_military_aeronautical_institute
		cost = 4
		prerequisite = {
			focus = SOV_Red_Army_Airforce
		}
		x = 2
		y = 1
		relative_position_id = SOV_Red_Army_Airforce
		available = {
			219 = {
				is_owned_and_Controlled_by = SOV
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
		    custom_effect_tooltip = level_up_heavy_aicraft_factory_tt
			if = { limit = { has_tech = Hvaircraft_industry3 } 
			    set_technology = { 
				    Hvaircraft_industry4 = 1
				}
			}
			if = { limit = { has_tech = Hvaircraft_industry2 } 
			    set_technology = { 
				    Hvaircraft_industry3 = 1
				}
			}
			if = { limit = { has_tech = Hvaircraft_industry } 
			    set_technology = { 
				    Hvaircraft_industry2 = 1
				}
			}
			if = { limit = { has_tech = Hvaircraft_industry0 } 
			    set_technology = { 
				    Hvaircraft_industry = 1
				}
			}
			custom_effect_tooltip = available_designer
		show_ideas_tooltip = tupolev_design_bureau
			
		}

	}
	focus = {
		id = SOV_Soviet_Airforce
		icon = GFX_goal_generic_air_doctrine
		cost = 5.8
		prerequisite = {
			focus = SOV_Yakovlev_Fighters
			focus = SOV_Lavochkin_Fighters
			focus = SOV_Frontal_Aviation
		}
		prerequisite = {
			focus = SOV_Transpolar_Flight
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }
		x = 0
		y = 3
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
			add_tech_bonus = {
			    name = air_doc_bonus
				uses = 2
				bonus = 0.5
				category = air_doctrine
			}
			air_experience = 50
		}

	}
	focus = {
		id = SOV_Sturmovik
		icon = GFX_SOV_sturmovik
		cost = 4.3
		prerequisite = {
			focus = SOV_Soviet_Airforce
		}
		mutually_exclusive = {
			focus = SOV_Long_Range_Aviation
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = -1
		y = 4
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = ilyushin_design_bureau
			add_tech_bonus = {
			    name = CAS_bonus
				uses = 3
				bonus = 0.5
				category = cas_bomber
			}
		}

	}
	focus = {
		id = SOV_Long_Range_Aviation
		icon = GFX_bomber_design
		cost = 5
		prerequisite = {
			focus = SOV_Soviet_Airforce
		}
		mutually_exclusive = {
			focus = SOV_Sturmovik
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 1
		y = 4
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
			add_tech_bonus = {
			    name = heavy_bomber_bonus
				uses = 2
				bonus = 0.5
				ahead_reduction = 0.3
				category = heavy_air
			}
		}

	}
	
	
	focus = {
		id = SOV_preparation_war
		icon = GFX_goal_SOV_military
		cost = 5
		prerequisite = {
			focus = SOV_peoples_commissariat
		}
		available = {
		    OR = { has_war = yes threat > 0.5 }
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		x = -1
		y = 2
		relative_position_id = SOV_third_five_year_plan
		completion_reward = {
			653 = {
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			572 = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = {
				name = heavy_industry_tech_bonus
				bonus = 0.75
				uses = 2
				technology = uniform_industry2
				technology = uniform_industry3
				technology = smallarms_industry2
				technology = smallarms_industry3
				technology = artillery_industry2
				technology = artillery_industry3
			}
		}

	}
	
	focus = {
		id = SOV_childcare
		icon = GFX_goal_SOV_child
		cost = 5
		prerequisite = {
			focus = SOV_new_generation
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		x = 1
		y = 1
		relative_position_id = SOV_new_generation
		completion_reward = {
			add_ideas = SOV_childcare2
		}

	}
	
	focus = {
		id = SOV_unemployment
		icon = GFX_goal_SOV_expansion
		cost = 6
		prerequisite = {
			focus = SOV_collectivization
			focus = SOV_Improvement_Tools
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		x = -2
		y = 1
		relative_position_id = SOV_collectivization
		completion_reward = {
			swap_ideas = {
				add_idea = SOV_unemp2
				remove_idea = SOV_unemp
			}
			random_owned_controlled_state = {
				prioritize = { 219 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
		}

	}
	
	focus = {
		id = SOV_develope_baltics
		icon = GFX_SOV_dev_baltic
		prerequisite = { focus = SOV_arms_industry_2 }
		relative_position_id = SOV_urals_armed
		x = 5
		y = 1
		cost = 6
		available = {
			11 = { is_controlled_by_ROOT_or_ally = yes }
			12 = { is_controlled_by_ROOT_or_ally = yes }
			13 = { is_controlled_by_ROOT_or_ally = yes }
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			11 = {
				if = {
					limit = { is_controlled_by_ROOT_or_ally = yes }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			12= {
				if = {
					limit = { is_controlled_by_ROOT_or_ally = yes }
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			189 = {
				if = {
					limit = { is_controlled_by_ROOT_or_ally = yes }
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			13= {
				if = {
					limit = { is_controlled_by_ROOT_or_ally = yes }
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			effect_tooltip = {
				11 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
			}
			12= {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
			}
			189 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
			}
			13= {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
			}
			}
		}
	}
	
	focus = {
		id = SOV_comecon
		icon = GFX_SOV_comecon
		prerequisite = { focus = SOV_progress_cult }
		relative_position_id = SOV_develope_baltics
		
		x = 4
		y = 0
		cost = 4.5
		available = {
			10 = { is_controlled_by_ROOT_or_ally = yes }		
			12 = { is_controlled_by_ROOT_or_ally = yes }		
			46 = { is_controlled_by_ROOT_or_ally = yes }
			OR = {
			43 = { is_controlled_by_ROOT_or_ally = yes }
			111 = { is_controlled_by_ROOT_or_ally = yes }
			}
		}
		ai_will_do = { 
			factor = 10
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
			every_country = {
		    	limit = { 
		        	is_subject_of = SOV
		            capital_scope = {
						is_on_continent = europe
					}
		    	}
				add_stability = 0.05
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
				random_owned_controlled_state = {
					add_building_construction = {
						instant_build = yes
						type = industrial_complex
						level = 2
					}
					add_extra_state_shared_building_slots = 2
				}
			}
		}
	}
	
	focus = {
		id = SOV_consolidate
		icon = GFX_SOV_warsaw_pact
		prerequisite = { focus = SOV_comecon }
		mutually_exclusive = { focus = SOV_fourth_international }
		relative_position_id = SOV_comecon
		x = -1
		y = 1
		cost = 4.5
		ai_will_do = { 
			factor = 13
		}

		available = {
			has_government = communism
			is_subject = no
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
			add_research_slot = 1
			add_stability = 0.1
			add_war_support = -0.05
		        add_popularity = {
			    	ideology = communism
			    	popularity = 0.05
	    		}
			every_country = {
		    	limit = { 
		        	is_subject_of = SOV
		    	}
				add_stability = 0.1
				add_war_support = -0.05
				add_popularity = {
			    	ideology = communism
			    	popularity = 0.05
	    		}
			}
		}
	}
	
	focus = {
		id = SOV_fourth_international
		icon = GFX_goal_support_fourth_int
        mutually_exclusive = { focus = SOV_consolidate }
		prerequisite = { focus = SOV_comecon }
		relative_position_id = SOV_comecon
		x = 1
		y = 1
		cost = 12
		available_if_capitulated = yes
		ai_will_do = {
			factor = 8
			modifier = {
			factor = 0
			is_historical_focus_on = yes
			}
		}	

		available = {
	    	communism > 0.8
			is_subject = no
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
		add_political_power = -100
			add_stability = -0.1
			add_war_support = 0.05
			add_named_threat = { threat = 5 name = SOV_fourth_international_threat }
			every_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					NOT = { has_government = communism }
					NOT = { is_subject_of = SOV }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
				add_stability = -0.05
				add_timed_idea = {
					idea = comintern_influence
					days = 365
				}
				add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists }
				add_opinion_modifier = { target = SOV modifier = embargo }
				USA = {
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists }
					add_opinion_modifier = { target = SOV modifier = embargo }
				}
			}
		}
	}
	
	focus = {
		id = SOV_strike_USA
		icon = GFX_crush_USA
		prerequisite = { focus = SOV_fourth_international }
		relative_position_id = SOV_comecon
		x = 0
		y = 2
		cost = 10
		available_if_capitulated = yes
		ai_will_do = {
			factor = 0.5
			modifier = {
			factor = 0
			is_historical_focus_on = yes
			}
		}	

		available = {
			has_government = communism
			is_subject = no
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = USA
			}
		}
	}
	
	focus = {
		id = SOV_heavy_effort
		icon = GFX_goal_tank3
		prerequisite = { focus = SOV_heavy_tank_effort }
		prerequisite = { focus = SOV_appoint_koshkin }
		relative_position_id = SOV_heavy_tank_effort

		x = 1
		y = 1
		cost = 4
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = available_tank_designer
	    	show_ideas_tooltip = okmo
	  		add_tech_bonus = {
				name = ag_bonus
				bonus = 0.5
				uses = 2
				category = cat_stug
			}
		}
	}
	
	focus = {
		id = SOV_light_spg
		icon = GFX_sov_spg_prototype
		prerequisite = { focus = SOV_armor_effort }
		relative_position_id = SOV_t28_dev

		x = -2
		y = 2
		cost = 6
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = light_td_bonus
				bonus = 0.75
				uses = 1
				category = cat_light_td
			}
			add_tech_bonus = {
				name = light_spg_bonus
				bonus = 0.75
				uses = 1
				category = cat_light_art
			}
		}
	}
	
	focus = {
		id = SOV_armored_car
		icon = GFX_goal_generic_armored_cars
		prerequisite = { focus = SOV_light_spg focus = SOV_heavy_effort }
		relative_position_id = SOV_t28_dev

		x = 0
		y = 3
		cost = 3.2
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = ac_bonus
				bonus = 0.75
				uses = 1
			    technology = tech_sov_ac_recon3
				technology = tech_sov_ac_recon4
				technology = tech_sov_ac_recon5
			}
		}
	}
	
	focus = {
		id = SOV_moscow_mil
		icon = GFX_SOV_moscow_military_Industry
		prerequisite = { focus = SOV_arms_industry_2 }
		relative_position_id = SOV_arms_industry_2

		x = -1
		y = 1
		cost = 7.5
		ai_will_do = {
			factor = 1
		}
		
		available = {
			has_completed_focus = industrialize_moscow_area
			248 = { is_controlled_by_ROOT_or_ally = yes }
			253 = { is_controlled_by_ROOT_or_ally = yes }
			400 = { is_controlled_by_ROOT_or_ally = yes }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 248 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}			
			random_owned_controlled_state = {
				prioritize = { 253 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 400 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
		}
	}
	
	focus = {
		id = SOV_kgb
		icon = GFX_goal_SOV_trotsky
		prerequisite = { focus = SOV_nkvd_primacy }
		relative_position_id = SOV_nkvd_primacy
		x = -2
		y = 1
		
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA }
		
		cost = 2.5
		
		completion_reward = {
			unlock_decision_tooltip = SOV_trotsky
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
		}
	}
	
	focus = {
		id = SOV_murmansk_rail
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = sov_retool_tractor_factories }
		relative_position_id = sov_retool_tractor_factories
		x = 0
		y = 1
		
		ai_will_do = {
			factor = 1
		}
		
		cost = 4
		
		available = {
			215 = { is_controlled_by_ROOT_or_ally = yes }
			213 = { is_controlled_by_ROOT_or_ally = yes }
			216 = { is_controlled_by_ROOT_or_ally = yes }
			264 = { is_controlled_by_ROOT_or_ally = yes }
			244 = { is_controlled_by_ROOT_or_ally = yes }
			195 = { is_controlled_by_ROOT_or_ally = yes }
		}
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		
		completion_reward = {
		build_railway = { 
			path = { 3151 149 11068 9197 70 11059 11153 6057 90 11159 9118 3033 11092 155 11175 6021 94 9195 3189 86 3008 9162 3121 6181 9201 11117 3134 }
			level = 2
	     	}
			
			215 = {
				add_building_construction = {
					type = infrastructure
					instant_build = yes
					level = 1
				}
			}
			213 = {
				add_building_construction = {
					type = infrastructure
					instant_build = yes
					level = 1
				}
			}
			216 = {
				add_building_construction = {
					type = infrastructure
					instant_build = yes
					level = 1
				}
			}
			264 = {
				add_building_construction = {
					type = infrastructure
					instant_build = yes
					level = 1
				}
			}
			244 = {
				add_building_construction = {
					type = infrastructure
					instant_build = yes
					level = 1
				}
			}
			195 = {
				add_building_construction = {
					type = infrastructure
					instant_build = yes
					level = 1
				}
			}
		}
	}
	
	focus = {
		id = SOV_indust
		icon = GFX_goal_stalin_appeal
		prerequisite = { focus = SOV_2_5_year_plan }
		relative_position_id = SOV_2_5_year_plan
		x = -5
		y = 1
		
		ai_will_do = {
			factor = 1
		}
		
		cost = 3.8
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 239 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
		}
	}
	focus = {
		id = SOV_capitalism
		icon = GFX_goal_SOV_means
		prerequisite = { focus = SOV_indust }
		relative_position_id = SOV_indust
		x = 0
		y = 1
		
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		cost = 6
		
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 213 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 252 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
		}
	}
	
	focus = {
		id = SOV_lostnation
		icon = GFX_Goal_Attack_Soviets
		x = 57
		y = 0
		
		available = {
			has_global_flag = eastern_front_peace
		}
		
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		cost = 5
		
		completion_reward = {
			swap_ideas = {
				add_idea = SOV_lost2
				remove_idea = SOV_lost
			}
		}
	}
	
	focus = {
		id = SOV_infrasiberia
		icon = GFX_goal_IRQ_infra
		prerequisite = { focus = SOV_lostnation }
		relative_position_id = SOV_lostnation
		x = -1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_CONSTRUCTION }
		
		cost = 6.2
		
		completion_reward = {
			569 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			570 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			571 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			590 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SOV_ecoreco
		icon = GFX_goal_SOV_economy
		prerequisite = { focus = SOV_lostnation }
		relative_position_id = SOV_lostnation
		x = 1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		cost = 7.2
		
		completion_reward = {
			add_timed_idea = {
				idea = SOV_industry
				days = 365
			}
		}
	}
	
	focus = {
		id = SOV_attackburyatia
		icon = GFX_sov_plans
		prerequisite = { focus = SOV_infrasiberia focus = SOV_ecoreco }
		relative_position_id = SOV_infrasiberia
		x = 1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		cost = 2
		
		will_lead_to_war_with = TAN
		
		completion_reward = {
			create_wargoal = {
				target = TAN
				type = annex_everything
			}
		}
	}
	
	focus = {
		id = SOV_morecontrol
		icon = GFX_goal_IRQ_37eco
		prerequisite = { focus = SOV_ecoreco }
		relative_position_id = SOV_ecoreco
		x = 1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		cost = 5
		
		completion_reward = {
			swap_ideas = {
				add_idea = SOV_lost3
				remove_idea = SOV_lost2
			}
		}
	}
	
	focus = {
		id = SOV_giveforcontrol
		icon = GFX_goal_SOV_doncossacks
		prerequisite = { focus = SOV_infrasiberia }
		relative_position_id = SOV_infrasiberia
		x = -1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		cost = 7
		
		completion_reward = {
			add_stability = 0.2
			custom_effect_tooltip = doncossacks
			hidden_effect = {
				news_event = {
					id = worldnews.25
					days = 1
				}
				DON = {
					transfer_state = 407
					transfer_state = 406
					add_state_core = 407
					add_state_core = 406
					407 = {
						add_building_construction = {
							instant_build = yes
							type = industrial_complex
							level = 6
						}
						add_extra_state_shared_building_slots = 6
					}
					406 = {
						add_building_construction = {
							instant_build = yes
							type = arms_factory
							level = 6
						}
						add_extra_state_shared_building_slots = 6
					}
					set_politics = {
						ruling_party = neutrality
					}
					set_stability = 0.35
					set_war_support = 0.6
					add_manpower = 10000
					army_experience = 12
				}
			}
		}
	}
	
	focus = {
		id = SOV_union
		icon = GFX_goal_SOV_newregime
		prerequisite = { focus = SOV_morecontrol }
		prerequisite = { focus = SOV_attackburyatia }
		prerequisite = { focus = SOV_giveforcontrol }
		relative_position_id = SOV_attackburyatia
		x = 0
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 20
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		cost = 6.2
		
		completion_reward = {
			add_war_support = 0.12
			swap_ideas = {
				add_idea = SOV_lost4
				remove_idea = SOV_lost3
			}
		}
	}
	
	focus = {
		id = SOV_reform_nkvd
		icon = GFX_goal_SOV_nkvd2
		prerequisite = { focus = SOV_union }
		relative_position_id = SOV_union
		x = -1
		y = 1
		
		available = {
			or = {
				has_idea = nkvd_idea
				has_idea = nkvd_idea_2
				has_idea = nkvd_idea_3
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		ai_will_do = {
			factor = 5
		}
		
		cost = 6
		
		completion_reward = {
			add_stability = 0.05
			214 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}
	
	focus = {
		id = SOV_union2
		icon = GFX_goal_SOV_sav
		prerequisite = { focus = SOV_union }
		relative_position_id = SOV_union
		x = 1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		cost = 4
		
		completion_reward = {
			remove_ideas = SOV_lost4
		}
	}
	
	focus = {
		id = SOV_rifle2
		icon = GFX_goal_SOV_rifle
		prerequisite = { focus = SOV_giveforcontrol }
		relative_position_id = SOV_giveforcontrol
		x = -1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		cost = 7.5
		
		completion_reward = {
			add_tech_bonus = {
			    name = infantry_weapons_bonus
				uses = 1
				category = infantry_weapons
				bonus = 0.9
			}
		}
	}
	
	focus = {
		id = SOV_popular2
		icon = GFX_goal_SOV_popular
		prerequisite = { focus = SOV_union }
		relative_position_id = SOV_union
		x = -3
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		cost = 5.5
		
		completion_reward = {
			add_ideas = SOV_look
		}
	}
	
	focus = {
		id = SOV_civilian
		icon = GFX_goal_SOV_hat
		prerequisite = { focus = SOV_morecontrol }
		relative_position_id = SOV_morecontrol
		x = 1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		cost = 10.5
		
		completion_reward = {
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
		}
	}
	
	focus = {
		id = SOV_civilian2
		icon = GFX_sov_heavy_industry
		prerequisite = { focus = SOV_civilian focus = SOV_union }
		relative_position_id = SOV_civilian
		x = 0
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		cost = 9.2
		
		completion_reward = {
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
		}
	}
	
	focus = {
		id = SOV_reform_nkvd2
		icon = GFX_goal_SOV_kgb
		prerequisite = { focus = SOV_union2 focus = SOV_reform_nkvd }
		relative_position_id = SOV_union2
		x = -1
		y = 1
		
		available = {
		}
		
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_SPY }
		
		cost = 5.2
		
		completion_reward = {
			if = {
				limit = {
					has_idea = nkvd_idea
				}
				remove_ideas = nkvd_idea
			}
			if = {
				limit = {
					has_idea = nkvd_idea_2
				}
				remove_ideas = nkvd_idea_2
			}
			if = {
				limit = {
					has_idea = nkvd_idea_3
				}
				remove_ideas = nkvd_idea_3
			}
			add_ideas = kgb_soviet
		}
	}
	
	focus = {
		id = SOV_attackger
		icon = GFX_Goal_Attack_Germany
		prerequisite = { focus = SOV_reform_nkvd2 }
		relative_position_id = SOV_reform_nkvd2
		x = 0
		y = 1
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		
		available = {
			custom_trigger_tooltip = {
			tooltip = allies_fra
			or = {
				ENG = {
					or = {
					divisions_in_state = {
						type = infantry
						size > 3
						state = 15
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 16
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 27
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 20
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 21
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 19
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 23
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 30
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 14
					}
					}
				}
				FRA = {
					or = {
					divisions_in_state = {
						type = infantry
						size > 3
						state = 15
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 16
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 27
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 20
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 21
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 19
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 23
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 30
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 14
					}
					}
				}
				USA = {
					or = {
					divisions_in_state = {
						type = infantry
						size > 3
						state = 15
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 16
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 27
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 20
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 21
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 19
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 23
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 30
					}
					divisions_in_state = {
						type = infantry
						size > 3
						state = 14
					}
					}
				}
			}
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				NOT = { has_war_with = SIB }
				NOT = { has_war_with = JAP }
				add = 5000
			}	
		}
		
		cost = 5
		
		will_lead_to_war_with = GER
		
		select_effect = {
			SOV = {
				add_ai_strategy = {
					type = prepare_for_war
					id = GER
					value = 100
				}
				add_ai_strategy = {
					type = conquer
					id = GER
					value = 100
				}
			}
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		
		completion_reward = {
			declare_war_on = {
				target = GER
				type = annex_everything
			}
		}
	}
	
}
#######################################################
