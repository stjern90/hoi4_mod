focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
		}
	}
	continuous_focus_position = { x = 1500 y = 1200 }
	default = no

	focus = {
		id = SOV_2_5_year_plan
		icon = GFX_focus_generic_self_management
		x = 3
		y = 0
		cost = 1
		available = {
		
		}
		ai_will_do = {
			factor = 12
		}
		
		completion_reward = {
			add_timed_idea = {
					idea = SOV_idea_2_5_year_plan
					days = 700
				}
			hidden_effect = {
				if = { 
					limit = { 
				    	is_ai = yes
					}
					add_ideas = partial_economic_mobilisation
					}
				}
			}
		}

	focus = {
		id = develop_leningrad_area
		icon = GFX_sov_rails
		prerequisite = { focus = SOV_Tolkach }
		x = -1
		y = 2
		cost = 2
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			208 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			244 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			209 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			263 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = industrialize_leningrad_area
		icon = GFX_leningrad_development
		prerequisite = { focus = develop_leningrad_area }
		x = -1
		y = 3
		cost = 4
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			209 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			263 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = develop_moscow_area
		icon = GFX_sov_rails
		prerequisite = { focus = SOV_Tolkach }
		x = -3
		y = 2
		cost = 5
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			246 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			247 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			248 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			253 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			254 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			223 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			205 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			242 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = industrialize_moscow_area
		icon = GFX_sov_develop_moscow
		prerequisite = { focus = develop_moscow_area }
		x = -3
		y = 3
		cost = 6
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			246 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			247 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			248 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			223 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			242 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = sov_don_river_system
		icon = GFX_sov_don_river
		prerequisite = { focus = industrialize_moscow_area }
		prerequisite = { focus = industrialize_leningrad_area }
		x = -2
		y = 4
		cost = 2
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			258 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			257 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			260 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			260 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = sov_stalingrad_area_development
		icon = GFX_stalingrad_development
		prerequisite = { focus = sov_don_river_system }
		x = -3
		y = 5
		cost = 5
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
			has_idea = SOV_idea_3_5_year_plan
		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			245 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			265 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			239 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
			401 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			407 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
					}
				}
			}
			236 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 4
					instant_build = yes
					}
				}
			}
			238 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = sov_retool_tractor_factories
		icon = GFX_sov_tankograd
		prerequisite = { focus = sov_stalingrad_area_development }
		x = -3
		y = 6
		cost = 4
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			407 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
				}
			}
			195 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
				}
			}
			217 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = sov_develop_urals
		icon = GFX_sov_rails
		prerequisite = { focus = sov_don_river_system }
		x = -1
		y = 5
		cost = 4
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
		}

		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			573 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			251 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			583 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			398 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_goal_tankograd
		icon = GFX_sov_tankograd
		prerequisite = { focus = SOV_urals_armed }
		prerequisite = { focus = sov_retool_tractor_factories }
		x = -2
		y = 7
		cost = 3 
		available = { 
		SOV = { has_war_with = GER }
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_ideas = SOV_tankograd
		}
	}

	focus = {
		id = SOV_urals_armed
		icon = GFX_sov_goal_arm_urals
		prerequisite = { focus = sov_develop_urals }
		x = -1
		y = 6
		cost = 5
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			652 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
				}
			}
			651 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
				}
			}
			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
				}
			}
			398 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_magnitogorsk
		icon = GFX_goal_steel
		prerequisite = { focus = SOV_2_5_year_plan }
		x = 3
		y = 1
		cost = 6
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_resource = {
				type = steel
				amount = 68
				state = 582
			}
			add_resource = {
				type = tungsten
				amount = 24
				state = 582
			}

			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}					
		}
	}
	focus = {
		id = SOV_petrochemical
		icon = GFX_goal_oil
		prerequisite = { focus = SOV_magnitogorsk }
		x = 3
		y = 2
		cost = 6
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 32
				state = 229
			}
			add_resource = {
				type = rubber
				amount = 18
				state = 229
			}
			229 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}					
		}
	}
	focus = {
		id = SOV_collectivization
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_petrochemical }
		x = 3
		y = 3 
		cost = 8
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_ideas = SOV_collectivization

			random_owned_controlled_state = {
				prioritize = { 250 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 652 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 401 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 407 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
		}	
	}
	focus = {
		id = SOV_Tolkach
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_2_5_year_plan }
		x = -1
		y = 1
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}

		completion_reward = {
			add_ideas = SOV_Tolkach
		}
	}
	focus = {
		id = SOV_heavy_industry_1
		icon = GFX_sov_heavy_industry
		prerequisite = { focus = SOV_Tolkach }
		x = 1 
		y = 2
		cost = 10
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 248 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 195 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 219 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 217 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.25
				uses = 2
				category = construction_tech
			}
		}
	}
	focus = {
		id = SOV_Improvement_Tools
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = SOV_heavy_industry_1 }
		x = 1
		y = 3
		cost = 5
		available = {
			has_idea = home_of_revolution
		}
		ai_will_do = {
			factor = 8 
		}

		completion_reward = {
			swap_ideas = {
				add_idea = home_of_revolution_workers_culture
				remove_idea = home_of_revolution
			}
		}
	}
	focus = {
		id = SOV_capitals_of_socialism
		icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = SOV_2_5_year_plan }
        prerequisite = { focus = SOV_stalin_constitution }
		x = 6
		y = 1
		cost = 7
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			239 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
			219 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			195 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
					}
				}
			}
			217 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_new_generation
		icon = GFX_sov_stakhonovite
		prerequisite = { focus = SOV_capitals_of_socialism }
		x = 6
		y = 2
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}

		completion_reward = {
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.15
				uses = 3
				category = construction_tech
			}
		}
	}		

	focus = {
		id = SOV_tractor_factories
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_new_generation }
		x = 5 
		y = 4
		cost = 11 
		available = {
		} 
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			222 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
			219 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
			195 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
			217 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_stakhonovite
		icon = GFX_sov_stakhonovite
		prerequisite = { focus = SOV_new_generation }
		x = 5
		y = 3
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}

		completion_reward = {
			add_ideas = SOV_stakhonovite 
			add_tech_bonus = {
				bonus = 0.10
				uses = 3
				category = industry
			}
		}
	}

	focus = {
		id = SOV_third_five_year_plan
		icon = GFX_sov_stalin_writing
		prerequisite = { focus = SOV_Improvement_Tools }
		prerequisite = { focus = SOV_collectivization }
		x = 2
		y = 4
		cost = 1 
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_ideas = SOV_idea_3_5_year_plan
		}
	}
	focus = {
		id = SOV_heavy_industry_2
		icon = GFX_sov_heavy_industry
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 1 
		y = 5
		cost = 10
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 248 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 249 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 250 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.25
				uses = 2
				category = construction_tech
			}
		}
	}

	focus = {
		id = SOV_arms_industry_2
		icon = GFX_sov_arms_production
		prerequisite = { focus = SOV_heavy_industry_2 }
		x = 1 
		y = 6
		cost = 9
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 653 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 572 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 582 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
			}
		}
	}

	focus = {
		id = SOV_arms_production
		icon = GFX_sov_arms_production
		prerequisite = { focus = SOV_arms_industry_2 }
		prerequisite = { focus = SOV_urals_armed }
		x = 0
		y = 7
		cost = 6
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SOV_idea_arms_production
		}
	}

	focus = { 
		id = SOV_start_moving_industry_to_urals
		icon = GFX_goal_generic_production
		prerequisite = { focus = SOV_arms_production }
		x = 0
		y = 8
		cost = 5
		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0 
				NOT = { has_war_with = GER}
			}
		}
		available = {
			has_war_with = GER
			219 = {
				is_owned_and_controlled_by = SOV
				arms_factory > 4
				industrial_complex > 2
			}
			195 = {
				is_owned_and_controlled_by = SOV
				arms_factory > 4
				industrial_complex > 0
			}
			242 = {
				is_owned_and_controlled_by = SOV
				industrial_complex > 1
			}
			
			573 = {
				is_owned_and_controlled_by = SOV
			}
			582 = {
				is_owned_and_controlled_by = SOV
			} 
		}
		completion_reward = {
			219 = {
				remove_building = {
					type = arms_factory
					level = 5
				}
				remove_building = {
					type = industrial_complex
					level = 2
				}
			}
			195 = {
				remove_building = {
					type = arms_factory
					level = 5
				}
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
			242 = {
				remove_building = {
					type = industrial_complex
					level = 2
				}
			}
		}
	}

	focus = {
		id = SOV_finish_moving_industry_to_urals
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_start_moving_industry_to_urals }
		x = 0
		y = 9
		cost = 5
		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				NOT = { has_war_with = GER }
			}
		}
		available = {
			has_war_with = GER

			
			573 = {
				is_owned_and_controlled_by = SOV
			}
			582 = {
				is_owned_and_controlled_by = SOV
			} 
		}
		completion_reward = {
			573 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			582 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			# REVISIT Consider implementing as events
		}
	}

	focus = {
		id = SOV_industrial_war_mobilisation 
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_finish_moving_industry_to_urals }
		x = 0
		y = 10
		cost = 5
		available = {
			OR = {
			has_war_with = GER
			has_war_with = JAP
			}
		}
		completion_reward = {
			if = { 
				limit = {
				 NOT = { has_idea = peoples_commissariat_focus }
				 }
				 add_ideas = emergency_industrial_effort 
			}
			if = {
				limit = {
					has_idea = peoples_commissariat_focus
					}
					swap_ideas = { 
					remove_idea = peoples_commissariat_focus
					add_idea = emergency_industrial_effort
					}
			} 
			random_owned_controlled_state = {
				prioritize = { 587 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 406 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
		}
	}

	focus = {
		id = SOV_peoples_commissariat
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 4
		y = 5
		cost = 4
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = peoples_commissariat_focus
		}
	}

	focus = {
		id = SOV_appoint_koshkin
		icon = GFX_appoint_koshkin
		prerequisite = { focus = SOV_peoples_commissariat }
		x = 3
		y = 6
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = no
		
		completion_reward = {
		custom_effect_tooltip = available_tank_designer
				show_ideas_tooltip = morozov_design_bureau
		}
	}

	focus = {
		id = SOV_t_34_prototype
		icon = GFX_t_34_prototype
		prerequisite = { focus = SOV_appoint_koshkin }
		x = 3
		y = 7
		cost = 4
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = no
		
		completion_reward = {
			221 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}		
		}
	}

	focus = {
		id = SOV_t_34_finalized
		icon = GFX_sov_tankograd
		prerequisite = { focus = SOV_t_34_prototype }
		available = {
		date > 1939.05.01
		}

		x = 3
		y = 8
		cost = 6
		ai_will_do = {
			factor = 1
		}

		completion_reward = {

			set_technology = { 
				tech_t_34_a = 1
			} 
		}
	}

	focus = {
		id = SOV_progress_cult
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = SOV_new_generation }
		x = 7
		y = 3
		cost = 9
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = progress_cult_focus
		}
	}

	focus = {
		id = SOV_socialist_science
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_progress_cult }
		x = 7
		y = 4
		cost = 7
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = socialist_science_focus
		}
	}

	focus = {
		id = SOV_extra_tech_slot_early
		icon = GFX_focus_research
		text = extra_tech_slot
		prerequisite = { focus = SOV_socialist_science }
		x = 7
		y = 5
		cost = 10
		ai_will_do = {
			factor = 5
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SOV_stalin_constitution
		icon = GFX_goal_support_communism
		x = 12
		y = 0
		cost = 8
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
		add_stability = 0.05
			add_political_power = 160
		}
	}

	
	focus = {
		id = SOV_anti_fascist_diplomacy
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_stalin_constitution }
		x = 14
		y = 1
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				has_government = fascism
				factor = 0
			}

			modifier = {
				factor = 3
				ai_irrationality < 25
			}

			modifier = {
				factor = 0.75
				ai_irrationality > 30
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 40
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			USA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			ENG = { 
				if = {
					limit = { NOT = { has_government = fascism } }

					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			FRA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_fascists }
			}
		}
	}

	focus = {
		id = SOV_support_spain
		icon = GFX_goal_LEC_armsSPA
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		x = 16
		y = 2
		cost = 2
		ai_will_do = {
			factor = 50 
		}
		available = {
		SPR = { has_civil_war = yes }
		
		}
		completion_reward = {
			add_timed_idea = {
					idea = Spainish_gold
					days = 200
				}
			if = {
				limit = {
					SPR = {
						has_tech = infantry_weapons1
					}
				}
				SPR = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2000 producer = SOV }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 producer = SOV }
				}
			} 
			if = {
				limit = {
					SPR = {
						has_tech = artillery1
					}
				}
				SPR = {
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = SOV }
				}
			}
			SPR = { 
				add_opinion_modifier = { target = SOV modifier = SOV_SPR_help }
			}
		}
	}
	

	focus = {
		id = SOV_far_east_fortification
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		x = 14
		y = 2
		cost = 3
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			563 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_1
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4719
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 12622
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10559
							instant_build = yes
						}
					}
				}
			}
			657 = {
					if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 7763
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 4725
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10655
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 7801
							instant_build = yes
						}
					}
				}
			}
			409 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_3
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 12189
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10466
							instant_build = yes
						}
					}
				}
			}
			408 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = bunker
					level = 2
					province = 11643
					instant_build = yes
					}
				}
			}
			# Other possible Provinces
			# 4719 12802 10559 12543 7851 10678 12657 7763 4725 10655 7801 10722 7672 4805
			# 12189 10466 11643 6686 664 6684 3787 6838 3977 11879 1755
		}
	}
	focus = { 
		id = SOV_support_china
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = SOV_far_east_fortification }
		available = { 
		CHI = { has_war_with = JAP }
		CHI = { has_tech = infantry_weapons1 }
		}
		x = 14
		y = 3
		cost = 3
		ai_will_do = {
			factor = 1 
		}
		bypass = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		completion_reward = {
			if = {
				limit = {
					CHI = {
						has_tech = infantry_weapons1
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 producer = SOV }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 2500 producer = SOV }
				}
			} 
			if = {
				limit = {
					CHI = {
						has_tech = semi_motorised_infantry
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 500 producer = SOV }
				}
			}
			CHI = { 
				add_opinion_modifier = { target = SOV modifier = SOV_CHI_help }
			}
		}
	}
	
	focus = {
		id = SOV_operation_zet
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_support_china }
		available = {
			CHI = { has_war_with = JAP }
			CHI = { has_tech = early_fighter }
		}
		continue_if_invalid = yes
		bypass = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		x = 14
		y = 4
		cost = 2
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_secret_production
				days = 90
			}
			if = {
				limit = {
					CHI = {
						has_tech = early_fighter
						NOT = { has_tech = fighter1 }
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 600 producer = CHI }
				}
			
			else = {
			if = {
				limit = {
					CHI = {
						has_tech = fighter1
						NOT = { has_tech = fighter2 }
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 600 producer = CHI }
				}
			}
			if = {
				limit = {
					CHI = {
						has_tech = fighter2
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 600 producer = CHI }
				}
			}
			}
			}
			CHI = {
				add_opinion_modifier = { target = SOV modifier = operation_zet_chi }				
			}
			JAP = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
			PRC = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
		}
	}

	focus = {
		id = SOV_annex_tannu_tuva
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = SOV_operation_zet }
		available = { is_puppet = no }
		bypass = {
			NOT = { country_exists = TAN }
		}
		x = 14
		y = 5
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			TAN = {
				country_event = { id = soviet.14 }
			}
		}
	}

	focus = {
		id = SOV_vasily_chuikov
		icon = GFX_focus_sov_recall_zhuikov
		prerequisite = { focus = SOV_annex_tannu_tuva }
		x = 14
		y = 6
		cost = 2
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = { has_idea = SOV_idea_3_5_year_plan }
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = vasily_chuikov_1
			add_political_power = 100
		}
	}
	
	focus = {
		id = SOV_war_with_japan
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_vasily_chuikov }
		x = 14
		y = 7
		available = {
			country_exists = JAP
			date > 1943.1.1
			OR = {
			 NOT = { SOV = { has_war_with = GER } }
			 
			 OR = {
					JAP = { controls_state = 629 }
					any_other_country = {
						is_in_faction_with = JAP
						controls_state = 629
					}
				}
			}	
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		will_lead_to_war_with = JAP
		cost = 20
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_germany
						GER = { has_capitulated = no }
					}
					
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.9
				}
			}
		}
		bypass = {
			OR = {
				has_war_with = JAP
				NOT = { country_exists = JAP }
			}
		}
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
			} 
		}
	}
	
	focus = {
		id = SOV_improve_stalin_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		available = { has_offensive_war = no }
		x = 12
		y = 2
		cost = 8
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			209 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 415
						instant_build = yes
					}
				}
				#add_building_construction = {
				#	type = bunker
				#	level = 6
				#	province = 209
				#	instant_build = yes
				#}
			}
			210 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3333
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3219
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6371
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6220
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11370
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 525
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 3494
						instant_build = yes
					}
				}

			}
			203 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11409
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 754
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 741
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 11670
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claims_on_baltic
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_improve_stalin_line }
		x = 12
		y = 3
		cost = 10
		available = {
			Or = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.9	
			}
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
				NOT = { 
					GER = { has_completed_focus = GER_demand_memel }
				}
			}
		}
		bypass = {
			OR = { 
				owns_state = 11
				11 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 12
				12 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 189
				189 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 190
				190 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 11
			add_state_claim = 189
			add_state_claim = 12
			add_state_claim = 190
			add_named_threat = { threat = 3 name = SOV_claims_on_baltic }

			every_other_country = {
			
				limit = {					
					OR = {
						owns_state = 11
						owns_state = 12
						owns_state = 189
						owns_state = 190
					}
				}
				add_opinion_modifier = { target = SOV modifier = threat_to_baltic }
			}
		}
	}

	focus = {
		id = SOV_baltic_security
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_claims_on_baltic }
		x = 12
		y = 4
		cost = 10
		available = {
			Or = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.9	
			}
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1938.11.1
			}	
		}
		bypass = {
			OR = { 
				owns_state = 146
				146 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 191
				191 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 13
				13 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 146 # Karjala
			# Estonia
			add_state_claim = 191 
			add_state_claim = 13
			add_named_threat = { threat = 1 name = SOV_baltic_security }
			
		}
	}
	
	focus = {
		id = SOV_claims_on_poland
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_baltic_security }
		x = 12
		y = 5
		cost = 10
		available = {
			Or = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.9	
			}
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
		}

		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact

				NOT = { country_exists = POL }

				AND = {
					OR = { 
						owns_state = 91
						91 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 93
						93 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 94
						94 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 95
						95 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 96
						96 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 89
						89 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 97
						97 = { is_claimed_by = ROOT }
					}
				}
			}			
		}

		completion_reward = {
			# REVISIT Covers Polish border, may want to add/remove some states
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 89
			add_named_threat = { threat = 3 name = SOV_claims_on_poland }

			every_other_country = {
				limit = { 
					OR = {
						owns_state = 96
						owns_state = 95
						owns_state = 94
						owns_state = 93
						owns_state = 91
						owns_state = 89
					}
				}
				add_opinion_modifier = { target = SOV modifier = claimed_eastern_poland }
			}
		}
	}

	focus = {
		id = SOV_fortify_molotov_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_improve_stalin_line }
		available = { 
			has_offensive_war = no 
			#NOT = { has_war_with = GER }
			SOV = {
				AND = {
					AND = { owns_state = 11 controls_state = 11 }
					AND = { owns_state = 12 controls_state = 12 }
					AND = { owns_state = 13 controls_state = 13 }
					AND = { owns_state = 89 controls_state = 89 }
					AND = { owns_state = 91 controls_state = 91 }
					AND = { owns_state = 93 controls_state = 93 }
					AND = { owns_state = 94 controls_state = 94 }
					AND = { owns_state = 95 controls_state = 95 }
					AND = { owns_state = 96 controls_state = 96 }
					AND = { owns_state = 97 controls_state = 97 }
					AND = { owns_state = 189 controls_state = 189 }
					AND = { owns_state = 190 controls_state = 190 }
					AND = { owns_state = 191 controls_state = 191 }
				}
			}

		}



		x = 10
		y = 3
		cost = 8
		ai_will_do = {
			factor = 1
		}	

		completion_reward = {
			11 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 6407
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 6296
					instant_build = yes
				}
			}
			89 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 11411
					instant_build = yes

				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6431
					instant_build = yes

				}
			}
			95 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9359
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 3366
					instant_build = yes
				}
			}
			91 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 11479
					instant_build = yes
				}
			}
			94 = {
				add_building_construction = {
					type = bunker
					level = 7
					province = 3392
					instant_build = yes
				}
			}
			189 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9731
					instant_build = yes
				}

				add_building_construction = {
					type = bunker
					level = 4
					province = 6360
					instant_build = yes
				}
			}
			97 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 3393
					instant_build = yes
				}
			}
			190 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9262
					instant_build = yes
				}
			}
		}
	}	

	focus = {
		id = SOV_fortify_dneibr
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_fortify_molotov_line }
		available = { 
			has_offensive_war = no 
			#NOT = { has_war_with = GER }
			SOV = {
				AND = {
					AND = { owns_state = 226 controls_state = 226 }
					AND = { owns_state = 259 controls_state = 259 }
					AND = { owns_state = 200 controls_state = 200 }
					AND = { owns_state = 89 controls_state = 196 }
				}
			}

		}



		x = 10
		y = 4
		cost = 8
		ai_will_do = {
			factor = 1
		}	

		completion_reward = {
			196 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 721
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 737
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 3573
					instant_build = yes
				}
			}
			200 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 11405
					instant_build = yes

				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 588
					instant_build = yes

				}
			}
			259 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 6507
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 6495
					instant_build = yes
				}
			}
		}
	}	

	focus = {
		id = SOV_defense_of_moscow
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_fortify_dneibr }
		available = {
			#any_owned_state = {
			#	any_neighbor_state = { state = 219 } # Moscow
			#	NOT = { is_controlled_by = ROOT }
			#}
			219 = {
				is_controlled_by = ROOT
				
				OR = {
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}

					SOV = { surrender_progress > 0.1 }
				}
			}
		}
		x = 10
		y = 5
		cost = 5
		ai_will_do = {
			factor = 100
		}	
		completion_reward = {
			army_experience = 25
			219 = {
				custom_effect_tooltip = SOV_defense_of_moscow_forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 3391
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6414
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9348
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 301
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9378
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6283
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3259
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11282
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6348
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claim_bessarabia
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_claims_on_poland }
		x = 12
		y = 6
		cost = 8
		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				date < 1939.1.1
			}			
		}
		bypass = {
			OR = { 
				owns_state = 78
				78 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 80
				80 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 78
			add_state_claim = 80
			add_named_threat = { threat = 1 name = SOV_claim_bessarabia }
			random_other_country = {
				limit = { owns_state = 78 }
				add_opinion_modifier = { target = SOV modifier = claimed_bessarabia }
				set_country_flag = SOV_added_claimed_bessarabia
			}
			if = {
				limit = {
					any_other_country = {
						owns_state = 78
						NOT = {	owns_state = 80 }
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 80 
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
				}
			}
		}
	}


	focus = {
		id = SOV_war_with_germany
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_claim_bessarabia }
		available = {
			country_exists = GER
			custom_trigger_tooltip = {
				tooltip = SOV_war_with_germany_tt
				NOT = { has_idea = SOV_molotov_ribbentrop_pact }
			}
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		bypass = {
			has_war_with = GER
		}
		will_lead_to_war_with = GER
		x = 12
		y = 7
		cost = 15
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_japan
						JAP = { has_capitulated = no }
					}
					
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.75
				}
			}

			modifier = {
				factor = 2

				ROM = {
					is_in_faction_with = GER
				}
			}
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
			} 
		}
	}

	focus = {
		id = SOV_anti_capitalist_diplomacy
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = SOV_stalin_constitution }
		x = 18
		y = 1
		cost = 2
		available = { 
			date > 1941.03.01
		}
		ai_will_do = {
			factor = 0.25
		}

		completion_reward = {
			add_political_power = 150 
		}
	}

	focus = {
		id = SOV_expand_red_fleet
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		available = { has_offensive_war = no }
		x = 18
		y = 2
		cost = 5
		available = { 
			date > 1941.04.01
		}

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_expand_red_fleet_2dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}				
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.2
				uses = 2
				category = naval_equipment
			}			
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
		}
	}

	focus = {
		id = SOV_murmansk_lend_lease
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_operation_countenance }
		x = 17
		y = 4
		cost = 4
		available = { 
				has_war_with = GER
				213 = {is_owned_by = SOV}
				date > 1941.07.31
		}
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = lend_lease_articm
			if = { limit = { is_ai = no }
				hidden_effect = {
					sound_effect = sp_sov_rallytheworkers 
				}
			}
		}
	}

	focus = {
		id = SOV_arkangelsk_lend_lease
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_murmansk_lend_lease }
		x = 17
		y = 5
		cost = 4
		available = { 
			has_war_with = GER
			213 = {is_owned_by = SOV}
			date > 1941.12.12
		}
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = lend_lease_artica
		}
	}

	focus = {
		id = SOV_persia_lend_lease
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_pacific_lend_lease }
		available = { 
			has_war_with = GER
			ENG = { has_war_with = GER }
			OR = { 229 = {is_owned_by = SOV} 229 = {is_owned_by = ENG} }
			date > 1942.06.01
		}
		x = 19
		y = 5
		cost = 4
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = lend_lease_iran
			country_event = { id = soviet.63 }
		}
	}

	focus = {
		id = SOV_pacific_lend_lease
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_operation_countenance }
		available = {
			has_war_with = GER
			408 = {is_owned_by = SOV} 
			date > 1941.06.01
		}
		x = 19
		y = 4
		cost = 4
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = lend_lease_pac
		}
	}

	focus = {
		id = SOV_production_license
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_persia_lend_lease }
		prerequisite = { focus = SOV_arkangelsk_lend_lease }
		available = {
			has_war_with = GER
		}
		x = 18
		y = 6
		cost = 6
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = SOV_idea_license
		}
	}

	focus = {
		id = SOV_extra_tech_slot
		icon = GFX_focus_research
		text = extra_tech_slot
		prerequisite = { focus = SOV_production_license }
		x = 18
		y = 7
		cost = 8
		ai_will_do = {
			factor = 5
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SOV_great_purge
		icon = GFX_goal_generic_war_with_comintern
		available = {
			NOT = { has_country_flag = counter_purge }
			has_government = communism
		}
		x = 26
		y = 0
		cost = 20
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				any_claim = yes
				has_war = yes
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SOV_great_purge_bypass_tt
				has_country_flag = counter_purge
			}
		}

		select_effect = {
			country_event = { id = soviet.24 days = 1 }
			set_country_flag = SOV_purge_started
		}
		completion_reward = {
			custom_effect_tooltip = SOV_great_purge_tt
			custom_effect_tooltip = SOV_great_purge_tt2
			
			#Full military purge. Hardest penalty
			if = {
				limit = {
					OR = {
						has_country_flag = purge_1_group_a
						has_country_flag = purge_1_group_b
					}
					OR = {						
						has_country_flag = purge_2_group_a
						has_country_flag = purge_2_group_b
					}
				}
				add_timed_idea = {
					idea = officers_purged
					days = 1460
				}
				hidden_effect = {
					country_event = { id = soviet.37 days = 146 }				
				}
				hidden_effect = {
					news_event = { hours = 6 id = news.219 }
				}
			}
			#Full military purge. Hardest penalty (player)
			if = {
				limit = {
					OR = {
						has_country_flag = purge_1_group_a
						has_country_flag = purge_1_group_b
					}
					OR = {						
						has_country_flag = purge_2_group_a
						has_country_flag = purge_2_group_b
					}
					is_ai = no
				}
				add_timed_idea = {
					idea = officers_purged_b
					days = 1460
				}
			}

			#1 military purge. Lower penalty
			if = {
				limit = {
					OR = {
						AND = {
							NOT = { 
								OR = { 
									has_country_flag = purge_1_group_a
									has_country_flag = purge_1_group_b
								}
							}
							OR = {						
								has_country_flag = purge_2_group_a
								has_country_flag = purge_2_group_b
							}
						}
						AND = {
							OR = { 
								has_country_flag = purge_1_group_a
								has_country_flag = purge_1_group_b
							}
							NOT = {
								OR = {						
									has_country_flag = purge_2_group_a
									has_country_flag = purge_2_group_b
								}
							}
						}
					}
				}
				add_timed_idea = {
					idea = officers_purged_4
					days = 1021
				}
				hidden_effect = {
					country_event = { id = soviet.40 days = 146 }				
				}
			}	
			#1 military purge. Lower penalty  (player)
			if = {
				limit = {
				    is_ai = no
					OR = {
						AND = {
							NOT = { 
								OR = { 
									has_country_flag = purge_1_group_a
									has_country_flag = purge_1_group_b
								}
							}
							OR = {						
								has_country_flag = purge_2_group_a
								has_country_flag = purge_2_group_b
							}
						}
						AND = {
							OR = { 
								has_country_flag = purge_1_group_a
								has_country_flag = purge_1_group_b
							}
							NOT = {
								OR = {						
									has_country_flag = purge_2_group_a
									has_country_flag = purge_2_group_b
								}
							}
						}
					}
				}
				add_timed_idea = {
					idea = officers_purged_b
					days = 1141
				}
			}	

			#No military purge. Lowest penalty.
			if = {
				limit = {
					NOT = {
						OR = {
							has_country_flag = purge_1_group_a
							has_country_flag = purge_1_group_b
						}
					}
					NOT = {
						OR = {
							has_country_flag = purge_2_group_a
							has_country_flag = purge_2_group_b
						}
					}
				}
				add_timed_idea = {
					idea = officers_purged_7
					days = 583
				}
				hidden_effect = {
					country_event = { id = soviet.43 days = 146 }				
				}
			}

			remove_ideas = trotskyite_plot
			add_ideas = trotskyite_plot_purged

			hidden_effect = {
				if = {
					limit = { 
						any_other_country = {
							is_major = yes
							has_offensive_war_with = SOV
						}
					}
					country_event = { id = soviet.46 days = 3 }
				}				 
			}
		}
	}

    focus = {
		id = SOV_nkvd_primacy
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 23
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = nkvd
		}
	}

	focus = {
		id = SOV_nkvd_divisions
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SOV_nkvd_primacy }
		x = 23
		y = 3
		cost = 8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			
        swap_ideas = { remove_idea = nkvd add_idea = nkvd_2 }
				
		}
	}

	focus = {
		id = SOV_Beria_Partisans
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SOV_nkvd_divisions }
		available = { 
			has_war_with = GER
		}
		x = 23
		y = 4
		cost = 8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			
		swap_ideas = { remove_idea = nkvd_2 add_idea = nkvd_3 }
			
		}
	}

	focus = {
		id = SOV_collectivist_propaganda
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SOV_great_purge }
		x = 24
		y = 1
		cost = 7
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = YUG_idea_very_empowered_peasant_councils
		}
	}

	focus = {
		id = SOV_STAVKA
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SOV_great_purge }
		x = 28
		y = 1
		cost = 7
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SOV_STAVKA
		}
	}

	focus = {
		id = SOV_positive_heroism
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 25
		y = 2
		cost = 8
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = konstantin_rokossovsky 
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = georgy_zhukov
			# REVISIT Might want to add more
		}
	}

	focus = {
		id = SOV_operation_countenance
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = SOV_expand_red_fleet }
		x = 18
		y = 3
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
        OR = {
			has_defensive_war_with = GER
			NOT = { 
			126 = {
		    is_owned_and_controlled_by = ENG
			}
			}
			NOT = { 
			127 = {
		    is_owned_and_controlled_by = ENG
			}
			}
			}
			ENG = { has_war_with = GER }
			NOT = { has_war_with = ENG }
		}
		completion_reward = {
		      ENG = { country_event = { id = BICE_britain.36 } }
        
		#if = {   # Why the iraq check? what happens with iraq?
		#			limit = {
		#			NOT = { IRQ = { is_in_faction_with = ENG } }
		#	291 = {
		#    is_owned_and_controlled_by = IRQ
		#	}
		#			}
		#					
		#		}
		
		

	    }

	}	
}
#######################################################
	
###################### Tank Corps National Focus ####################
	
	

#	focus = {
#		id = SOV_xian_incident
#		icon = GFX_goal_generic_political_pressure
#		prerequisite = { focus = SOV_anti_fascist_diplomacy }
#		x = 10
#		y = 1
#		cost = 10
#		ai_will_do = {
#			factor = 1
#		}	
#		completion_reward = {
#			CHI = { country_event = { id = soviet.18 days = 1 } }
#			custom_effect_tooltip = SOV_xian_incident_tt
#		}
#	}
