#Category only allowed for GER
GER_mefo_bills_category = {

GER_mefo_bills_mission = {

		#allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			NOT = {
				NOT = { has_government = democratic }
				GER_can_delay_mefo_payment = yes
				#has_political_power > 0
			}
		}

		#cost = GER_mefo_bill_counter?10

		#selectable_mission = yes
		days_mission_timeout = 180
		is_good = yes
		fire_only_once = yes
		activation = {
			GER_has_mefo_bills = yes
		}
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					NOT = { GER_has_mefo_bills = yes }
					has_idea = GER_mefo_bills_ended
				}
			}
		}

#		days_remove = GER_extend_mefo_bills_days?0


#		remove_effect = {
#			GER_mefo_bills_level_up = yes
#			if = {
#				limit = {
#					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
#				}
#				set_variable = { var = GER_mefo_bill_counter value = 10 }
#			}
#			add_to_variable = { var = GER_mefo_bill_counter value = 10 }
#
#			hidden_effect = {
#				activate_mission = GER_mefo_bills_mission
#			}
#		}

#		complete_effect = {
#
#			custom_effect_tooltip = GER_mefo_bills_mission_tt
#			custom_effect_tooltip = GER_mefo_bills_effect_in_days
#			effect_tooltip = {
#				GER_mefo_bills_level_up = yes
#			}
#			hidden_effect = {
#				set_variable = { GER_extend_mefo_bills_days = days_mission_timeout@GER_mefo_bills_mission }
#			}
#		}

		timeout_effect = {
			GER_mefo_bills_level_up = yes
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
				}
				set_variable = { var = GER_mefo_bill_counter value = 10 }
			}
			add_to_variable = { var = GER_mefo_bill_counter value = 5 }

			hidden_effect = {
				activate_mission = GER_mefo_bills_mission
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	
	GER_mefo_bills_terminate = {
		available = {
			NOT = { has_government = democratic }
			GER_can_delay_mefo_payment = yes
			GER_has_mefo_bills = yes
		}
		visible = {
			GER_has_mefo_bills = yes
		}
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					NOT = { GER_has_mefo_bills = yes }
					has_idea = GER_mefo_bills_ended
				}
			}
		}		
		
		complete_effect = {
			GER_remove_mefo_bills = yes
			#1
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
				}
				add_political_power = -20
				add_timed_idea = { idea = GER_mefo_bills_ended days = 60 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = equals }
				}
				add_political_power = -30
				add_timed_idea = { idea = GER_mefo_bills_ended days = 70 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 20 compare = equals }
				}
				add_political_power = -40
				add_timed_idea = { idea = GER_mefo_bills_ended days = 80 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 25 compare = equals }
				}
				add_political_power = -50
				add_timed_idea = { idea = GER_mefo_bills_ended days = 90 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 30 compare = equals }
				}
				add_political_power = -60
				add_timed_idea = { idea = GER_mefo_bills_ended days = 100 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 35 compare = equals }
				}
				add_political_power = -70
				add_timed_idea = { idea = GER_mefo_bills_ended days = 110 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 40 compare = equals }
				}
				add_political_power = -80
				add_timed_idea = { idea = GER_mefo_bills_ended days = 120 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 45 compare = equals }
				}
				add_political_power = -90
				add_timed_idea = { idea = GER_mefo_bills_ended days = 130 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 50 compare = equals }
				}
				add_political_power = -100
				add_timed_idea = { idea = GER_mefo_bills_ended days = 140 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 55 compare = equals }
				}
				add_political_power = -110
				add_timed_idea = { idea = GER_mefo_bills_ended days = 150 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 60 compare = equals }
				}
				add_political_power = -120
				add_timed_idea = { idea = GER_mefo_bills_ended days = 160 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 65 compare = equals }
				}
				add_political_power = -130
				add_timed_idea = { idea = GER_mefo_bills_ended days = 170 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 70 compare = equals }
				}
				add_political_power = -140
				add_timed_idea = { idea = GER_mefo_bills_ended days = 180 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 75 compare = equals }
				}
				add_political_power = -150
				add_timed_idea = { idea = GER_mefo_bills_ended days = 190 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 80 compare = equals }
				}
				add_political_power = -160
				add_timed_idea = { idea = GER_mefo_bills_ended days = 200 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 85 compare = equals }
				}
				add_political_power = -170
				add_timed_idea = { idea = GER_mefo_bills_ended days = 210 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 90 compare = equals }
				}
				add_political_power = -180
				add_timed_idea = { idea = GER_mefo_bills_ended days = 220 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 95 compare = equals }
				}
				add_political_power = -190
				add_timed_idea = { idea = GER_mefo_bills_ended days = 230 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 100 compare = equals }
				}
				add_political_power = -200
				add_timed_idea = { idea = GER_mefo_bills_ended days = 240 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 105 compare = equals }
				}
				add_political_power = -210
				add_timed_idea = { idea = GER_mefo_bills_ended days = 250 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 110 compare = equals }
				}
				add_political_power = -220
				add_timed_idea = { idea = GER_mefo_bills_ended days = 260 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 115 compare = equals }
				}
				add_political_power = -230
				add_timed_idea = { idea = GER_mefo_bills_ended days = 270 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 115 compare = greater_than }
				}
				add_political_power = -240
				add_timed_idea = { idea = GER_mefo_bills_ended days = 280 }
			}			
		}

		ai_will_do = {
			factor = 0
		}
	}
}

GER_offensives = {
	
	GER_terrorbomb1 = {
		icon = generic_scorched_earth
		
		available = {
			has_global_flag = eastern_front_peace
			NOT = { SOV = { is_in_faction_with = GER } }
			NOT = { has_war_with = SOV }
		}
		
		visible = {
			NOT = { has_country_flag = GER_terror2 }
			has_global_flag = eastern_front_peace
		}
		
		cost = 50
		
		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0 
				fuel_ratio < 0.1
			}
		}
		
		days_remove = 10
		
		complete_effect = {
			SOV = {
				add_ideas = SOV_terror
			}
			GER = {
				add_ideas = SOV_terror_ger
			}
			
		}
		
		remove_effect = {
			hidden_effect = {
				set_country_flag = GER_terror2
			}
		}
		
	}
	
	GER_terrorbomb2 = {
		icon = generic_scorched_earth
		
		available = {
			has_global_flag = eastern_front_peace
			NOT = { has_war_with = SOV }
		}
		
		visible = {
			has_country_flag = GER_terror2
		}

		days_remove = 10
		
		cost = 50
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1000
				fuel_ratio < 0.1
			}
		}
		
		complete_effect = {
			SOV = {
				remove_ideas = SOV_terror
			}
			GER = {
				remove_ideas = SOV_terror_ger
			}
		}
		
		remove_effect = {
			hidden_effect = {
				clr_country_flag = GER_terror2
			}
		}
		
	}
	
	GER_waronpoland = {
		icon = ger_pol_war
		highlight_states = {
			highlight_state_targets = {
				state = 85
			}
		}

		
		available = {
			
			has_country_flag = GER_refusedanzig
			has_completed_focus = GER_danzig_or_war
			is_puppet = no
			date > 1939.2.31
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1939.9.1
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				date < 1940.1.1
				has_global_flag = GER_refusedanzig
			}
		}
		
		visible = {
			original_tag = GER
			or = {
				date > 1939.1.1
				has_country_flag = GER_refusedanzig
			}
		}
		
		complete_effect = {
			
			set_country_flag = GER_poland
			declare_war_on = {
				target = POL 
				type = annex_everything 
			}
			news_event = newsmod.11
			add_war_support = 0.03
			if = {
				limit = { 
					OR = {
						is_ai = no
						has_global_flag = ai_speeches
					} 
				} 
				hidden_effect = {
					sound_effect = sp_ger_POL
					play_song = "In einem PolenstÃ¤dtchen"
				}
			}
		}
	}
	
	GER_waronyugo = {
		icon = generic_operation
		highlight_states = {
			highlight_state_targets = {
				state = 107
			}	
		}

		
		available = {
				has_completed_focus = GER_presure_yugoslavia
				is_puppet = no
				date > 1940.1.1
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1940.11.18 # not historical, but until i fix the italian declaration of war/hungary demanding vojvodina, it has to be like that.
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				YUG = { has_capitulated = yes }
			}
		}
		
		visible = {
			original_tag = GER
            has_capitulated = no
			or = {
				date > 1939.10.1
				has_country_flag = GER_refusedanzig
			}
            NOT = { has_war_with = YUG }
			YUG = { has_capitulated = no exists = yes is_puppet = no }
		}
		
		complete_effect = {
			declare_war_on = {
				target = YUG
				type = annex_everything 
			}
			news_event = newsmod.12
			YUG = {
				add_timed_idea = {
					idea = YUG_warger
					days = 365
				}
			}
		}
		
	}
	
	GER_westoffensive = {
		icon = ger_fra_war
		
		available = {
			has_completed_focus = GER_around_maginot
			is_puppet = no
			date > 1940.1.1
			date < 1941.7.1
			
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				# give the AI some extra time to carry out the offensve
				date < 1940.5.9
				is_historical_focus_on = yes
			}
		}
		
		visible = {
			original_tag = GER
			or = {
				has_completed_focus = GER_around_maginot
				date > 1939.12.22
			}
		}
		
		complete_effect = {
            if = { limit = { NOT = { is_in_faction_with = BEL } }
				declare_war_on = {
					target = BEL 
					type = annex_everything 
				}
            }
			if = { limit = { NOT = { is_in_faction_with = HOL } }
				declare_war_on = {
					target = HOL 
					type = annex_everything 
				}
			}
			if = {
				limit = { 
					NOT = { is_in_faction_with = LUX } 
					LUX = { exists = yes }
				}
				declare_war_on = {
					target = LUX
					type = annex_everything 
				}
			}
			if = {
				limit = { 
					NOT = { is_in_faction_with = FRA } 
					FRA = { exists = yes }
					NOT = { FRA = { has_war_with = GER } }
				}
				declare_war_on = {
					target = FRA
					type = annex_everything 
				}
			}
			hidden_effect = {
				if = {
					limit = {
						FRA = { NOT = { has_capitulated = yes } }
					}
					GER = {
						country_event = {
								id = operation.71
						}
					}
				}
				if = { 
					limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
					sound_effect = sp_ger_gelb
				}	
			}
		}
		
	}
	
	GER_waterexercice = {
		icon = gfx_GER_water
		
		available = {
			has_completed_focus = GER_weserubung
			is_puppet = no
			date > 1940.1.1
			date < 1941.7.1
			
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1940.3.10  # The ai must have some extra time to finish eserubung before fall gelb 
				is_historical_focus_on = yes
			}
		}
		
		visible = {
			original_tag = GER
			or = {
				has_completed_focus = GER_weserubung
				date > 1939.12.22
			}
		}
		
		complete_effect = {
			#custom_effect_tooltip = GER_water
			effect_tooltip = {
			add_timed_idea = {
				idea = GER_norway
				days = 40
			}
			}
            if = { limit = { NOT = { is_in_faction_with = NOR } }
			declare_war_on = {
				target = NOR
				type = annex_everything 
			}
            }
			if = { limit = { NOT = { is_in_faction_with = DEN } }
			declare_war_on = {
				target = DEN 
				type = annex_everything 
			}
			}
			GER = {
				country_event = {
						id = operation.104
				}
			}
		}
		
	}
	
	Volk_wave1 = {
		icon = GFX_decision_volksturm
		
		available = {
			has_war_with = SOV
			is_puppet = no
			NOT = { 
				or = {
					controls_state = 206
					controls_state = 202
					controls_state = 12
				}
			}
			custom_trigger_tooltip = {
				tooltip = barba_9
				check_variable = {
					var = global.ostfront_year_4
					value = 8
					compare = greater_than_or_equals
				}
			}
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
		}
		
		visible = {
			original_tag = GER
			has_completed_focus = GER_volks_battalions
			is_puppet = no
		}
		
		complete_effect = {
			custom_effect_tooltip = 10_volk_divs
			hidden_effect = {
				load_oob = GER_volksturm_template
				random_owned_controlled_state = {
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				}
			}
		}
		
	}
	
	Volk_wave2 = {
		icon = GFX_decision_volksturm
		
		available = {
			has_war_with = SOV
			is_puppet = no
			NOT = { 
				or = {
					controls_state = 206
					controls_state = 202
					controls_state = 12
				}
			}
			custom_trigger_tooltip = {
				tooltip = barba_12
				check_variable = {
					var = global.ostfront_year_4
					value = 11
					compare = greater_than_or_equals
				}
			}
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
		}
		
		visible = {
			original_tag = GER
			has_completed_focus = GER_volks_battalions
			is_puppet = no
		}
		
		complete_effect = {
			custom_effect_tooltip = 10_volk_divs
			hidden_effect = {
				load_oob = GER_volksturm_template
				random_owned_controlled_state = {
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				}
			}
		}
		
	}
	
	Volk_wave3 = {
		icon = GFX_decision_volksturm
		
		available = {
			has_war_with = SOV
			is_puppet = no
			NOT = { 
				or = {
					controls_state = 206
					controls_state = 202
					controls_state = 12
				}
			}
			custom_trigger_tooltip = {
				tooltip = barba_15
				check_variable = {
					var = global.ostfront_year_4
					value = 14
					compare = greater_than_or_equals
				}
			}
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
		}
		
		visible = {
			original_tag = GER
			has_completed_focus = GER_volks_battalions
			is_puppet = no
		}
		
		complete_effect = {
			custom_effect_tooltip = 10_volk_divs
			hidden_effect = {
				load_oob = GER_volksturm_template
				random_owned_controlled_state = {
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				}
			}
		}
		
	}
	
	Volk_wave4 = {
		icon = GFX_decision_volksturm
		
		available = {
			has_war_with = SOV
			is_puppet = no
			NOT = { 
				or = {
					controls_state = 206
					controls_state = 202
					controls_state = 12
				}
			}
			custom_trigger_tooltip = {
				tooltip = barba_21
				check_variable = {
					var = global.ostfront_year_4
					value = 20
					compare = greater_than_or_equals
				}
			}
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
		}
		
		visible = {
			original_tag = GER
			has_completed_focus = GER_volks_battalions
			is_puppet = no
		}
		
		complete_effect = {
			custom_effect_tooltip = 10_volk_divs
			hidden_effect = {
				load_oob = GER_volksturm_template
				random_owned_controlled_state = {
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Volkssturm\" division_template = \"Volkssturm\" start_experience_factor = 0.1 start_equipment_factor = 0.5" 
					owner = GER
				}
				}
			}
		}
		
	}
	
	luftwaffe_field = {
		icon = GFX_decision_luftwaffe
		
		available = {
			has_war_with = SOV
			is_puppet = no
			NOT = { 
				or = {
					controls_state = 206
					controls_state = 202
					controls_state = 12
				}
			}
			custom_trigger_tooltip = {
				tooltip = barba_21
				check_variable = {
					var = global.ostfront_year_4
					value = 20
					compare = greater_than_or_equals
				}
			}
			
			has_completed_focus = GER_air_innovation
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
		}
		
		visible = {
			original_tag = GER
			has_completed_focus = GER_volks_battalions
			is_puppet = no
		}
		
		complete_effect = {
			custom_effect_tooltip = elite_2_units
			hidden_effect = {
				load_oob = GER_field_luftwaffe
				random_owned_controlled_state = {
				create_unit = { 
					division = "name = \"Luftwaffe Field Division\" division_template = \"Luftwaffe Field Division\" start_experience_factor = 1" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Luftwaffe Field Division\" division_template = \"Luftwaffe Field Division\" start_experience_factor = 1" 
					owner = GER
				}
				}
			}
			add_ideas = weak_air
		}
		
	}
	
	kriegsmarine_field = {
		icon = GFX_decision_kriegsmarine
		
		available = {
			has_war_with = SOV
			is_puppet = no
			NOT = { 
				or = {
					controls_state = 206
					controls_state = 202
					controls_state = 12
				}
			}
			custom_trigger_tooltip = {
				tooltip = barba_21
				check_variable = {
					var = global.ostfront_year_4
					value = 20
					compare = greater_than_or_equals
				}
			}
			
			has_completed_focus = GER_naval_rearmament
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
		}
		
		visible = {
			original_tag = GER
			has_completed_focus = GER_volks_battalions
			is_puppet = no
		}
		
		complete_effect = {
			custom_effect_tooltip = elite_2_units
			hidden_effect = {
				load_oob = GER_field_kriegsmarine
				random_owned_controlled_state = {
				create_unit = { 
					division = "name = \"Kriegsmarine Field Division\" division_template = \"Kriegsmarine Field Division\" start_experience_factor = 1" 
					owner = GER
				}
				create_unit = { 
					division = "name = \"Kriegsmarine Field Division\" division_template = \"Kriegsmarine Field Division\" start_experience_factor = 1" 
					owner = GER
				}
				}
			}
			add_ideas = weak_navy
		}
		
	}
	
	GER_suboperation1 = {
		icon = gfx_GER_submarine
		
		available = {
			has_completed_focus = GER_prepare_the_navy_to_be_at_war_with_uk
			has_war_with = ENG
			is_puppet = no
			date > 1940.07.1
			date < 1940.10.1
			NOT = { has_war_with = USA }
			surrender_progress < 0.05
			has_navy_size = { size > 30 }
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
		}
		
		visible = {
			original_tag = GER
			date > 1940.05.1
			#date < 1940.10.1
			is_puppet = no
		}
		
		complete_effect = {
			add_timed_idea = {
				idea = GER_sub1
				days = 90
			}
			hidden_effect = {
				news_event = { id = worldnews.18 hours = 20 }
			}
		}
		
	}
	
	GER_suboperation2 = {
		icon = gfx_GER_submarine
		
		available = {
			has_completed_focus = GER_prepare_the_navy_to_be_at_war_with_uk
			has_war_with = USA
			is_puppet = no
			date > 1941.11.1
			has_completed_focus = GER_french_naval_bases
			has_war_with = USA
			surrender_progress < 0.05
			has_navy_size = { size > 30 }
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
		}
		
		visible = {
			original_tag = GER
			date > 1940.11.1
			#date < 1941.08.1
			is_puppet = no
		}
		
		complete_effect = {
			add_timed_idea = {
				idea = GER_sub2
				days = 150
			}
			hidden_effect = {
				news_event = { id = worldnews.19 hours = 20 }
			}
		}
		
	}
	
	GER_barbarossa = {
		icon = generic_scorched_earth
		allowed = {
		    original_tag = GER
		}
		
		available = {
			has_completed_focus = GER_ussr_war_goal
			is_subject = no
			NOT = { is_in_faction_with = SOV }
                         custom_trigger_tooltip = { tooltip = barba_less_than_1
                        check_variable = {
				var = global.ostfront_year_4
				value = 1
				compare = less_than_or_equals
			}
                        }
		}
		
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1941.6.22
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				FRA = { has_war_with = GER }
				FRA = { has_capitulated = no }
			}
			modifier = {
				factor = 0
				has_global_flag = eastern_front_peace
			}
		}
		
		visible = {
			or = {
				date > 1940.5.1
				has_completed_focus = GER_ussr_war_goal
			}
                        check_variable = {
				var = global.ostfront_year_4
				value = 1
				compare = less_than_or_equals
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					is_ai = no
				}
				add_timed_idea = {
					idea = Barbarossa_I
					days = 160
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				add_timed_idea = {
					idea = Barbarossa_I_AI
					days = 160
				}
			}
				
			if = { 
				limit = { 
					OR = { 
						is_ai = no 
						has_global_flag = ai_speeches
					} 
				} 
				hidden_effect = {
					sound_effect = sp_ger_russia
					play_song = "Schwarzbraun ist die Haselnuss"
				}
			}
			if = {
				limit = {
					NOT = { has_war_with = SOV }
				}
				GER = {
					country_event = germany.238
				}
			}
		}
		
	}
	
	summer_offensive_0_decision = { #EARLY FALL BLAU 1941 BECAUSE GER DID NOT LUNCH BARBAROSSA
	
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = SOV
		
			AND = { date > 1941.04.20 date < 1941.07.10 } 
		
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			surrender_progress < 0.05
		}
    
		visible = {
			has_war_with = SOV
			has_country_flag = early_barbarossa
			NOT = { OR = { has_idea = Barbarossa_I has_idea = Barbarossa_I_AI } }
			AND = { date > 1941.02.20 date < 1941.07.10 } 
			check_variable = {
				var = global.ostfront_year_4
				value = 8
				compare = greater_than_or_equals
			}
		}
	
		icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1941.05.25
			}
		}	
		fire_only_once = yes
	
		complete_effect = { 
			if = { 
				limit = { 
					GER = { 
						controls_state = 227
						controls_state = 221
						controls_state = 240
					}
				}
				add_timed_idea = {
					idea = Blau_I
					days = 120
				}
			
			else = {
			
			if = { 
				limit = { 
					is_ai = no
				}
				add_timed_idea = {
					idea = Blau_I_modif
					days = 120
				}
				else = {
				add_timed_idea = {
					idea = Blau_I_ai
					days = 130
				}
				}
			}				
			}
			}
			country_event = { id = operation.60 }
			if = { limit = { ITA = { has_completed_focus = ITA_eastern_front } }
				ITA = { country_event = { id = operation.60 } }
			}
			if = { limit = { SWE = { has_completed_focus = SWE_eastern_front } }
				SWE = { country_event = { id = operation.60 } }
			}
			news_event = { hours = 20 id = news.3145 }
		}
    }
	
	summer_offensive_I_decision = { #REAL FALL BLEU 1942
	
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = SOV
		
			AND = { date > 1942.05.20 date < 1942.08.1 } 
		
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			surrender_progress < 0.05

		}
    
		visible = {
			has_war_with = SOV
			NOT = { OR = { has_idea = Barbarossa_I has_idea = Barbarossa_I_AI } }
			AND = { date > 1942.02.20 date < 1942.08.1 } 
			check_variable = {
				var = global.ostfront_year_4
				value = 8
				compare = greater_than_or_equals
			}
		}
	
		icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1942.06.28
			}
		}	
		fire_only_once = yes
	
		complete_effect = { 
			if = { 
				limit = { 
					GER = { 
						controls_state = 227
						controls_state = 221
						controls_state = 208
					}
				}
				add_timed_idea = { #WEAK BLAU BOTH
					idea = Blau_I 
					days = 120
				}
			
				else = {
			
					if = { 
						limit = { 
							is_ai = no
						}
						add_timed_idea = { #STRONGER BLAU
							idea = Blau_I_modif
							days = 120
						}
						else = {
							add_timed_idea = { #AI STRONGER BLAU
								idea = Blau_I_ai
								days = 130
							}
						}
					}				
				}
			}
			country_event = { id = operation.61 }
			if = { limit = { ITA = { has_completed_focus = ITA_eastern_front } }
				ITA = { country_event = { id = operation.61 } }
			}
			if = { limit = { SWE = { has_completed_focus = SWE_eastern_front } }
				SWE = { country_event = { id = operation.61 } }
			}
			if = {
				limit = {
					or = { 
						surrender_progress > 0.05 
						AND = {
							ROM = { has_capitulated = yes }
							ROM = { is_in_faction_with = GER }
						}
						AND = {
							HUN = { has_capitulated = yes }
							HUN = { is_in_faction_with = GER }
						}
						NOT = { SOV = { surrender_progress > 0 } }
					}
					
				}
				news_event = { hours = 20 id = worldnews.10 }
			}
			else = {
				news_event = { hours = 20 id = news.3145 }
			}
			if = { 
				limit = { 
					OR = { 
						is_ai = no 
						has_global_flag = ai_speeches
					} 
				} 
				hidden_effect = {
					sound_effect = sp_ger_despair
				}
			}
				
		}
    }
	
	summer_offensive_II_decision = { #1943 OFFENSIVE CAMPAIGN
	
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = SOV
		        has_completed_focus = GER_total_war
			AND = { date > 1943.05.20 date < 1943.08.1 } 
		
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			surrender_progress < 0.05

		}
    
		visible = {
			has_war_with = SOV
			NOT = { OR = { has_idea = Barbarossa_I has_idea = Barbarossa_I_AI } }
			AND = { date > 1943.02.01 date < 1943.08.1 } 	
            check_variable = {
				var = global.ostfront_year_4
				value = 8
				compare = greater_than_or_equals
			}			
		}
	
		icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1943.06.27
			}
		}	
		fire_only_once = yes
	
		complete_effect = { 
			add_timed_idea = {
				idea = Blau_II
				days = 75
			}
			country_event = { id = operation.63 }
			if = { limit = { ITA = { has_completed_focus = ITA_eastern_front } }
				ITA = { country_event = { id = operation.63 } }
			}
			if = { limit = { SWE = { has_completed_focus = SWE_eastern_front } }
				SWE = { country_event = { id = operation.63 } }
			}
			if = {
				limit = {
					or = { 
						surrender_progress > 0.05 
						AND = {
							ROM = { has_capitulated = yes }
							ROM = { is_in_faction_with = GER }
						}
						AND = {
							HUN = { has_capitulated = yes }
							HUN = { is_in_faction_with = GER }
						}
						NOT = { SOV = { surrender_progress > 0 } }
					}
					
				}
				news_event = { hours = 20 id = worldnews.11 }
			}
			else = {
				news_event = { hours = 20 id = news.3151 }
			}
		}
    }
	
	summer_offensive_III_decision = { 
	
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = SOV
		
			AND = { date > 1944.05.01 date < 1944.07.10 } 
		
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			surrender_progress < 0.05

		}
    
		visible = {
			has_war_with = SOV
			NOT = { OR = { has_idea = Barbarossa_I has_idea = Barbarossa_I_AI } }
			AND = { date > 1944.03.01 date < 1944.07.01 } 
			check_variable = {
				var = global.ostfront_year_4
				value = 8
				compare = greater_than_or_equals
			}
		}
	
		icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1944.05.24
			}
		}	
		fire_only_once = yes
	
		complete_effect = { 
			if = { 
				limit = { 
					GER = { 
						controls_state = 245
						controls_state = 238
						controls_state = 237
						controls_state = 236
					}
				}
				add_timed_idea = {
					idea = Blau_III
					days = 75
				}
			}
			else = {
				add_timed_idea = {
					idea = Blau_I_modif
					days = 75
				}
			}
			country_event = { id = operation.61 }
			if = { limit = { ITA = { has_completed_focus = ITA_eastern_front } }
				ITA = { country_event = { id = operation.61 } }
			}
			if = { limit = { SWE = { has_completed_focus = SWE_eastern_front } }
				SWE = { country_event = { id = operation.61 } }
			}
			news_event = { hours = 20 id = news.3145 }
		}
    }
	
	summer_offensive_IV_decision = { 
	
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = SOV
		
			AND = { date > 1944.05.01 date < 1944.07.20 } 
		
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			surrender_progress < 0.05

		}
    
		visible = {
			has_war_with = SOV
			NOT = { OR = { has_idea = Barbarossa_I has_idea = Barbarossa_I_AI } }
			AND = { date > 1944.03.01 date < 1944.07.20 } 
			check_variable = {
				var = global.ostfront_year_4
				value = 8
				compare = greater_than_or_equals
			}
		}
	
		icon = generic_tank

		cost = 0
		ai_will_do = {
			factor = 500
			modifier = {
				factor = 0
				date < 1945.05.20
			}
		}	
		fire_only_once = yes
	
		complete_effect = { 
			if = { 
				limit = { 
					GER = { 
						controls_state = 245
						controls_state = 238
						controls_state = 237
						controls_state = 236
					}
				}
				add_timed_idea = {
					idea = Blau_IV
					days = 75
				}
			}
			else = {
				add_timed_idea = {
					idea = Blau_I_modif
					days = 75
				}
			}
			country_event = { id = operation.61 }
			if = { limit = { ITA = { has_completed_focus = ITA_eastern_front } }
				ITA = { country_event = { id = operation.61 } }
			}
			if = { limit = { SWE = { has_completed_focus = SWE_eastern_front } }
				SWE = { country_event = { id = operation.61 } }
			}
			news_event = { hours = 20 id = news.3145 }
		}
    }
	
	battle_of_bulge = { 
	
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = USA
			has_war_with = SOV

			custom_trigger_tooltip = {
				tooltip = controlgerfr
				16 = { NOT = { is_controlled_by_ROOT_or_ally = yes } }
				15 = { NOT = { is_controlled_by_ROOT_or_ally = yes } }
				14 = { NOT = { is_controlled_by_ROOT_or_ally = yes } }
				OR = {
				23 = { NOT = { is_controlled_by_ROOT_or_ally = yes } } ## Poitou
				18 = { NOT = { is_controlled_by_ROOT_or_ally = yes } } ## Champagne
				34 = { NOT = { is_controlled_by_ROOT_or_ally = yes } } ## wallonie
				}
			}
			GER = { surrender_progress > 0.01 }
		}
    
		visible = {
			has_war_with = SOV
			has_war_with = USA
			date > 1941.3.1
		}
	
		icon = generic_tank

		cost = 0
		
		ai_will_do = {
			factor = 500
		}	
		fire_only_once = yes
	
		complete_effect = { 
			add_timed_idea = {
				idea = GER_bulge
				days = 65
			}
			news_event = { hours = 20 id = news.1299 }
		}
    }
	lastmajor = {
		allowed = {
			tag = GER 
		}
		available = {
			has_war_with = USA
			has_war_with = SOV
			has_idea = GER_bulge
			GER = { surrender_progress > 0.05 }
		}
    
		visible = {
			has_war_with = SOV
			has_war_with = USA
			has_idea = GER_bulge
		}
	
		icon = generic_operation

		cost = 5
		
		ai_will_do = {
			factor = 500
		}	
		fire_only_once = yes
	
		complete_effect = { 
			add_timed_idea = {
				idea = GER_nordwind
				days = 30
			}
			add_timed_idea = {
				idea = GER_bodenplatte
				days = 30
			}
		}
    }

}

operations = {

	GER_war_with_usa = {
                fire_only_once = yes
		icon = generic_speech

		allowed = {
			tag =  GER
		}
		visible ={
			has_war = yes
		}
		available = {
			has_war_with = USA
		}
		cost = 25
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			add_war_support = 0.05
			if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
				hidden_effect = {
					sound_effect = sp_ger_waronusa
				}
			}
		}
	}


	GER_setup_salo = {
	
        fire_only_once = yes

		icon = GFX_decision_SOV_place_hq

		allowed = {
			tag =  GER
		}

		visible = {
			has_war = yes
			is_in_faction_with = ITA
			ITA = {
				OR = {
					surrender_progress > 0.04
					has_idea = ITA_duce_prison
				}
			}
			has_capitulated = no
		}

		available = {
			ITA = { has_idea = ITA_duce_prison }
			is_neighbor_of = ITA
		}
		
		cost = 30
		ai_will_do = {
			factor = 500
		}
		complete_effect = {
		    effect_tooltip = {
			ITA = {
				 ITA = {
			remove_ideas = ITA_duce_prison
			
			set_capital = { state = 160 }
			set_cosmetic_tag = ITA_GER
			
			add_popularity = { ideology = fascism popularity = 0.07 }
			add_stability = 0.05	
            add_war_support = 0.05			
			add_ideas = FRA_occupation_costs_4	 
		    }
			}
			}
			ITA = { country_event = italy.36 }
			if = { #GER Needs to control own Tyrol to get South Tyrol...
				limit = {
					153 = { is_fully_controlled_by = GER }
				}
				GER = {
					set_state_controller = 39
					add_state_core = 39
				}
			}
			if = { #GER Needs to control own Slovenia to get  Adriatic Littoral...
				limit = {
					102 = { is_fully_controlled_by = GER }
				}
				GER = {
					set_state_controller = 736
				}
			}
			every_state = { #Avoid bug in recent versions that these states go back to owner (GRE or YUG)
				limit = {
					OR = {
						is_core_of = ALB
						is_core_of = GRE
					}
					is_controlled_by = ITA
				}
				GER = {
					set_state_controller = PREV
				}
			}
		}
	}

	GER_barbarossa_mission = {
		icon = generic_operation

		allowed = {
			always = no
			#added through on_action
		}

		available = {
			219 = { is_controlled_by_ROOT_or_ally = yes }
			195 = { is_controlled_by_ROOT_or_ally = yes }
			202 = { is_controlled_by_ROOT_or_ally = yes }
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {

		}

		is_good = no

		complete_effect = {
			add_war_support = 0.05
			custom_effect_tooltip = barbarossa_mission_tt
		}

		timeout_effect = {
			
		}

		ai_will_do = {
			factor = 1
		}
	}

    GER_rebuild_caucasus_oil = {
		icon = oil

		allowed = {
			always = no
			#added through on_action
		}
		highlight_states = {
			highlight_state_targets = {
				state = 229
			}
		}


		available = {
			custom_trigger_tooltip = {
				tooltip = caucasus_oil_fields_burnt_tt
				229 = { 
			has_state_flag = caucasus_oil_scorched 
			}
			}
		    
			has_tech = excavation3
		}
		
		visible = {
			229 = { 
			is_controlled_by_ROOT_or_ally = yes 
			OR = { has_state_flag = caucasus_oil_scorched has_state_flag = caucasus_oil_burning }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 180

		modifier = {
			civilian_factory_use = 12
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			229 = {
				add_resource = {
					type = oil
					amount = 130
				}
			}
		}
	}
}

GER_case_anton_category = {

	GER_case_anton = {

		icon = generic_operation

		available = {
			has_government = fascism
            any_country_with_original_tag = {
                original_tag_to_check = FRA
                has_government = fascism
                OR = {
                    is_subject_of = GER
                    has_focus_tree = vichy_french_focus
                }
                NOT = { has_war_with = GER }
            }

			divisions_in_state = { state = 31 size < 1 }
			divisions_in_state = { state = 25 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 21 size < 1 }
			divisions_in_state = { state = 32 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 26 size < 1 }
			divisions_in_state = { state = 33 size < 1 }
			divisions_in_state = { state = 20 size < 1 }
			OR = {
				ITA = { owns_state = 735 }
				divisions_in_state = { state = 735 size < 1 }
			}
			OR = {
			date > 1942.7.1
			448 = { CONTROLLER = { has_war_with = ROOT } }
			}
			has_capitulated = no
		}

		cost = 50
		fire_only_once = yes

		visible = {
			any_country_with_original_tag = {
                original_tag_to_check = FRA
                has_government = fascism
                OR = {
                    is_subject_of = GER
                    has_focus_tree = vichy_french_focus
                }
                NOT = { has_war_with = GER }
            }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 20
				ITA = { has_idea = colonial_empire_lost }
				AND = {
					459 = { CONTROLLER = { has_war_with = ROOT } }
					460 = { CONTROLLER = { has_war_with = ROOT } }
				}
			}
		}
		complete_effect = {
			custom_effect_tooltip = GER_case_anton_tt
			add_war_support = -0.03
			hidden_effect = {
				random_other_country = {
					limit = {
						has_government = fascism
						has_focus_tree = vichy_french_focus
					}
					set_country_flag = case_anton
					activate_mission = FRA_case_anton_mission
					give_military_access = GER
				}
	  		}
			FRA = { add_war_support = 0.15 }
		}
	}
}

#Category only allowed for GER
GER_reichskommissariats = {

	GER_reichskommissariat_norwegen = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			110 = { is_fully_controlled_by = GER }
			142 = { is_fully_controlled_by = GER }
			143 = { is_fully_controlled_by = GER }
			144 = { is_fully_controlled_by = GER }
		}

		cost = 20
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = NOR
				}
				hidden_effect = {
					NOR = {
						set_state_controller = 110
						set_state_controller = 142
						set_state_controller = 143
						set_state_controller = 144
					}
				}
				NOR = {
					start_civil_war = { 
						ideology = fascism 
						size = 1 
					
						transfer_state = 110
						transfer_state = 142
						transfer_state = 143
						transfer_state = 144
						GER = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
						set_cosmetic_tag = NOR_reichskommissariat
						create_country_leader = {
							name = "Josef Terboven"
							desc = "POLITICS_JOSEF_TERBOVEN_DESC"
							picture = "gfx/leaders/GER/Portrait_Germany_Josef_Terboven.dds"
							expire = "1965.1.1"
							ideology = nazism
							traits = {
							corrupt_kleptocrat
							}
						}
						add_stability = -0.1
					}
				}
			}
			else = {
				NOR = {
					transfer_state = 110
					transfer_state = 142
					transfer_state = 143
					transfer_state = 144
					set_cosmetic_tag = NOR_reichskommissariat
					create_country_leader = {
						name = "Josef Terboven"
						desc = "POLITICS_JOSEF_TERBOVEN_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Josef_Terboven.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						corrupt_kleptocrat
						}
					}
					unlock_national_focus = NOR_fascism
		        	unlock_national_focus = NOR_join_axis
					set_stability = 0.3
				}
				set_autonomy = { target = NOR autonomy_state = autonomy_integrated_puppet }
			}
		}
	}

	GER_Generalgouvernement = {

		icon = ger_reichskommissariats

		available = {
			has_government = fascism
			10 = { is_fully_controlled_by = GER }
			92 = { is_fully_controlled_by = GER }
			90 = { is_fully_controlled_by = GER }
			88 = { is_fully_controlled_by = GER }
			POL = { has_capitulated = yes }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
				}
			}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			NOT = {
				any_neighbor_country = {
					is_puppet_of = GER
					owns_state = 10
					owns_state = 92
					owns_state = 90
					owns_state = 88
					}
				}
			}
			
		
		complete_effect = {
			custom_effect_tooltip = GER_Generalgouvernement_tt
			GER = { set_country_flag = Generalgov_formed }
			if = {
				limit = {
					country_exists = POL
					}
					
				hidden_effect = {
					POL = {
						set_state_controller = 10
						set_state_controller = 92
						set_state_controller = 88
						set_state_controller = 90
						start_civil_war = { ideology = fascism size = 1 }
						}
						
					random_country = {
						limit= {
							original_tag = POL
							has_government = fascism
							}
						
						remove_ideas = { deterrence why_we_fight_focus }
						add_ideas = { RK_Partisans }
						
						set_stability = 0.3
						set_war_support = 0.3
						
						transfer_state = 10
						transfer_state = 88
						transfer_state = 90
						transfer_state = 92
						set_capital = { state = 88 }
						
						GER = {
							puppet = PREV
							if = {
								limit = {
									NOT = { has_dlc = "Death or Dishonor" }
									}
								set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
								}
							else = {
								set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
								}
							}
						
						set_cosmetic_tag = POL_reichskommissariat
						
						create_country_leader = {
							name = "Hans Frank"
							desc = ""
							picture = "gfx/leaders/POL/Portrait_Poland_Hans_Frank.tga"
							expire = "1965.1.1"
							ideology = nazism
							traits = {}
							}
							
						set_party_name = { ideology = fascism long_name = GER_fascism_party_long name = GER_fascism_party}
						set_party_name = { ideology = democratic long_name = underground_p_state_long name = underground_p_state}
						
						set_popularities = {
							democratic = 30
							fascism = 70
							communism = 0
							neutrality = 0
							}
							
						}
					}
				}
			else = {
			
				hidden_effect = {
					POL = {
						transfer_state = 10
						transfer_state = 88
						transfer_state = 90
						transfer_state = 92
						set_capital = { state = 88 }
						
						GER = {
							puppet = PREV
							if = {
								limit = {
									NOT = { has_dlc = "Death or Dishonor" }
									}
								set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
								}
							else = {
								set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
								}
							}

						set_cosmetic_tag = POL_reichskommissariat
						
						remove_ideas = { deterrence why_we_fight_focus }
						add_ideas = { RK_Partisans }
						
						set_stability = 0.3
						set_war_support = 0.3
						
						create_country_leader = {
							name = "Hans Frank"
							desc = ""
							picture = "gfx/leaders/POL/Portrait_Poland_Hans_Frank.tga"
							expire = "1965.1.1"
							ideology = nazism
							traits = {}
							}
						
						set_popularities = {
							democratic = 30
							fascism = 70
							communism = 0
							neutrality = 0
							}
						
						set_party_name = { ideology = fascism long_name = GER_fascism_party_long name = GER_fascism_party}
						set_party_name = { ideology = democratic long_name = underground_p_state_long name = underground_p_state}
						
						set_research_slots = 5
						inherit_technology = TUR


					}	
					}	
				}
			
			}
			
		}
		
	GER_Generalgouvernement_expand = {

		icon = ger_reichskommissariats

		available = {
			has_government = fascism
			any_neighbor_country = {
				is_puppet_of = GER
				owns_state = 10
				owns_state = 92
				owns_state = 90
				owns_state = 88
			}
			89 = { is_fully_controlled_by = GER }
			91 = { is_fully_controlled_by = GER }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			any_neighbor_country = {
				is_puppet_of = GER
				owns_state = 10
				owns_state = 92
				owns_state = 90
				owns_state = 88
			}
			NOT = {
				any_neighbor_country = {
					is_puppet_of = GER
					owns_state = 10
					owns_state = 92
					owns_state = 90
					owns_state = 88
					owns_state = 89
					owns_state = 91
				}
			}
		}

		complete_effect = {
			random_country = {
				limit = {
					is_puppet_of = GER
					owns_state = 10
				}
				add_state_core = 89
				add_state_core = 91
				#transfer_state = 89
				#transfer_state = 91
				set_state_controller = 89
				set_state_controller = 91
			}
		}
	}

	GER_reichskommissariat_niederlande = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			7 = { is_fully_controlled_by = GER }
			35 = { is_fully_controlled_by = GER }
			36 = { is_fully_controlled_by = GER }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = HOL
				}
				hidden_effect = {
					HOL = {
						set_state_controller = 7
						set_state_controller = 35
						set_state_controller = 36
					}
				}
				HOL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = HOL
						has_government = fascism
					}
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					
					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Arthur_Seyss-Inquart.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
			}
			else = {
				HOL = {
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Arthur_Seyss-Inquart.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = HOL autonomy_state =  autonomy_reichskommissariat   } ## test johan
			}
		}
	}
	
	GER_reichskommissariat_croatie = {

		icon = ger_reichskommissariats

		available = {
			has_government = fascism
			103 = { is_fully_controlled_by = GER }
			104 = { is_fully_controlled_by = GER }
			109 = { is_fully_controlled_by = GER }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = CRO
				}
				hidden_effect = {
					CRO = {
						set_state_controller = 103
						set_state_controller = 104
						set_state_controller = 109
						set_state_controller = 804
					}
				}
				CRO = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = CRO
						has_government = fascism
					}
					transfer_state = 103
					transfer_state = 104
					transfer_state = 109
					transfer_state = 804
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_satellite }
					}
					
					set_cosmetic_tag = CRO_reichskommissariat
					create_country_leader = {
						name = "Ante Pavelic"
						desc = "ANTE_PAVELIC_DESC"
						picture = "Portrait_Croatia_Ante_Pavelic.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
						}
					}
					if = {
						limit = {
							is_ai = yes
						}
					
						add_manpower = 10000 # for garrisons
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 2000
							producer = GER
						}
						add_equipment_to_stockpile = {
							type = support_equipment
							amount = 200
							producer = GER
						}
						add_equipment_to_stockpile = { 
							type = infantry_uniforms  
							amount = 1000
							producer = GER 
						}
					}
				}
			}
			else = {
				CRO = {
					transfer_state = 103
					transfer_state = 104
					transfer_state = 109
					transfer_state = 804
					set_cosmetic_tag = CRO_reichskommissariat
					create_country_leader = {
						name = "Ante Pavelic"
						desc = "ANTE_PAVELIC_DESC"
						picture = "Portrait_Croatia_Ante_Pavelic.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
						}
					}
					if = {
						limit = {
							is_ai = yes
						}
					
						add_manpower = 10000 # for garrisons
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 2000
							producer = GER
						}
						add_equipment_to_stockpile = {
							type = support_equipment
							amount = 200
							producer = GER
						}
						add_equipment_to_stockpile = { 
							type = infantry_uniforms  
							amount = 1000
							producer = GER 
						}
					}
				}
				set_autonomy = { target = CRO autonomy_state = autonomy_satellite }
			}
		}
	}
	
	GER_reichskommissariat_belgien_nordfrankreich = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			6 = { is_fully_controlled_by = GER }
			29 = { is_fully_controlled_by = GER }
			34 = { is_fully_controlled_by = GER }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = BEL
				}
				hidden_effect = {
					BEL = {
						set_state_controller = 6
						set_state_controller = 34
					}
				}
				BEL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = BEL
						has_government = fascism
					}
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = BEL_reichskommissariat
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Josef_Grohe.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
					hidden_effect = {
						29 = { add_core_of = PREV }
					}
				}
				random_country = {
					limit= {
						original_tag = BEL
						NOT = { has_government = fascism }
					}
					transfer_state = 295
				}
			}
			else = {
				BEL = {
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					set_cosmetic_tag = BEL_reichskommissariat
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Josef_Grohe.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = BEL autonomy_state = autonomy_integrated_puppet }
			}
		}
	}
	
	GER_reichsprotektorat_england = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			
			123 = { is_fully_controlled_by = GER }
			338 = { is_fully_controlled_by = GER }
			128 = { is_fully_controlled_by = GER }
			129 = { is_fully_controlled_by = GER }
			122 = { is_fully_controlled_by = GER }
			132 = { is_fully_controlled_by = GER }
			130 = { is_fully_controlled_by = GER }
			131 = { is_fully_controlled_by = GER }
			121 = { is_fully_controlled_by = GER }
			133 = { is_fully_controlled_by = GER }
			136 = { is_fully_controlled_by = GER }
			120 = { is_fully_controlled_by = GER }

		}
		
		cost = 20

		ai_will_do = {
			factor = 10
		}
		
		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
                  if = {
				limit = {
					country_exists = ENG
				}
				hidden_effect = {
					ENG = {
						set_state_controller = 123
						set_state_controller = 338
						set_state_controller = 128
						set_state_controller = 129
						set_state_controller = 122
						set_state_controller = 132
						set_state_controller = 130
						set_state_controller = 131
						set_state_controller = 121
						set_state_controller = 133
						set_state_controller = 136
						set_state_controller = 120
					}
				}
				ENG = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = ENG
						has_government = fascism
					}
					transfer_state = 123
					transfer_state = 338
					transfer_state = 128
					transfer_state = 129
					transfer_state = 122
					transfer_state = 132
					transfer_state = 130
					transfer_state = 131
					transfer_state = 121
					transfer_state = 133
					transfer_state = 136
					transfer_state = 120
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
				        set_cosmetic_tag = ENG_reichskommissariat
				
				        #create_country_leader = {   ##Mosley is good, why this random dude?
						#	name = "Hermann Rauschning "
						#	desc = ""
						#	picture = "gfx/leaders/Europe/Portrait_Europe_Generic_4.dds"
						#	expire = "1965.1.1"
						#	ideology = nazism
						#	traits = { }
				        #}
				}
				random_country = {
					limit= {
						original_tag = ENG
						NOT = { has_government = fascism }
					}
					#transfer_state = 295
				}
			}
			else = {
			ENG = {
				transfer_state = 123 
				transfer_state = 338
				transfer_state = 128
				transfer_state = 129
				transfer_state = 122
				transfer_state = 132
				transfer_state = 130
				transfer_state = 131
				transfer_state = 121
				transfer_state = 133
				transfer_state = 136
				transfer_state = 120
				
				set_cosmetic_tag = ENG_reichskommissariat
				
				#create_country_leader = {   ##Mosley is good, why this random dude?
				#	name = "Hermann Rauschning "
				#	desc = ""
				#	picture = "gfx/leaders/Europe/Portrait_Europe_Generic_4.dds"
				#	expire = "1965.1.1"
				#	ideology = nazism
				#	traits = { }
				#}
				
				GER = {
					puppet = PREV
					set_autonomy = { target = PREV autonomy_state = autonomy_reichsprotectorate }
				}
			}
			
				if = {
					limit = {
							118 = { is_fully_controlled_by = GER }
						}
				ENG = { transfer_state = 119 }
				}
				if = {
					limit = {
							134 = { is_fully_controlled_by = GER }
						}
				ENG = { transfer_state = 134 }
				}
				if = {
					limit = {
							113 = { is_fully_controlled_by = GER }
						}
				ENG = { transfer_state = 113 }
				}
				if = {
					limit = {
							135 = { is_fully_controlled_by = GER }
						}
				ENG = { transfer_state = 135 }
				}
                     } 
				
				
		}
	}

	GER_reichskommissariat_ostland = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			95 = { is_fully_controlled_by = GER }
			96 = { is_fully_controlled_by = GER }
			206 = { is_fully_controlled_by = GER }
			11 = { is_fully_controlled_by = GER }
			784 = { is_fully_controlled_by = GER }
			189 = { is_fully_controlled_by = GER }
			12 = { is_fully_controlled_by = GER }
			190 = { is_fully_controlled_by = GER }
			13 = { is_fully_controlled_by = GER }
			191 = { is_fully_controlled_by = GER }
			11 = { is_fully_controlled_by = GER }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			NOT = {
				LAT = {
					owns_state = 12
					}
				}
		}

		complete_effect = {
		
			custom_effect_tooltip = GER_reichskommissariat_ostland_tt
			
			hidden_effect = {
				
				GER = { set_country_flag = ostland_formed }
				
				release = LAT		
				
				LAT = {
					remove_ideas = { liberty_ethos_focus deterrence neutrality_idea why_we_fight_focus}
					add_ideas = { RK_Partisans }
					
					#transfer_state = 11
					#transfer_state = 784
					#transfer_state = 189
					transfer_state = 12
					#transfer_state = 190
					#transfer_state = 13
					#transfer_state = 191
					#transfer_state = 95
					#transfer_state = 96
					#transfer_state = 206
					#transfer_state = 784
					
					set_state_controller = 11
					set_state_controller = 784
					set_state_controller = 189
					set_state_controller = 13
					set_state_controller = 191
					set_state_controller = 95
					set_state_controller = 96
					set_state_controller = 206
					set_state_controller = 784
					set_state_controller = 190
					
					add_state_core = 11
					add_state_core = 784
					add_state_core = 189
					add_state_core = 13
					add_state_core = 191
					add_state_core = 95
					add_state_core = 96
					add_state_core = 206
					add_state_core = 784
					
					GER = {
						puppet = PREV
						if = {
							limit = {
								NOT = { has_dlc = "Death or Dishonor" }
							}
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
						else = {
							set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
						}
					}
					
					set_cosmetic_tag = LAT_reichskommissariat
					
					set_stability = 0.3
					set_war_support = 0.3
					
					create_country_leader = {
						name = "Hinrich Lohse"
						desc = ""
						picture = "gfx/leaders/LAT/Portrait_Ostland_Hinrich_Lohse.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
					}
					
					set_popularities = {
							democratic = 0
							fascism = 70
							communism = 10
							neutrality = 20
							}
							
					set_party_name = { ideology = fascism long_name = GER_fascism_party_long name = GER_fascism_party}
					set_party_name = { ideology = communism long_name = Soviet_partisans name = Soviet_partisans}
					set_party_name = { ideology = neutrality long_name = Independentists name = Independentists}
					
					set_research_slots = 5
					inherit_technology = TUR
					
				}
			}
		}
	}

	GER_ostland_expand = {  #Not visible but used for the "reorganize the east" decision

	icon = ger_reichskommissariats

	available = { always = no }

	visible = { always = no }

	complete_effect = {
			LAT = {
				add_state_core = 208
				add_state_core = 209
				add_state_core = 195
				add_state_core = 210
				
				add_state_core = 244
				add_state_core = 263
				add_state_core = 204
				add_state_core = 207
				add_state_core = 243
				add_state_core = 242
		
				transfer_state = 208
				transfer_state = 209
				transfer_state = 195
				transfer_state = 210
				
				transfer_state = 244
				transfer_state = 263
				transfer_state = 204
				transfer_state = 207
				transfer_state = 243
				transfer_state = 242
				
				add_popularity = { ideology = communism popularity = 0.1 }
				add_popularity = { ideology = neutrality popularity = -0.05 }
				}	
		}
	}
	
	GER_reichskommissariat_ukraine = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			93  = { is_fully_controlled_by = GER }
			199 = { is_fully_controlled_by = GER }
			201 = { is_fully_controlled_by = GER }
			202 = { is_fully_controlled_by = GER }
			203 = { is_fully_controlled_by = GER }
			197 = { is_fully_controlled_by = GER }
			259 = { is_fully_controlled_by = GER }
			226 = { is_fully_controlled_by = GER }
			196 = { is_fully_controlled_by = GER }
			200 = { is_fully_controlled_by = GER }
			194 = { is_fully_controlled_by = GER }
			94  = { is_fully_controlled_by = GER }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			NOT = {
				UKR = {
					owns_state = 93
					}
				}
		}

		complete_effect = {
		
			custom_effect_tooltip = GER_reichskommissariat_ukraine_tt
			
			hidden_effect ={
				GER = { set_country_flag = RKukraine_formed }
				UKR = {
					remove_state_core = 89
					remove_state_core = 91
					remove_state_core = 196
					remove_state_core = 200
					remove_state_core = 225
					remove_state_core = 193
					remove_state_core = 227
					remove_state_core = 221
					remove_state_core = 192
					remove_state_core = 198
					remove_state_core = 228
				}	
				
				release = UKR
				
				UKR = {
					add_state_core = 89
					add_state_core = 91
					add_state_core = 196
					add_state_core = 200
					add_state_core = 194
					add_state_core = 94
					#add_state_core = 225
					#add_state_core = 193
					#add_state_core = 227
					#add_state_core = 221
					add_state_core = 192
					add_state_core = 198
					#add_state_core = 228
				}
				
				UKR = {
					transfer_state = 93
					set_state_controller = 199
					set_state_controller = 201
					set_state_controller = 202
					set_state_controller = 203
					set_state_controller = 197
					set_state_controller = 259
					set_state_controller = 226
					set_state_controller = 196
					set_state_controller = 200
					set_state_controller = 194
					set_state_controller = 94
					
					if = {
						limit = { 
							OR = {
								GER = { has_country_flag = ger_occupation_transnistria}
								GER = {
									owns_state = 192
									owns_state = 198
									}
								}
							}
						set_state_controller = 192
						set_state_controller = 198
						}
						
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = UKR_reichskommissariat
					
					set_stability = 0.3
					set_war_support = 0.3

					add_ideas = { RK_Partisans UKR_nationalism }
							
					create_country_leader = {
						name = "Erich Koch"
						desc = ""
						picture = "gfx/leaders/UKR/Portrait_Ukraine_Erich_Koch.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
						
						}
						
					set_popularities = {
						democratic = 0
						fascism = 70
						communism = 20
						neutrality = 10
						}
							
					set_party_name = { ideology = fascism long_name = GER_fascism_party_long name = GER_fascism_party}
					set_party_name = { ideology = communism long_name = Soviet_partisans name = Soviet_partisans}
					set_party_name = { ideology = neutrality long_name = Independentists name = Independentists}
					
					set_research_slots = 5
					inherit_technology = TUR
					
					set_capital = { state = 93 }
					
				}
			}
		}
	}
		
	GER_ukraine_expand = { #Not visible but used for the "reorganize the east" decision

	icon = ger_reichskommissariats

	available = { always = no }

	visible = { always = no }

	complete_effect = {
			UKR = {
				add_state_core = 218
				add_state_core = 245
				add_state_core = 217
				add_state_core = 265
				add_state_core = 401
				add_state_core = 239
				add_state_core = 257
				add_state_core = 260
				add_state_core = 258
				add_state_core = 240
				add_state_core = 220
				add_state_core = 222
				add_state_core = 224
				add_state_core = 241
						
				transfer_state = 218
				transfer_state = 245
				transfer_state = 217
				transfer_state = 265
				transfer_state = 401
				transfer_state = 239
				transfer_state = 257
				transfer_state = 260
				transfer_state = 258
				transfer_state = 240
				transfer_state = 220
				transfer_state = 222
				transfer_state = 224
				transfer_state = 241
				
				transfer_state = 227
				transfer_state = 228
				transfer_state = 221
				transfer_state = 225
				transfer_state = 193
				transfer_state = 137
				
				add_popularity = { ideology = communism popularity = 0.1 }
				
				}

		}
	}	

	GER_reichskommissariat_turkestan = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			407 = { is_fully_controlled_by = GER }
			406 = { is_fully_controlled_by = GER }
			404 = { is_fully_controlled_by = GER }
			590 = { is_fully_controlled_by = GER }
			589 = { is_fully_controlled_by = GER }
			587 = { is_fully_controlled_by = GER }
			586 = { is_fully_controlled_by = GER }
			585 = { is_fully_controlled_by = GER }
			402 = { is_fully_controlled_by = GER }
			584 = { is_fully_controlled_by = GER }
			588 = { is_fully_controlled_by = GER }
			405 = { is_fully_controlled_by = GER }
			742 = { is_fully_controlled_by = GER }
			732 = { is_fully_controlled_by = GER }
			583 = { is_fully_controlled_by = GER }
			654 = { is_fully_controlled_by = GER }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}
		
		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}
		
		complete_effect = {
		
			custom_effect_tooltip = GER_reichskommissariat_turkestan_tt
		
			hidden_effect = {
				KAZ = {
					transfer_state = 407
					transfer_state = 406
					transfer_state = 404
					transfer_state = 590
					transfer_state = 589
					transfer_state = 587
					transfer_state = 586
					transfer_state = 585
					transfer_state = 402
					transfer_state = 584
					transfer_state = 588
					transfer_state = 405
					transfer_state = 742
					transfer_state = 732
					transfer_state = 583
					transfer_state = 654
					
					add_state_core = 654
					add_state_core = 585
					add_state_core = 584
					add_state_core = 405
					add_state_core = 742
					add_state_core = 732
					
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
					}
					
					set_cosmetic_tag = KAZ_reichskommissariat
					
					add_ideas = { RK_Partisans }
					
					set_stability = 0.3
					set_war_support = 0.3
		
					create_country_leader = {
						name = "Hat Frunze"
						desc = ""
						picture = "gfx/leaders/SOV/Portrait_Soviet_Hat_Frunze.tga"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							#
						}
					}
					set_popularities = {
						democratic = 0		
						fascism = 70
						communism = 20
						neutrality = 10
						}
						
					set_party_name = { ideology = fascism long_name = GER_fascism_party_long name = GER_fascism_party}
					set_party_name = { ideology = communism long_name = Soviet_partisans name = Soviet_partisans}
					set_party_name = { ideology = neutrality long_name = Independentists name = Independentists}
					
					set_research_slots = 5
					inherit_technology = TUR
					
				}
			}
		}
	}
	
	GER_reichskommissariat_kaukasus = {
	
		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			231 = { is_fully_controlled_by = GER }
			#797 = { is_fully_controlled_by = GER } 813 TODO BATUMI 
			230 = { is_fully_controlled_by = GER }
			229 = { is_fully_controlled_by = GER }
			232 = { is_fully_controlled_by = GER }
			233 = { is_fully_controlled_by = GER }
			234 = { is_fully_controlled_by = GER }
			235 = { is_fully_controlled_by = GER }
			238 = { is_fully_controlled_by = GER }
			237 = { is_fully_controlled_by = GER }
			236 = { is_fully_controlled_by = GER }
			235 = { is_fully_controlled_by = GER }
		}

		cost = 20

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}
		
		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}
		
		complete_effect = {
		
			custom_effect_tooltip = GER_reichskommissariat_kaukasus_tt
			
			hidden_effect = {
				GER = { set_country_flag = kaukasus_formed }
				GEO = {
					transfer_state = 231
					#set_state_controller = 813 TODO BATUMI 
					set_state_controller = 230
					set_state_controller = 229
					set_state_controller = 232
					set_state_controller = 233
					set_state_controller = 234
					set_state_controller = 235
					set_state_controller = 238
					set_state_controller = 237
					set_state_controller = 236
					set_state_controller = 235
					
					add_state_core = 230
					add_state_core = 229
					add_state_core = 232
					add_state_core = 233
					add_state_core = 234
					add_state_core = 235
					add_state_core = 238
					add_state_core = 237
					add_state_core = 236
					add_state_core = 235
				
					GER = {
						puppet = PREV
						if = {
							limit = {
								NOT = { has_dlc = "Death or Dishonor" }
								}
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
							}
						else = {
							set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
							}
						}
					
					set_cosmetic_tag = GEO_reichskommissariat
					add_ideas = { RK_Partisans }
					
					set_stability = 0.3
					set_war_support = 0.3
				
					create_country_leader = {
						name = "Arno Schickedanz"
						desc = ""
						picture = "gfx/leaders/GEO/Portrait_GEO_Arno_Schickedanz.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
					}
					
					set_popularities = {
							democratic = 0
							fascism = 70
							communism = 20
							neutrality = 10
							}
							
					set_party_name = { ideology = fascism long_name = GER_fascism_party_long name = GER_fascism_party}
					set_party_name = { ideology = communism long_name = Soviet_partisans name = Soviet_partisans}
					set_party_name = { ideology = neutrality long_name = Independentists name = Independentists}
					
					set_research_slots = 5
					inherit_technology = TUR
					
				}
			}
		}
	}

	GER_reichskommissariat_schweden = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			138 = { is_fully_controlled_by = GER }
			139 = { is_fully_controlled_by = GER }
			141 = { is_fully_controlled_by = GER }
			140 = { is_fully_controlled_by = GER }
			124 = { is_fully_controlled_by = GER }
			38 = { is_fully_controlled_by = GER }
			666 = { is_fully_controlled_by = GER }
		}

		cost = 20
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = SWE
				}
				hidden_effect = {
					SWE = {
						set_state_controller = 138
						set_state_controller = 139
						set_state_controller = 141
						set_state_controller = 140
						set_state_controller = 124
		            	set_state_controller = 38
		            	set_state_controller = 666
					}
				}
				SWE = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = SWE
						has_government = fascism
					}
					transfer_state = 138
					transfer_state = 139
					transfer_state = 141
					transfer_state = 140
					transfer_state = 124
					transfer_state = 38
					transfer_state = 666
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = SWE_reichskommissariat
				}
			}
			else = {
				SWE = {
					transfer_state = 138
					transfer_state = 139
					transfer_state = 141
					transfer_state = 140
					transfer_state = 124
					transfer_state = 38
					transfer_state = 666
					set_cosmetic_tag = SWE_reichskommissariat
				}
				set_autonomy = { target = SWE autonomy_state = autonomy_integrated_puppet }
			}
		}
	}
	
	GER_reichskommissariat_island = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			100 = { is_fully_controlled_by = GER }
			101 = { is_fully_controlled_by = GER }
		}

		cost = 20
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = ICE
				}
				hidden_effect = {
					ICE = {
						set_state_controller = 100
						set_state_controller = 101
					}
				}
				ICE = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = ICE
						has_government = fascism
					}
					transfer_state = 100
					transfer_state = 101
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = ICE_reichskommissariat
				}
			}
			else = {
				ICE = {
					transfer_state = 100
					transfer_state = 101
					set_cosmetic_tag = ICE_reichskommissariat
				}
				set_autonomy = { target = ICE autonomy_state = autonomy_integrated_puppet }
			}
		}
	}
	
	GER_reichskommissariat_danmark = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			99 = { is_fully_controlled_by = GER }
			37 = { is_fully_controlled_by = GER }
		}

		cost = 20
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = DEN
				}
				hidden_effect = {
					DEN = {
						set_state_controller = 99
						set_state_controller = 37
					}
				}
				DEN = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = DEN
						has_government = fascism
					}
					transfer_state = 99
					transfer_state = 37
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = DEN_reichskommissariat
					
					create_country_leader = {
						name = "Erik Scavenius"
						desc = ""
						picture = "Portrait_Denmark_Erik_Scavenius.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							irredentist_academic 
						} 
					}
				}
			}
			else = {
				DEN = {
					transfer_state = 99
					transfer_state = 37
					set_cosmetic_tag = DEN_reichskommissariat
				}
				set_autonomy = { target = DEN autonomy_state = autonomy_integrated_puppet }
				DEN = { 
                                        create_country_leader = {
						name = "Erik Scavenius"
						desc = ""
						picture = "Portrait_Denmark_Erik_Scavenius.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							irredentist_academic 
						} 
					}
                                }
			}
		}
	}
	
	GER_reichskommissariat_finland = {
	
		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			150 = { is_fully_controlled_by = GER }
			148 = { is_fully_controlled_by = GER }
			149 = { is_fully_controlled_by = GER }
			111 = { is_fully_controlled_by = GER }
			722 = { is_fully_controlled_by = GER }
			213 = { is_fully_controlled_by = GER }
			215 = { is_fully_controlled_by = GER }
			146 = { is_fully_controlled_by = GER }
		}

		cost = 20
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = FIN
				}
				hidden_effect = {
					FIN = {
						set_state_controller = 150
						set_state_controller = 148
						set_state_controller = 149
						set_state_controller = 111
						set_state_controller = 722
						set_state_controller = 213
						set_state_controller = 215
						set_state_controller = 146
					}
				}
				FIN = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = FIN
						has_government = fascism
					}
					transfer_state = 150
					transfer_state = 148
					transfer_state = 149
					transfer_state = 111
					transfer_state = 722
					transfer_state = 213
					transfer_state = 215
					transfer_state = 146
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					set_cosmetic_tag = FIN_reichskommissariat
					create_country_leader = {
						name = "VÃ¤inÃ¶ Valve"
						desc = ""
						picture = "Portrait_Finland_Vaino_I.tga"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							#
						} 
					}
				}
			}
			else = {
				FIN = {
					transfer_state = 150
					transfer_state = 148
					transfer_state = 149
					transfer_state = 111
					transfer_state = 722
					transfer_state = 213
					transfer_state = 215
					transfer_state = 146
					set_cosmetic_tag = FIN_reichskommissariat
					create_country_leader = {
						name = "VÃ¤inÃ¶ Valve"
						desc = ""
						picture = "Portrait_Finland_Vaino_I.tga"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							#
						}
					}
				}
				set_autonomy = { target = FIN autonomy_state = autonomy_integrated_puppet }
			}
		}
	} 
	
	GER_reorganize_the_east = {

		icon = generic_operation

		cost = 50

		fire_only_once = yes

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_global_flag = eastern_front_peace
		}

		complete_effect = {
		
			custom_effect_tooltip = GER_reorganize_the_east_tt
			
			hidden_effect = {
				if = {
					limit = { GER = { has_country_flag = ostland_formed } }
					
					LAT = {
						transfer_state = 11
						transfer_state = 784
						transfer_state = 189
						transfer_state = 190
						transfer_state = 13
						transfer_state = 191
						transfer_state = 95
						transfer_state = 96
						transfer_state = 206
						transfer_state = 784
					}
					activate_decision = GER_ostland_expand
				}

				else = {
					activate_decision = GER_reichskommissariat_ostland
					
					LAT = {
						transfer_state = 11
						transfer_state = 784
						transfer_state = 189
						transfer_state = 190
						transfer_state = 13
						transfer_state = 191
						transfer_state = 95
						transfer_state = 96
						transfer_state = 206
						transfer_state = 784
					}
					activate_decision = GER_ostland_expand
				}
				
				
				if = {
					limit = { GER = { has_country_flag = RKukraine_formed } }
					
					UKR = {
						transfer_state = 199
						transfer_state = 201
						transfer_state = 202
						transfer_state = 203
						transfer_state = 197
						transfer_state = 259
						transfer_state = 226
						transfer_state = 196
						transfer_state = 200
						transfer_state = 194
						transfer_state = 94
					}
					activate_decision = GER_ukraine_expand
				}

				else = {
					activate_decision = GER_reichskommissariat_ukraine
					
					UKR = {
						transfer_state = 199
						transfer_state = 201
						transfer_state = 202
						transfer_state = 203
						transfer_state = 197
						transfer_state = 259
						transfer_state = 226
						transfer_state = 196
						transfer_state = 200
						transfer_state = 194
						transfer_state = 94
					}
					activate_decision = GER_ukraine_expand
				}
				
				if = {
					limit = { GER = { has_country_flag = Generalgov_formed } }
					random_country = {
						limit = { #Generalgov
							is_puppet_of = GER
							owns_state = 10
						}
						add_state_core = 89
						add_state_core = 91
						transfer_state = 89
						transfer_state = 91
					}
				}
				else = {
					activate_decision = GER_Generalgouvernement
					random_country = {
						limit = { #Generalgov
							is_puppet_of = GER
							owns_state = 10
						}
						add_state_core = 89
						add_state_core = 91
						transfer_state = 89
						transfer_state = 91
					}
				}
				
				if = {
					limit = { GER = { has_country_flag = kaukasus_formed } }
					GEO = {
						#transfer_state = 813 TODO BATUMI 
						transfer_state = 230
						transfer_state = 229
						transfer_state = 232
						transfer_state = 233
						transfer_state = 234
						transfer_state = 235
						transfer_state = 238
						transfer_state = 237
						transfer_state = 236
						transfer_state = 235
					}
				}

				else = {
					activate_decision = GER_reichskommissariat_kaukasus
					GEO = {
						#transfer_state = 813 TODO BATUMI 
						transfer_state = 230
						transfer_state = 229
						transfer_state = 232
						transfer_state = 233
						transfer_state = 234
						transfer_state = 235
						transfer_state = 238
						transfer_state = 237
						transfer_state = 236
						transfer_state = 235
					}
				}

				MSK = {
					transfer_state = 250
					transfer_state = 255
					transfer_state = 256
					transfer_state = 252
					transfer_state = 254
					transfer_state = 223
					transfer_state = 205
					transfer_state = 219
					transfer_state = 246
					transfer_state = 247
					transfer_state = 264
					transfer_state = 351
					transfer_state = 248
					transfer_state = 253
					
					add_state_core = 250
					add_state_core = 255
					add_state_core = 256
					add_state_core = 252
					add_state_core = 254
					add_state_core = 223
					add_state_core = 205
					add_state_core = 219
					add_state_core = 246
					add_state_core = 247
					add_state_core = 264
					add_state_core = 351
					add_state_core = 248
					add_state_core = 253
					
					set_capital = { state = 219 }
				}
				
				if = {
					limit = {
						GER = {
							owns_state = 216
							owns_state = 215
							owns_state = 213
						}
					}
					MSK = {
						transfer_state = 216
						transfer_state = 215
						transfer_state = 213
						
						add_state_core = 215
						add_state_core = 213
						add_state_core = 216
					}
				}
					
				GER = {
					puppet = MSK
					if = {
						limit = {
							NOT = { has_dlc = "Death or Dishonor" }
						}
						set_autonomy = { target = MSK autonomy_state = autonomy_integrated_puppet }							
					}
					else = {
						set_autonomy = { target = MSK autonomy_state = autonomy_reichskommissariat }
					}
				}

				MSK = {
					add_ideas = { RK_Partisans }
					set_stability = 0.3
					set_war_support = 0.3

					set_popularities = {
						democratic = 0
						fascism = 70
						communism = 30
						neutrality = 0
					}
					set_research_slots = 5
					inherit_technology = TUR	
				}
			}
		}
	}
}

political_actions = {
        
	GER_integrate_german_people = {

		icon = ger_reichskommissariats
		
		allowed = {
		   original_tag = GER
		}

		available = {
			has_completed_focus = GER_generalgouvernement
			86 = {
                resistance < 25
		        }
			controls_state = 86
			date > 1940.1.1
		}
		
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 86
			}
		}


		cost = 25
		ai_will_do = {
			factor = 1
			
		}

		visible = {
			date > 1939.5.1
			controls_state = 86
		}

		complete_effect = {
		        86 = { add_compliance = 17 }
				86 = { set_state_name = "Posen" }
     			set_province_name = { id = 6558 name = "Posen" }
		}
	}
}

foreign_politics = {

    GER_break_the_london_naval_treaty = {
		icon = generic_break_treaty

		allowed = {
			original_tag = GER
		}

		available = {
		    date > 1936.11.1
		}

		visible = {
			has_naval_treaty_trigger = yes
		}

		fire_only_once = yes

		modifier = {
		}

		days_remove = 0
		days_re_enable = 0

		cost = 25

		ai_will_do = {
			factor = 0
		}

		complete_effect = {
		    london_naval_treaty_clear_all = yes
			add_tech_bonus = {
				name = bb_bonus
				bonus = 0.6
				uses = 2
				category = bb_tech
				#category = bc_tech
			}
			set_country_flag = broke_london_flag
			effect_tooltip = {
			FRA = { add_opinion_modifier = { target = ROOT modifier = JAP_broke_the_london_naval_treaty } }
			USA = { add_opinion_modifier = { target = ROOT modifier = JAP_broke_the_london_naval_treaty } }
			ENG = { add_opinion_modifier = { target = ROOT modifier = JAP_broke_the_london_naval_treaty } }
			}			
			save_global_event_target_as = broke_london_treaty
			news_event = { id = japan.37 days = 1 }
		}		
	}
	
	GER_request_polish_war_participation = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GER
		}

		available = {
			has_war_with = SOV
			NOT = { is_in_faction_with = POL }
		}

		cost = 50

		fire_only_once = yes

		ai_will_do = {
			factor = 200
		}

		visible = {
			has_country_flag = poland_traded_danzig
		}

		complete_effect = {
			POL = { country_event = { id = wtt_germany.65 hours = 6 } }
		}

	}
}

#Category only allowed for GER
GER_military_buildup = {


        GER_welle1 = {
		icon = generic_army

		available = {
			has_completed_focus = GER_rhineland
		}

		cost = 5
		fire_only_once = yes
		ai_will_do = {
			factor = 2
		}

		visible = {
		}
		
		modifier = {
			civilian_factory_use = 5 # 12 for no equipment units ? 
		}
		
		days_remove = 90

		complete_effect = {
			country_event = germany.222
			
		}
		remove_effect = {
		      country_event = germany.223
		}
	}
	GER_welle2 = {
		icon = generic_army

		available = {
			has_completed_focus = GER_rhineland
			date > 1937.2.1
		}

		cost = 5
		fire_only_once = yes
		ai_will_do = {
			factor = 2
		}

		visible = {
		}

		complete_effect = {
			country_event = germany.224
		}
	}
	
	GER_welle3 = {
		icon = generic_army

		available = {
			has_completed_focus = GER_augustplan 
			date > 1938.2.1
		}

		cost = 5
		fire_only_once = yes
		ai_will_do = {
			factor = 2
		}

		visible = {
		     date > 1937.1.1
		}

		complete_effect = {
			country_event = germany.225
		}
	}
	
	GER_welle4 = {
		icon = generic_army

		available = {
			has_completed_focus = GER_augustplan
			has_war = yes
		}

		cost = 5
		fire_only_once = yes
		ai_will_do = {
			factor = 2
		}

		visible = {
		      OR = {
		      date > 1938.6.1
		      has_war = yes
		      }
		}

		complete_effect = {
			country_event = germany.226
			country_event = germany.227
		}
	}

	GER_jaegernotprogramm = {

		icon = generic_air

		available = {
			OR = {
			has_war_with = USA
			has_war_with = SOV
			}
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 800
				}
				has_equipment = {
					fighter_equipment < 300
				}
			}
		}

		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}

		visible = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 1000
				}
				has_equipment = {
					fighter_equipment < 400
				}
			}
		}

		complete_effect = {
			add_stability = -0.05
			add_war_support = -0.05
			add_timed_idea = { idea = GER_jaegernotprogramm_idea days = 180 }
		}
	}
}

GER_endsieg_category = {

	prepare_to_endsieg = { 
		icon = ger_desperate_defence

		cost = 100 

		allowed = { 
			tag = GER 
		}

		fire_only_once = yes 

		available = {
			has_completed_focus = GER_Heer_expansion
			fascism > 0.85
			OR = { 
			surrender_progress > 0.15
                AND = {		
                custom_trigger_tooltip = { tooltip = barba_8				
                    check_variable = {
						var = global.ostfront_year_4
						value = 8
						compare = greater_than_or_equals
					}	
					}
                    SOV = { controls_state = 206 }	# Minsk			
                
				}
                AND = {	
                custom_trigger_tooltip = { tooltip = barba_12				
                    check_variable = {
						var = global.ostfront_year_4
						value = 12
						compare = greater_than_or_equals
					}	
					}
                    SOV = { controls_state = 219 }	 # Moscow			
                }	
                				
			}
			OR = { has_war_with = SOV has_war_with = USA }
		}

		visible = {
			
			OR = { has_war_with = SOV has_war_with = USA }
			
		}

		ai_will_do = {
			factor = 400
		}

		complete_effect = { 
			
		}
	}

	Werwolf = { 
		icon = ger_desperate_defence

		cost = 100 

		allowed = { 
			tag = GER
		}

		fire_only_once = yes 

		available = {
			has_completed_focus = GER_werwolf
			date > 1942.9.1
			fascism > 0.85
			OR = { 
			surrender_progress > 0.2
                AND = {			
                    custom_trigger_tooltip = { tooltip = barba_12				
                    check_variable = {
						var = global.ostfront_year_4
						value = 12
						compare = greater_than_or_equals
					}	
					}	
                    SOV = { controls_state = 206 }	# Minsk			
                }
                AND = {			
                   custom_trigger_tooltip = { tooltip = barba_8				
                    check_variable = {
						var = global.ostfront_year_4
						value = 8
						compare = greater_than_or_equals
					}	
					}
                    SOV = { controls_state = 219 }	 # Moscow			
                }				
			}
			OR = { has_war_with = SOV has_war_with = USA }
		}

		visible = { 
			OR = { has_war_with = SOV has_war_with = USA }
			
		}

		ai_will_do = {
			factor = 400
		}

		complete_effect = {
			
		}
	}
}

GER_speeches_category = {

	sp_freemarket = {

		icon = generic_factory

		cost = 20
		
		allowed = {
			tag = GER
		}
		
		fire_only_once = yes
		
		visible = {
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
			has_war = no
			ENG = { has_government = democratic }
			FRA = { has_government = democratic }
			USA = { has_government = democratic }
			date > 1938.1.1
		}

		available = {
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
		}
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
		add_stability = 0.05
			add_popularity = { ideology = fascism popularity = 0.05 }
			
		hidden_effect = {
		     if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
			sound_effect = sp_ger_capitalism 
			}
		     }
		}		
	}

	sp_hitlerjugend = {

		icon = ger_ss

		cost = 10
		fire_only_once = yes
		
		allowed = {
			tag = GER
		}

		visible = {
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
			has_war = no
		}
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			add_manpower = 8000
			add_popularity = { ideology = fascism popularity = 0.05 }
			
		hidden_effect = {
		        if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
			sound_effect = sp_ger_hitlerjugend 
			}
			}
		}
		
	}

	sp_berlin_siemens = {

		icon = generic_speech

		cost = 20
		fire_only_once = yes
		
		allowed = {
			tag = GER
		}

		visible = {
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
			has_war = no
		}
		
		available = {
			has_tech = electronic_mechanical_engineering
		}
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 0.2
				uses = 2
				category = electronics
			}
			
		hidden_effect = {
		        if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
			sound_effect = sp_ger_siemens
			}
			}
		}
	}

	sp_essen_krupp = {

		icon = generic_speech

		fire_only_once = yes
		cost = 25

		allowed = {
			tag = GER
		}

		available = { 
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
			has_war = no
		}
		
		visible = {
			GER = { has_completed_focus = GER_rhineland }
		}
		
		ai_will_do = {
			factor = 1
		}
		
		complete_effect = {
		add_stability = 0.01
			add_tech_bonus = {
				name = industry_bonus
				bonus = 0.15
				uses = 2
				category = industry
				category = construction_tech
			}
			
		hidden_effect = {
		    if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
			sound_effect = sp_ger_krupp 
			}
		    }
		}
		
	}
	
	sp_inaugurate_autobahn = {

		icon = generic_speech

		fire_only_once = yes		
		
		allowed = {
			tag = GER
		}
		cost = 15
		available = {
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
			has_completed_focus = GER_autobahn_I
		}
		
		visible = {
			GER = { has_completed_focus = GER_Goering_Plan }
		}
		
		ai_will_do = {
			factor = 100
			modifier = {
			factor = 2
			fascism < 0.74
			}
			modifier = {
			factor = 2
			fascism < 0.6
			}
		}
		
		complete_effect = {
			add_popularity = { ideology = fascism popularity = 0.05 }
			add_stability = 0.01 
					
			hidden_effect = {
			     if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
				sound_effect = sp_ger_autobahn 
				}
			}
		}
		
	}

	sp_wien = {

		icon = generic_speech

		fire_only_once = yes
		
		allowed = { 
			tag = GER
		}
		cost = 20
		available = { 
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
		}
		
		visible = {
			GER = { has_completed_focus = GER_anschluss }
		}

		ai_will_do = {
			factor = 200
			modifier = {
			factor = 2
			has_stability < 0.5
			}
		}
	
		complete_effect = {
    		add_stability = 0.03
			army_experience = 10 
			hidden_effect = {
			if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
				sound_effect = sp_ger_wien
				}
			}
		
		}
		
	}
	
	sp_sudeten = {

		icon = generic_speech

		cost = 20
		fire_only_once = yes		
		
		allowed = {
			tag = GER
		}

		available = { 
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
			focus_progress = { focus = GER_demand_sudetenland progress > 0.2 }
		}
		
		ai_will_do = {
			factor = 400
		}
		
		complete_effect = {
			add_war_support = 0.04
			add_popularity = { ideology = fascism popularity = 0.04 }
			
			hidden_effect = {
			if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
				sound_effect = sp_ger_sudeten 
				}
			}
		}
		
	}
	
	
	sp_falloffrance = {

		icon = generic_speech

		allowed = {
			original_tag = GER
		}

		visible = {
			has_government = fascism
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
            has_completed_focus = GER_war_with_france
			}

		available = {
			has_country_leader = { ruling_only = yes name = "Adolf Hitler" }
			OR = {
				ENG = { has_country_leader = { ruling_only = yes character = ENG_winston_churchill } }
				ENG = { has_country_leader = { ruling_only = yes name = "Lord Edward Halifax" } }
			}
			has_war_with = ENG
			FRA = { has_capitulated = yes }
			15 = { is_controlled_by_ROOT_or_ally = yes }
			16 = { is_controlled_by_ROOT_or_ally = yes }
			29 = { is_controlled_by_ROOT_or_ally = yes }
			has_completed_focus = GER_war_with_france			
		}

		complete_effect = {
			add_stability = 0.02 
			
		hidden_effect = {
		        if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
			sound_effect = sp_ger_FRAcap 
			}
			}
		}
		
		cost = 15
		
		ai_will_do = {
			factor = 400
		}
		
		fire_only_once = yes
	}	
}
