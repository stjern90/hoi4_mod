on_actions = {

		
	on_startup = {
		effect = {
			if = {
				limit = {
				OR = {
					has_game_rule = {
						rule = allow_divisions_sa
						option = yes
					}
					has_game_rule = {
						rule = allow_divisions_sa
						option = full
					}
				}
				}
				every_country = {
					limit = {
						AND = {
							OR = {
								tag = PRU
								tag = ARG
								tag = URG
								tag = PAR
								tag = CHL
								tag = BOL
								tag = BRA
								tag = VEN
								tag = ECU
								tag = COL
								tag = PAN
								tag = COS
								tag = NIC
								tag = HON
								tag = GUA
								tag = DOM
								tag = CUB
								tag = MEX
							}
							is_ai = no
						}
					}
					add_ideas = betterlategame_idea
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = allow_divisions_sa
						option = full
					}
				}
				every_country = {
					limit = {
						AND = {
							OR = {
								tag = IRQ
								tag = YEM
								tag = SYR
								tag = AFG
								tag = SAU
								tag = TUR
								tag = MON
							}
							is_ai = no 
						}
					}
					add_ideas = betterlategame_idea
				}
			}
			set_variable = { resistance = 50 }
			if = {
				limit = {
					NOR = { exists = yes }
				}
				NOR = { country_event = { id = norway.4 days = 1640 } } #1640
			}
			FIN = {
	    	news_event = {
		    	id = finland.116
		    	days = 2120
		    }
			}
			JAP = {
				country_event = {
					id = jap.1
					days = 57
				}
			}
		}
	}
	#ROOT is new controller #FROM is old controller #FROM.FROM is state ID

	##Island Hopping
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { tag = JAP }
					ROOT = { tag = USA }
					FROM.FROM = {
						has_state_flag = JAP_controls
					}
				}
				FROM.FROM = {  
				 	set_state_flag = USA_controls
				 	clr_state_flag = JAP_controls
				}
			 	if = { limit = { original_tag = USA } 
			 		USA_island_hopping_level_up = yes
			 	}
		 		JAP = {
		 			JAP_island_hopping_level_down = yes 
		 		}
			}
		}
	}
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = { tag = USA }
					ROOT = { tag = JAP }
					FROM.FROM = {
						has_state_flag = USA_controls
					}
				}
				FROM.FROM = { 
				 	set_state_flag = JAP_controls 
				 	clr_state_flag = USA_controls 
				}
		 		if = { limit = { original_tag = JAP } 
		 			JAP_island_hopping_level_up = yes 
		 		}
		 		USA = {
					USA_island_hopping_level_down = yes
		 		} 
			}
		}
	}
	
}