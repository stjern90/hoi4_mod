technologies = {
	#Vertical position
	@1934 = 0
	@1936 = 2
	@1937 = 4
	@1938 = 6
	@1939 = 8
	@1940 = 10
	@1941 = 12
	@1942 = 14
	@1943 = 16
	@1944 = 18
	@1945 = 20

	gw_artillery = {
		###################### ww1 artillery
		enable_subunits = {
			artillery_brigade
		}
		enable_subunits = {
			artillery_brigade_mot 
		}
		enable_subunits = {
			mountain_artillery_brigade
		}
		enable_equipments = {
			artillery_equipment_0
		}
		enable_equipments = { 
			mountain_artillery_equipment_0
		}
		enable_equipments = {
		        motorized_equipment_1
		}
		path = {
			leads_to_tech = interwar_artillery 
			research_cost_coeff = 1
		}
		enable_equipment_modules = { 
			ship_anti_air_1
		}
		
		research_cost = 1
		folder = {
			name = artillery_folder
			position = { x = -5 y = @1934 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 20
		}
	}
	gw_med_artillery = {
		###################### ww1 artillery
		enable_subunits = {
			artillery_medium
		}
		enable_subunits = {
			artillery_medium_mot 
		}
		
		enable_equipments = {
			medartillery_equipment_0
		}

		path = {
			leads_to_tech = interwar_medartillery 
			research_cost_coeff = 1
		}

		research_cost = 1
		folder = {
			name = artillery_folder
			position = { x = -1 y = @1934 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 3
				num_of_military_factories > 30
			}
			modifier = {
				factor = 4
				num_of_military_factories > 60
			}
			modifier = {
				factor = 4
				num_of_military_factories > 90
			}
		}
	}
	gw_heavy_artillery = {
		###################### ww1 artillery
		enable_subunits = {
			artillery_heavy_mot
		}
		
		enable_equipments = {
			Hvartillery_equipment_0
		}

		path = {
			leads_to_tech = Hvartillery1
			research_cost_coeff = 1
		}

		research_cost = 1.25
		folder = {
			name = artillery_folder
			position = { x = 3 y = @1934 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	interwar_antiair = {

		enable_equipments = {
			anti_air_equipment_1
		}

		enable_equipment_modules = { 
			ship_anti_air_2
		}

		enable_building = {
			building = anti_air_building
			level = 3
		}
		
		path = {
			leads_to_tech = antiair1
			research_cost_coeff = 1
		}
		
		research_cost = 1

		start_year = 1936
		
		folder = {
			name = artillery_folder
			position = { x = -12 y = @1936 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 10
				num_of_military_factories > 38
				has_tech = interwar_antitank 
			}
			modifier = {
				factor = 4
				num_of_military_factories > 60
				has_tech = interwar_antitank 
			}
			modifier = {
				factor = 0
				tag = JAP
				date < 1939.1.1
			}
		}
		
		on_research_complete = {
			if = {
				limit = {
				    num_of_military_factories > 35
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = gw_med_artillery
					has_tech = interwar_antitank 
					has_country_flag = normal_inf
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_MA_AA"
				}
			}
		}
		
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = interwar_antitank 
					has_country_flag = normal_inf
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_at_aa_M"
				}
			}
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = interwar_antitank 
					NOT = { has_country_flag = normal_inf }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_at_aa"
				}
			}
		}
		
		categories = {
			artillery
		}
	}
	
	antiair1 = {
	
		anti_air = {
			air_attack = 0.1
		}
		light_sp_anti_air_brigade = {
			air_attack = 0.1
		}
		medium_sp_anti_air_brigade = {
			air_attack = 0.1
		}
		tech_air_damage_factor = -0.01
		
		
		path = {
			leads_to_tech = antiair2
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = HVantiair2
			research_cost_coeff = 1
		}
		research_cost = 1.1

		start_year = 1939
		
		folder = {
			name = artillery_folder
			position = { x = -12 y = @1939 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 4
				num_of_military_factories > 24
			}
			modifier = {
				factor = 6
				tag = GER
				date > 1938.10.1
			}
			modifier = {
				factor = 4
				num_of_military_factories > 35
			}
			modifier = {
				factor = 4
				num_of_military_factories > 54
			}
			modifier = {
				factor = 50
				tag = ENG
				has_completed_focus = ENG_artillery_focus
				date > 1938.11.1
			}
		}
		
		on_research_complete = {
			if = {
				limit = {
				    num_of_military_factories > 38
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = gw_med_artillery
					has_tech = interwar_antitank 
					has_country_flag = normal_inf
					OR = {
			        	tag = FRA
		        		tag = USA
		         		tag = SOV
	     			}
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_MA_AA_AT"
					load_oob = "unlock_infantry40_MA_AA"
				}
			}
			if = {
				limit = {
				    num_of_military_factories > 22
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = interwar_antitank 
				}
				hidden_effect = {
					load_oob = "unlock_motorized_1940 1"
				}
			}
			if = {
				limit = {
				    num_of_military_factories > 22
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = gw_med_artillery
					has_tech = interwar_antitank 
				}
				hidden_effect = {
					load_oob = "unlock_motorized_1940 2"
				}
			}
			if = {
				limit = {
				    num_of_military_factories > 22
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = interwar_antitank 
					NOT = { has_country_flag = mot_40_3 }
					or = { 
					     tag = SOV	
                         tag = USA	
                         and = {
						 	has_tech = basic_light_tank
				        	has_tech = basic_medium_tank
                         }						 
				    }
				}
				hidden_effect = {
					load_oob = "unlock_motorized_1940 3"
					set_country_flag = mot_40_3
				}
			}
		}
		
		on_research_complete = {
		
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					NOT = {
					OR = {
			        	tag = FRA
		        		tag = USA
		         		tag = SOV
						tag = GER
	     			}
					}
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_ataa_M"
				}
			}
		}
		
		categories = {
			artillery
		}
	}
	
	antiair2 = {
	
		enable_equipments = {
			anti_air_equipment_2
		}

		enable_equipment_modules = { 
			ship_anti_air_3
		}
		
		path = {
			leads_to_tech = antiair3
			research_cost_coeff = 1
		}
		
		research_cost = 1.1

		start_year = 1940
		
		folder = {
			name = artillery_folder
			position = { x = -12 y = @1940 }
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 5
				NOT = { tag = GER }
				num_of_military_factories > 25
			}
			modifier = {
				factor = 4
				NOT = { tag = GER }
				num_of_military_factories > 30
			}
			modifier = {
				factor = 5
				NOT = { tag = GER }
				num_of_military_factories > 50
			}
			modifier = {
				factor = 10
				tag = ENG
				date > 1939.6.1
			}
		}
		
		categories = {
			artillery
		}
	}
	
	antiair3 = {
	
		anti_air = {
			air_attack = 0.1
		}
		light_sp_anti_air_brigade = {
			air_attack = 0.1
		}
		medium_sp_anti_air_brigade = {
			air_attack = 0.1
		}
		path = {
			leads_to_tech = antiair4
			research_cost_coeff = 1
		}
		
		research_cost = 1.1

		start_year = 1941
		
		folder = {
			name = artillery_folder
			position = { x = -12 y = @1941 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 4
				num_of_military_factories > 28
			}
			modifier = {
				factor = 4
				num_of_military_factories > 40
			}
			modifier = {
				factor = 4
				num_of_military_factories > 55
			}
			modifier = {
				factor = 0
				AND = {
					tag = JAP
					date < 1942.1.1
				}
			}
		}
		
		categories = {
			artillery
		}
	}
	
	antiair4 = {
		anti_air = {
			air_attack = 0.1
		}
		path = {
			leads_to_tech = antiair5
			research_cost_coeff = 1
		}
		research_cost = 1.1

		start_year = 1942
		
		folder = {
			name = artillery_folder
			position = { x = -12 y = @1942 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 5
				num_of_military_factories > 30
			}
			modifier = {
				factor = 4
				num_of_military_factories > 50
			}
			modifier = {
				factor = 6
				num_of_military_factories > 60
			}
			modifier = {
				factor = 0
				AND = {
					tag = JAP
					date < 1943.1.1
				}
			}			
		}
		
		categories = {
			artillery
		}
	}
	
	antiair5 = {

		enable_equipments = {
			anti_air_equipment_3
		}
		tech_air_damage_factor = -0.01
		enable_equipment_modules = { 
			ship_anti_air_4
		}
		
		path = {
			leads_to_tech = antiair6
			research_cost_coeff = 1
		}
		
		research_cost = 1.1

		start_year = 1943
		
		folder = {
			name = artillery_folder
			position = { x = -12 y = @1943 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 5
				num_of_military_factories > 30
			}
			modifier = {
				factor = 4
				num_of_military_factories > 50
			}
			modifier = {
				factor = 6
				num_of_military_factories > 60
			}
			modifier = {
				factor = 0
				AND = {
					tag = JAP
					date < 1944.1.1
				}
			}
		}
		
		categories = {
			artillery
		}
	}
	antiair6 = {

		light_sp_anti_air_brigade = {
			air_attack = 0.15
		}
		medium_sp_anti_air_brigade = {
			air_attack = 0.15
		}
		
		
		research_cost = 1.25

		start_year = 1944
		
		folder = {
			name = artillery_folder
			position = { x = -12 y = @1944 }
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			artillery
		}
	}
	####### HV AA ###############
		
	HVantiair2 = {
	
		enable_equipments = {
			HVanti_air_equipment_2
		}
		enable_subunits = {
			anti_air_heavy
		}
		tech_air_damage_factor = -0.01
		
		path = {
			leads_to_tech = HVantiair3
			research_cost_coeff = 1
		}
		enable_building = {
			building = anti_air_building
			level = 5
		}
		
		research_cost = 1.2

		start_year = 1940
		
		folder = {
			name = artillery_folder
			position = { x = -9 y = @1940 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { tag = GER }
			}
			modifier = {
				factor = 100
				tag = GER
				date > 1939.9.1
			}
		}
		
		
		
		on_research_complete = {
			if = {
				limit = {
				    tag = GER
					is_ai = yes
				}
				hidden_effect = {
					load_oob = "unlock_motorized_1940 6"
				}
			}
		}
		
		categories = {
			artillery
		}
	}
	
	HVantiair3 = {

		anti_air = {
			air_attack = 0.05
		}
		anti_air_heavy = {
			air_attack = 0.1
		}
		
		static_anti_air_hit_chance_factor = 0.1
		
		path = {
			leads_to_tech = HVantiair4
			research_cost_coeff = 1
		}
		
		research_cost = 1.2

		start_year = 1941
		
		folder = {
			name = artillery_folder
			position = { x = -9 y = @1941 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				num_of_military_factories > 60
			}
			modifier = {
				factor = 7
				tag = GER
			}
		}
		
		categories = {
			artillery
		}
	}
	
	HVantiair4 = {

		anti_air_heavy = {
			air_attack = 0.1
		}
		medium_sp_anti_air_brigade = {
			air_attack = 0.05
			ap_attack = 0.05
		}
		tech_air_damage_factor = -0.01
		static_anti_air_hit_chance_factor = 0.1
		
		path = {
			leads_to_tech = HVantiair5
			research_cost_coeff = 1
		}
		
		research_cost = 1.2

		start_year = 1942
		
		folder = {
			name = artillery_folder
			position = { x = -9 y = @1942 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				num_of_military_factories > 60
			}
			modifier = {
				factor = 7
				tag = GER
			}
		}
		
		categories = {
			artillery
		}
	}
	
	HVantiair5 = {

		enable_equipments = {
			HVanti_air_equipment_3
		}
		static_anti_air_hit_chance_factor = 0.1

		path = {
			leads_to_tech = HVantiair6
			research_cost_coeff = 1
		}
		tech_air_damage_factor = -0.01
		research_cost = 1.2
		start_year = 1943
		folder = {
			name = artillery_folder
			position = { x = -9 y = @1943 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				num_of_military_factories > 60
			}
			modifier = {
				factor = 7
				tag = GER
			}
		}
		
		categories = {
			artillery
		}
	}
	
	HVantiair6 = {

		medium_sp_anti_air_brigade = {
			air_attack = 0.15
			ap_attack = 0.15
		}
		
		research_cost = 1.4
		start_year = 1945
		folder = {
			name = artillery_folder
			position = { x = -9 y = @1945 }
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			artillery
		}
	}
	interwar_artillery = {
		###################### Horse Towed Artillery 
		
		path = {
			leads_to_tech = artillery1
			research_cost_coeff = 1
		}

		
		artillery_brigade = {
			soft_attack = 0.05
		}
		artillery_brigade_mot = {
			soft_attack = 0.05
		}
		ss_artillery_brigade = {
			soft_attack = 0.05
		}
		ss_artillery_brigade_mot = {
			soft_attack = 0.05
		}
		
		research_cost = 0.8
		start_year = 1936
		folder = {
			name = artillery_folder
			position = { x = -5 y = @1936 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 20
		}
	}
	artillery1 = {
	
		enable_equipments = {
			artillery_equipment_1
		}
		


		
		path = {
			leads_to_tech = artillery2
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = packartillery2
			research_cost_coeff = 1
		}
		
		research_cost = 1.5

		start_year = 1937
		
		folder = {
			name = artillery_folder
			position = { x = -5 y = @1937 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 20
			
			modifier = {
			factor = 7
			num_of_factories > 50
			date > 1938.1.1
			}
			modifier = {
			factor = 9
			num_of_factories > 125
			date > 1937.1.1
			}
		}
	}
	packartillery2 = {
	
	    enable_equipments = {
			mountain_artillery_equipment_1
		}
		
		
		research_cost = 1.0
		start_year = 1938
		folder = {
			name = artillery_folder
			position = { x = -7 y = @1938 }
		}
		
		categories = {
			artillery
		}
		
		
		ai_will_do = {
			factor = 3
			modifier = {
			factor = 3
			OR = { tag = ITA tag = FIN tag = MAL tag = YUG tag = TUR tag = BRA tag = SPR tag = MEX tag = NOR tag = DEN tag = GRE tag = SYR tag = CHI
		tag = CCP
		tag = GXC
		tag = GDC
		tag = XIN
		tag = SIC
		tag = YUN
		tag = SIK
		tag = SHX
		tag = XSM }
			}
			modifier = {
			factor = 0
			OR = { tag = GER tag = USA }
			}
		}
	}
	###### Gun carriage
	artillery2 = {


		artillery_brigade = {
			soft_attack = 0.07
		}
		artillery_brigade_mot = {
			soft_attack = 0.07
		}
		mountain_artillery_brigade = {
			soft_attack = 0.07
		}
		ss_artillery_brigade = {
			soft_attack = 0.07
		}
		ss_artillery_brigade_mot = {
			soft_attack = 0.07
		}
		ss_mountain_artillery_brigade = {
			soft_attack = 0.07
		}
		
		path = {
			leads_to_tech = artillery4
			research_cost_coeff = 1
		}
		
		research_cost = 1.2
		start_year = 1938
		folder = {
			name = artillery_folder
			position = { x = -5 y = @1938 }
		}
		
		categories = {
			artillery
		}
		
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					
					NOT = { has_country_flag = normal_inf }
					NOT = { tag = GER }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_art"
				}
			}
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					
					has_country_flag = normal_inf
					NOT = { tag = GER }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_art_M"
				}
			}
		}
		
		ai_will_do = {
			factor = 20
			modifier = {
			factor = 2
			num_of_factories > 100
			date > 1939.1.1
			}
		}
	}
	########### Gun barrel
	artillery4 = {
		
		enable_equipments = {
			artillery_equipment_2
		}
		
		path = {
			leads_to_tech = artillery3
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = packartillery3
			research_cost_coeff = 1
		}
		
		research_cost = 1.3

		start_year = 1940
		
		folder = {
			name = artillery_folder
			position = { x = -5 y = @1940 }
		}
		
		categories = {
			artillery
		}
		
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					has_tech = interwar_antitank
					
					NOT = { has_country_flag = normal_inf }
					NOT = { tag = JAP }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_at_art"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					has_tech = interwar_antitank
					
					OR =  { has_country_flag = normal_inf tag = JAP }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_at_art_M"
				}
			}
		}
		
		ai_will_do = {
			factor = 20
			modifier = {
			factor = 2
			num_of_factories > 100
			date > 1940.11.1
			}
		}
	}
	
	packartillery3 = {
	
	    enable_equipments = {
			mountain_artillery_equipment_2
		}
				
		research_cost = 1.0
		start_year = 1941
		folder = {
			name = artillery_folder
			position = { x = -7 y = @1941 }
		}
		
		categories = {
			artillery
		}
		
		
		ai_will_do = {
			factor = 3
			modifier = {
			factor = 3
			OR = { tag = ITA tag = FIN tag = MAL tag = YUG tag = TUR tag = BRA tag = SPR tag = MEX tag = NOR tag = DEN tag = GRE tag = SYR tag = CHI
		tag = CCP
		tag = GXC
		tag = GDC
		tag = XIN
		tag = SIC
		tag = YUN
		tag = SIK
		tag = SHX
		tag = XSM }
			}
			modifier = {
			factor = 0
			OR = { tag = GER tag = USA }
			}
		}
	}
	
	artillery3 = {
		
		artillery_brigade = {
			soft_attack = 0.05
			fort = {
			    attack = 0.1
			}
		}
		artillery_brigade_mot = {
			soft_attack = 0.05
			fort = {
			    attack = 0.1
			}
		}
		ss_artillery_brigade = {
			soft_attack = 0.05
			fort = {
			    attack = 0.1
			}
		}
		ss_artillery_brigade_mot = {
			soft_attack = 0.05
			fort = {
			    attack = 0.1
			}
		}
		light_sp_artillery_brigade = {
		   soft_attack = 0.03
		   fort = {
			    attack = 0.1
			}
		}
		medium_sp_artillery_brigade = {
		   soft_attack = 0.03
		   fort = {
			    attack = 0.1
			}
		}
		ss_panzer_ii_art = {
		   soft_attack = 0.03
		   fort = {
			    attack = 0.1
			}
		}
		ss_panzer_iii_art = {
		   soft_attack = 0.03
		   fort = {
			    attack = 0.1
			}
		}
		modern_sp_artillery_brigade = {
		   soft_attack = 0.03
		   fort = {
			    attack = 0.05
			}
		}
		modern_tank_destroyer_brigade = {
		   soft_attack = 0.03
		   fort = {
			    attack = 0.05
			}
		}
		ss_panzer_iii_ag = {
		   soft_attack = 0.03
		   fort = {
			    attack = 0.05
			}
		}
		ss_panzer_vi_ag = {
		   soft_attack = 0.03
		   fort = {
			    attack = 0.05
			}
		}
		mountain_artillery_brigade = {
			soft_attack = 0.03
			fort = {
			    attack = 0.05
			}
		}
		ss_mountain_artillery_brigade = {
			soft_attack = 0.03
			fort = {
			    attack = 0.05
			}
		}
		
		path = {
			leads_to_tech = artillery5
			research_cost_coeff = 1
		}
		
		research_cost = 1.3
		start_year = 1942
		folder = {
			name = artillery_folder
			position = { x = -5 y = @1942 }
		}
		
		categories = {
			artillery
		}
		ai_will_do = {
			factor = 20
			modifier = {
			factor = 2
			num_of_factories > 100
			date > 1942.11.1
			}
		}
	}
	
	artillery5 = {

		enable_equipments = {
			artillery_equipment_3
		}
		
		light_sp_artillery_brigade = {
		   soft_attack = 0.05
		}
		medium_sp_artillery_brigade = {
		   soft_attack = 0.05
		}
		modern_sp_artillery_brigade = {
		   soft_attack = 0.05
		}
		modern_tank_destroyer_brigade = {
		   soft_attack = 0.05
		}
		ss_panzer_ii_art = {
		   soft_attack = 0.05
		}
		ss_panzer_iii_art = {
		   soft_attack = 0.05
		}
		ss_panzer_iii_ag = {
		   soft_attack = 0.05
		}
		ss_panzer_vi_ag = {
		   soft_attack = 0.05
		}
		
		research_cost = 1.4
		start_year = 1944
		folder = {
			name = artillery_folder
			position = { x = -5 y = @1944 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 20
			modifier = {
			factor = 2
			num_of_factories > 100
			date > 1944.12.1
			}
		}
	}
	################### Truck towed
	interwar_medartillery = {
		
		path = {
			leads_to_tech = medartillery1
			research_cost_coeff = 1
		}
		
		artillery_medium = {
			soft_attack = 0.05
		}
		artillery_medium_mot = {
			soft_attack = 0.05
		}
		ss_artillery_medium = {
			soft_attack = 0.05
		}
		ss_artillery_medium_mot = {
			soft_attack = 0.05
		}
		
		research_cost = 1.1
		start_year = 1936
		folder = {
			name = artillery_folder
			position = { x = -1 y = @1936 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 8
			modifier = {
				factor = 0
				NOT= {
				OR = {
				tag = FRA
				tag = CAN
				}
				}
			}
			modifier = {
				factor = 5
				num_of_military_factories > 30
			}
			modifier = {
				factor = 5
				num_of_military_factories > 50
			}
			modifier = {
				factor = 7
				has_tech = superior_firepower
			}
		}
	}
	#Early war medium artillery
	medartillery1 = {
	
		enable_equipments = {
			medartillery_equipment_1
		}
		
		
		path = {
			leads_to_tech = medartillery0
			research_cost_coeff = 1
		}
		
		research_cost = 1.7
		start_year = 1937
		folder = {
			name = artillery_folder
			position = { x = -1 y = @1937 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT= {
				OR = {
				tag = FRA
				tag = USA
				tag = GER
				tag = SOV
				}
				}
			}
			modifier = {
				factor = 3
				num_of_military_factories > 30
			}
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 10
				has_tech = superior_firepower
			}
		}
	}
    #Early war medium artillery 38
	medartillery0 = {
		
		artillery_medium = {
			soft_attack = 0.05
		}
		artillery_medium_mot = {
			soft_attack = 0.05
		}
		ss_artillery_medium = {
			soft_attack = 0.05
		}
		ss_artillery_medium_mot = {
			soft_attack = 0.05
		}
		
		
		
		path = {
			leads_to_tech = medartillery4
			research_cost_coeff = 1
		}
		
		research_cost = 1.1
		start_year = 1938
		folder = {
			name = artillery_folder
			position = { x = -1 y = @1938 }
		}
		
		categories = {
			artillery
		}
		
	   on_research_complete = {
			if = {
				limit = {
				    num_of_military_factories > 38
					is_ai = yes
					NOT = { tag = GER }
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = interwar_antitank
					
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_MA_AT"
				}
			}
			if = {
				limit = {
					is_ai = yes
					tag = GER
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_MA_AT_GER"
				}
			}
		}
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					
					NOT = { has_country_flag = normal_inf }
					NOT = { tag = GER }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_art"
				}
			}
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					
					has_country_flag = normal_inf
					NOT = { tag = GER }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_art_M"
				}
			}
		}
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = interwar_antitank
					
					NOT = { has_country_flag = normal_inf }
					NOT = { tag = GER }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_at_art"
				}
			}
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = interwar_antitank
					
					has_country_flag = normal_inf
					NOT = { tag = GER }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_at_art_M"
				}
			}
		}
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				NOT= {
				OR = {
				tag = FRA
				tag = USA
				tag = GER
				tag = SOV
				}
				}
			}
			modifier = {
				factor = 6
				num_of_military_factories > 50
			}
			modifier = {
				factor = 9
				has_tech = superior_firepower
			}
			modifier = {
				factor = 0
				NOT = { has_tech = tech_logistics_company }
			}
			modifier = {
				factor = 0.5
				NOT = { has_tech = tech_maintenance_company }
			}
			modifier = {
			factor = 5
			date > 1938.3.1
			}
		}
	}
	
	# Carriage upgrade
	medartillery2 = {
		
		artillery_medium = {
			soft_attack = 0.05
		}
		artillery_medium_mot = {
			soft_attack = 0.05
		}
		ss_artillery_medium = {
			soft_attack = 0.05
		}
		ss_artillery_medium_mot = {
			soft_attack = 0.05
		}
		
		light_sp_artillery_brigade = {
		   soft_attack = 0.03
		}
		medium_sp_artillery_brigade = {
		   soft_attack = 0.03
		}
		ss_panzer_ii_art = {
		   soft_attack = 0.03
		}
		ss_panzer_iii_art = {
		   soft_attack = 0.03
		}
		
		
		research_cost = 1.2
		start_year = 1940
		folder = {
			name = artillery_folder
			position = { x = 1 y = @1940 }
		}
		
		categories = {
			artillery
		}
		
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					NOT = { has_country_flag = normal_inf }
					
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_art"
				}
			}
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					has_country_flag = normal_inf
					
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_art_M"
				}
			}
		}
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					has_tech = interwar_antitank
					
					NOT = { has_country_flag = normal_inf }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_at_art"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					has_tech = interwar_antitank
					
					has_country_flag = normal_inf
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_at_art_M"
				}
			}
		}
		
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 9
				OR = {
				tag = FRA
				tag = USA
				tag = GER
				tag = SOV
				}
			}
			modifier = {
				factor = 6
				num_of_military_factories > 65
			}
			modifier = {
				factor = 8
				has_tech = superior_firepower
			}
			modifier = {
				factor = 0.4
				NOT = { has_tech = tech_maintenance_company }
			}
		}
	}
	# Mid war equipment upgrade medium artillery
	medartillery4 = {
	
		enable_equipments = {
			medartillery_equipment_2
		}

		path = {
			leads_to_tech = medartillery3
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = medartillery2
			research_cost_coeff = 1
		}
		research_cost = 1.3
		start_year = 1940
		folder = {
			name = artillery_folder
			position = { x = -1 y = @1940 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 7
				OR = {
				tag = FRA
				tag = USA
				tag = GER
				tag = SOV
				}
			}
			modifier = {
				factor = 6
				num_of_military_factories > 60
			}
			modifier = {
				factor = 10
				has_tech = superior_firepower
			}
			modifier = {
				factor = 0.4
				NOT = { has_tech = tech_maintenance_company }
			}
		}
		
	}
	# Artillery Gun upgrade
	medartillery3 = {
		
		artillery_medium = {
			soft_attack = 0.07
		}
		artillery_medium_mot = {
			soft_attack = 0.07
		}
		ss_artillery_medium = {
			soft_attack = 0.07
		}
		ss_artillery_medium_mot = {
			soft_attack = 0.07
		}
		artillery_heavy_mot = {
			soft_attack = 0.05
		}
		ss_artillery_heavy_mot = {
			soft_attack = 0.05
		}
		
		path = {
			leads_to_tech = medartillery5
			research_cost_coeff = 1
		}
		
		light_sp_artillery_brigade = {
		   soft_attack = 0.05
		}
		medium_sp_artillery_brigade = {
		   soft_attack = 0.05
		}
		heavy_sp_artillery_brigade = {
		   soft_attack = 0.05
		}
		ss_panzer_ii_art = {
		   soft_attack = 0.05
		}
		ss_panzer_iii_art = {
		   soft_attack = 0.05
		}
		ss_panzer_vi_art = {
		   soft_attack = 0.05
		}
		
		research_cost = 1.2
		start_year = 1941
		folder = {
			name = artillery_folder
			position = { x = -1 y = @1941 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
				tag = FRA
				tag = USA
				tag = GER
				tag = SOV
				}
			}
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 8
				has_tech = superior_firepower
			}
			modifier = {
				factor = 0.4
				NOT = { has_tech = tech_maintenance_company }
			}
		}
	}
	# Late war medium artillery
	medartillery5 = {

		enable_equipments = {
			medartillery_equipment_3
		}
		
		path = {
			leads_to_tech = medartillery8
			research_cost_coeff = 1
		}
		
		research_cost = 1.2
		start_year = 1942
		folder = {
			name = artillery_folder
			position = { x = -1 y = @1942 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
				tag = FRA
				tag = USA
				tag = GER
				tag = SOV
				}
			}
			modifier = {
				factor = 3
				num_of_military_factories > 30
			}
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 8
				has_tech = superior_firepower
			}
			modifier = {
				factor = 0.4
				NOT = { has_tech = tech_maintenance_company }
			}
		}
	}
    # Artillery Gun upgrade
	medartillery8 = {
		
		artillery_medium = {
			soft_attack = 0.05
		}
		artillery_medium_mot = {
			soft_attack = 0.05
		}
		ss_artillery_medium = {
			soft_attack = 0.05
		}
		ss_artillery_medium_mot = {
			soft_attack = 0.05
		}
		
		light_sp_artillery_brigade = {
		   soft_attack = 0.03
		}
		medium_sp_artillery_brigade = {
		   soft_attack = 0.03
		}
		heavy_sp_artillery_brigade = {
		   soft_attack = 0.03
		}
		ss_panzer_ii_art = {
		   soft_attack = 0.03
		}
		ss_panzer_iii_art = {
		   soft_attack = 0.03
		}
		ss_panzer_vi_art = {
		   soft_attack = 0.03
		}
		ss_panzer_vi_art = {
		   soft_attack = 0.03
		}
		
		
		research_cost = 1.3
		start_year = 1944
		folder = {
			name = artillery_folder
			position = { x = -1 y = @1944 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 6
				OR = {
				tag = FRA
				tag = USA
				tag = GER
				tag = SOV
				}
			}
			modifier = {
				factor = 3
				num_of_military_factories > 30
			}
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 8
				has_tech = superior_firepower
			}
			modifier = {
				factor = 0.4
				NOT = { has_tech = tech_maintenance_company }
			}
		}
	}
	########### Hv Art ##############
	Hvartillery1 = {
	
		enable_equipments = {
			Hvartillery_equipment_1
		}
		
		path = {
			leads_to_tech = Hvartillery2
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = heavyshells
			research_cost_coeff = 1
		}
		
		research_cost = 1.2
		start_year = 1937
		folder = {
			name = artillery_folder
			position = { x = 3 y = @1937 }
		}
		
		categories = {
			artillery
		}
		
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					load_oob = "unlock_motorized_1940 4"
				}
			}
		}
		
		
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				num_of_military_factories > 50
			}
			modifier = {
				factor = 2
				num_of_military_factories > 70
			}
			modifier = {
				factor = 0
				tag = JAP
			}
			modifier = {
				factor = 14
				tag = USA
			}
			modifier = {
				factor = 6
				tag = GER
			}
		}
	}
    #Early
	heavyshells = {
		
		artillery_medium = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.15
			}
			supply_consumption = 0.03
		}
		artillery_medium_mot = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.15
			}
			supply_consumption = 0.03
		}
		ss_artillery_medium = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.15
			}
			supply_consumption = 0.03
		}
		ss_artillery_medium_mot = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.15
			}
			supply_consumption = 0.03
		}
		artillery_heavy_mot = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.25
			}
			supply_consumption = 0.03
		}
		ss_artillery_heavy_mot = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.25
			}
			supply_consumption = 0.03
		}
		medium_sp_artillery_brigade = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.15
			}
			supply_consumption = 0.03
		}
		heavy_sp_artillery_brigade = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.25
			}
			supply_consumption = 0.03
		}
		super_heavy_sp_artillery_brigade = {
			village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.3
			}
			supply_consumption = 0.03
		}
		

		ss_panzer_iii_art = {
		   	village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.15
			}
			supply_consumption = 0.03
		}
		ss_panzer_vi_art = {
		   	village = {
				attack = 0.05
			}
			urban = {
				attack = 0.05
			}
			metropoliscity = {
				attack = 0.05
			}
			fort = {
				attack = 0.25
			}
			supply_consumption = 0.03
		}
		

		
		
		research_cost = 1.5
		start_year = 1938
		folder = {
			name = artillery_folder
			position = { x = 4 y = @1938 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 2
				num_of_military_factories > 55
			}
			modifier = {
				factor = 4
				num_of_military_factories > 90
			}
			modifier = {
				factor = 15
				tag = USA
			}
			modifier = {
				factor = 8
				tag = GER
				date > 1938.5.1
			}
		}
	}
	Hvartillery2 = {
		
		artillery_heavy_mot = {
			soft_attack = 0.08
		}
		ss_artillery_heavy_mot = {
		    soft_attack = 0.08
		}
		
		path = {
			leads_to_tech = Hvartillery4
			research_cost_coeff = 1
		}
		research_cost = 1.5
		start_year = 1939
		folder = {
			name = artillery_folder
			position = { x = 3 y = @1939 }
		}
		
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 6
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 4
				num_of_military_factories > 70
			}
			modifier = {
				factor = 0
				NOT = { tag = USA }
			}
		}
	}
	Hvartillery4 = {
	
		enable_equipments = {
			Hvartillery_equipment_2
		}
		
		path = {
			leads_to_tech = Hvartillery3
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = Heavyshells2
			research_cost_coeff = 1
		}

		on_research_complete = {
			if = {
				limit = {
				    is_ai = yes 
				}
				hidden_effect = {
					load_oob = "unlock_motorized_1942 1"
				}
			}
		}
		
		
		research_cost = 1.5
		start_year = 1940
		folder = {
			name = artillery_folder
			position = { x = 3 y = @1940 }
		}
		
		categories = {
			artillery
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 9
				has_tech = tech_field_hospital
				has_tech = tech_logistics_company
				has_tech = tech_maintenance_company
				has_tech = interwar_antitank
				
				num_of_military_factories > 50
			}
			modifier = {
				factor = 4
				num_of_military_factories > 70
			}
			modifier = {
				factor = 0
				NOT = { tag = USA }
			}
		}
	}
	Heavyshells2 = {

		artillery_heavy_mot = {
			village = {
			attack = 0.1
		}
		urban = {
			attack = 0.1
		}
		metropoliscity = {
			attack = 0.1
		}
			fort = {
				attack = 0.2
			}
			supply_consumption = 0.05
		}
		ss_artillery_heavy_mot = {
		    village = {
			attack = 0.1
		}
		urban = {
			attack = 0.1
		}
		metropoliscity = {
			attack = 0.1
		}
			fort = {
				attack = 0.2
			}
			supply_consumption = 0.05
		}
		heavy_sp_artillery_brigade = {
			village = {
			attack = 0.1
		}
		urban = {
			attack = 0.1
		}
		metropoliscity = {
			attack = 0.1
		}
			fort = {
				attack = 0.2
			}
			supply_consumption = 0.05
		}
		super_heavy_sp_artillery_brigade = {
			village = {
			attack = 0.2
		}
		urban = {
			attack = 0.2
		}
		metropoliscity = {
			attack = 0.2
		}
			fort = {
				attack = 0.4
			}
			supply_consumption = 0.05
		}
		ss_panzer_vi_art = {
		   		village = {
			attack = 0.1
		}
		urban = {
			attack = 0.1
		}
		metropoliscity = {
			attack = 0.1
		}
			fort = {
				attack = 0.2
			}
			supply_consumption = 0.05
		}
		
		research_cost = 1.5
		start_year = 1941
		folder = {
			name = artillery_folder
			position = { x = 4 y = @1941 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 4
				num_of_military_factories > 70
			}
			modifier = {
				factor = 0
				NOT = { tag = USA }
			}
		}
	}
	Hvartillery3 = {

		artillery_heavy_mot = {
			soft_attack = 0.08
		}
		ss_artillery_heavy_mot = {
		    soft_attack = 0.08
		}
		heavy_sp_artillery_brigade = {
		   soft_attack = 0.08
		}
		ss_panzer_vi_art = {
		   soft_attack = 0.08
		}
		
		path = {
			leads_to_tech = Hvartillery5
			research_cost_coeff = 1
		}
		
		research_cost = 1.15
		start_year = 1942
		folder = {
			name = artillery_folder
			position = { x = 3 y = @1942 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 4
				num_of_military_factories > 70
			}
			modifier = {
				factor = 0
				NOT = { tag = USA }
			}
		}
	}
	Hvartillery5 = {

		enable_equipments = {
			Hvartillery_equipment_3
		}
		path = {
			leads_to_tech = Hvartillery6
			research_cost_coeff = 1
		}
		research_cost = 1
		start_year = 1943
		folder = {
			name = artillery_folder
			position = { x = 3 y = @1943 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				NOT = { tag = USA }
			}
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 4
				num_of_military_factories > 70
			}		
		}
	}
	Hvartillery6 = {

		artillery_heavy_mot = {
			soft_attack = 0.08
		}
		ss_artillery_heavy_mot = {
		    soft_attack = 0.08
		}
		heavy_sp_artillery_brigade = {
		   soft_attack = 0.08
		}
		ss_panzer_vi_art = {
		   soft_attack = 0.08
		}
		
		research_cost = 1.5
		start_year = 1945
		folder = {
			name = artillery_folder
			position = { x = 3 y = @1945 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				NOT = { tag = USA }
			}
			modifier = {
				factor = 3
				num_of_military_factories > 50
			}
			modifier = {
				factor = 4
				num_of_military_factories > 70
			}		
		}
	}
	###################### Super Heavy artillery
	superartillery1 = {
	
		enable_equipments = {
			railway_gun_equipment_0
		}
		path = {
			leads_to_tech = superartillery2
			research_cost_coeff = 1
		}
		
		allow_branch = {
			has_dlc = "No Step Back"
		}
		
		research_cost = 1.5
		start_year = 1916
		folder = {
			name = artillery_folder
			position = { x = 6 y = @1936 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	superartillery2 = {
	
		enable_equipments = {
			railway_gun_equipment_1
		}
		
		path = {
			leads_to_tech = superartillery3
			research_cost_coeff = 1
		}

		research_cost = 1.2
		start_year = 1938
		folder = {
			name = artillery_folder
			position = { x = 6 y = @1938 }
		}
		
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	superartillery3 = {
	
		enable_equipments = {
			railway_gun_equipment_2
		}
		
		path = {
			leads_to_tech = superartillery3_2
			research_cost_coeff = 1
		}

		research_cost = 1
		start_year = 1942
		folder = {
			name = artillery_folder
			position = { x = 6 y = @1942 }
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	superartillery3_2 = {

		research_cost = 0.8
		start_year = 1942
		folder = {
			name = artillery_folder
			position = { x = 6 y = @1943 }
		}
		
		super_heavy_sp_artillery_brigade = {
		urban = {
			attack = 0.15
		}
		metropoliscity = {
			attack = 0.25
		}
			fort = {
				attack = 0.2
			}
			supply_consumption = 0.05
		}
		
		categories = {
			artillery
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	rocket_artillery = {

		enable_equipments = {
			rocket_artillery_equipment_1
		}
		enable_subunits = {
			rocket_artillery_brigade
		}
		
		path = {
			leads_to_tech = rocket_artillery2
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = motorized_rocket_unit
			research_cost_coeff = 1
		}
		research_cost = 1.8
		start_year = 1940
		folder = {
			name = artillery_folder
			position = { x = 9 y = @1940 }
		}
		on_research_complete = {
		hidden_effect = {
				if = {
				limit = {
				has_country_flag = SS_Start
						not = { has_country_flag = ss_rocket }
					}
                    country_event = ss_event.6838
				}
			}
		}
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				NOT = { tag = SOV }
			}
			modifier = {
				factor = 7
				num_of_military_factories > 70
			}
		}
		
		categories = {
			rocketry
		}
	}
	motorized_rocket_unit = {

		enable_subunits = {
			motorized_rocket_brigade
		}
		
	    dependencies = {
			motorised_infantry = 1
		}
	
		research_cost = 1.4
		start_year = 1941
		
		folder = {
			name = artillery_folder
			position = { x = 11 y = @1941 }
		}
		
		on_research_complete = {
		hidden_effect = {
				if = {
				limit = {
				has_country_flag = SS_Start
						not = { has_country_flag = ss_rocket_mot }
					}
                    country_event = ss_event.6840
				}
			}
		
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_logistics_company
					has_tech = interwar_antitank
				}
				hidden_effect = {
					load_oob = "unlock_motorized_rocket_1943"
				}
			}
		}
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_logistics_company
					has_tech = interwar_antitank
				}
				hidden_effect = {
					load_oob = "unlock_motorized_1943"
				}
			}
		}
		
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					or = { has_tech = improved_heavy_tank tag = JAP tag = USA tag = ITA }
				}
				hidden_effect = {
					load_oob = "unlock_heavy_tank_brigade_1943"
				}
			}
		}
		
		
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				NOT = { tag = SOV }
			}
			modifier = {
				factor = 7
				num_of_military_factories > 85
			}
		}
		
		categories = {
		    rocketry
		}
	}
	rocket_artillery2 = {

		rocket_artillery_brigade = {
			soft_attack = 0.15
			fort = {
			    attack = 0.1
			}
		}
		motorized_rocket_brigade = {
			soft_attack = 0.15
			fort = {
			     attack = 0.1
			}
		}
		
		path = {
			leads_to_tech = rocket_artillery3
			research_cost_coeff = 1
		}
		
		research_cost = 1.3
		start_year = 1941
		folder = {
			name = artillery_folder
			position = { x = 9 y = @1941 }
		}
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 6
				tag = SOV
			}
			modifier = {
				factor = 7
				num_of_military_factories > 70
			}
		}
		
		categories = {
			rocketry
		}
	}
	rocket_artillery3 = {

		rocket_artillery_brigade = {
			breakthrough = 0.2
			fort = {
			    attack = 0.1
			}
		}
		motorized_rocket_brigade = {
			breakthrough  = 0.2
			fort = {
			    attack = 0.1
			}
		}

		path = {
			leads_to_tech = rocket_artillery4
			research_cost_coeff = 1
		}
		
		research_cost = 1.3
		start_year = 1942
		folder = {
			name = artillery_folder
			position = { x = 9 y = @1942 }
		}
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 6
				tag = SOV
			}
			modifier = {
				factor = 7
				num_of_military_factories > 70
			}
		}
		
		categories = {
			rocketry
		}
	}
	rocket_artillery4 = {
	
		enable_equipments = {
			rocket_artillery_equipment_2
		}
		#rocket_artillery_brigade = {
		#	soft_attack = 0.25
		#}
		motorized_rocket_brigade = {
			#soft_attack = 0.25
			fort = {
			    attack = 0.05
			}
		}
		
		research_cost = 1.4
		start_year = 1944
		folder = {
			name = artillery_folder
			position = { x = 9 y = @1944 }
		}
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 6
				tag = SOV
			}
			modifier = {
				factor = 7
				num_of_military_factories > 70
			}
		}
		
		categories = {
			rocketry
		}
	}
	###### Anti-tank
	interwar_antitank = {

		enable_equipments = {
			anti_tank_equipment_1
		}
		enable_subunits = {
			anti_tank_brigade
		}
		enable_subunits = {
			anti_tank_brigade_mot
		}
		
		path = {
			leads_to_tech = antitank1
			research_cost_coeff = 1
		}
		
		research_cost = 1.4
		start_year = 1936
		
		folder = {
			name = artillery_folder
			position = { x = 13 y = @1936 }
		}

		on_research_complete = {
    		if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					
					NOT = { has_country_flag = normal_inf }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_at"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					
					has_country_flag = normal_inf
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_at_M"
				}
			}
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					
					NOT = { tag = GER }
					NOT = { has_country_flag = normal_inf }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_at"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					
					NOT = { tag = GER }
					has_country_flag = normal_inf
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_at_M"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					
					NOT = { tag = GER }
					NOT = { has_country_flag = normal_inf }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry38_at"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					
					NOT = { tag = GER }
					has_country_flag = normal_inf
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_infantry38_at_M"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					
					NOT = { has_country_flag = no_deploying }
					NOT = { has_country_flag = normal_inf }
				}
				hidden_effect = {
					load_oob = "unlock_infantry37_at"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					
					NOT = { has_country_flag = no_deploying }
					has_country_flag = normal_inf
				}
				hidden_effect = {
					load_oob = "unlock_infantry37_at_M"
				}
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 9
				num_of_military_factories > 16
			}
			modifier = {
				factor = 5
				num_of_military_factories > 20
			}
			modifier = {
				factor = 4
				num_of_military_factories > 28
			}
			modifier = {
				factor = 40
				tag = EGY
			}
			modifier = {
				factor = 0
				tag = MAL
			}
		}
		
		categories = {
			artillery
			cat_anti_tank
		}
	}
	
	antitank1 = {

		ss_anti_tank_brigade = {
			hard_attack = 0.1
		}
		anti_tank_brigade = {
			hard_attack = 0.1
		}
		ss_anti_tank_brigade_mot = {
			hard_attack = 0.1
		}
		anti_tank_brigade_mot = {
			hard_attack = 0.1
		}
		
		
		path = {
			leads_to_tech = antitank2
			research_cost_coeff = 1
		}
		
		research_cost = 1.3
		start_year = 1938
		folder = {
			name = artillery_folder
			position = { x = 13 y = @1938 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 11
				num_of_military_factories > 17
			}
			modifier = {
				factor = 2
				num_of_military_factories > 65
			}
			modifier = {
				factor = 2
				num_of_military_factories > 80
			}
			modifier = {
				factor = 2
				num_of_factories > 50
				date > 1938.9.1
			}
			modifier = {
				factor = 3
				num_of_factories > 20
				date > 1939.3.1
			}
		}
		
		on_research_complete = {
			if = {
				limit = {
				    num_of_military_factories > 38
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = gw_med_artillery
					
					NOT = { has_country_flag = no_deploying }
					has_country_flag = normal_inf
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_MA_AT"
				}
			}
			if = {
				limit = {
				    num_of_military_factories > 46
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = gw_med_artillery
					has_tech = interwar_antiair
					
					NOT = { has_country_flag = no_deploying }
					NOT = { tag = GER }
					has_country_flag = normal_inf
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_MA_AA_AT"
				}
			}
		}
		on_research_complete = {
	    	if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					
					NOT = { has_country_flag = no_deploying }
					NOT = { tag = GER }
					NOT = { has_country_flag = normal_inf }
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_at"
				}
			}
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					
					NOT = { has_country_flag = no_deploying }
					NOT = { tag = GER }
					has_country_flag = normal_inf
				}
				hidden_effect = {
					load_oob = "unlock_infantry40_at_M"
				}
			}
			
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					
					NOT = { has_country_flag = no_deploying }
					NOT = { tag = GER }
					NOT = { tag = ENG }
					NOT = { has_country_flag = normal_inf }
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_at"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					
					NOT = { has_country_flag = no_deploying }
					NOT = { tag = GER }
					has_country_flag = normal_inf
				}
				hidden_effect = {
					load_oob = "unlock_infantry39_at_M"
				}
			}
		}
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_mountaineers
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_mountain39_at"
				}
			}
			else_if = {
				limit = {
					is_ai = yes
					NOT = { has_tech = tech_logistics_company }
					has_tech = tech_mountaineers
					NOT = { has_country_flag = no_deploying }
					NOT = { tag = GER }
				}
				hidden_effect = {
					load_oob = "unlock_mountain38_at"
				}
			}
		}
		
		categories = {
			artillery
			cat_anti_tank
		}
	}
	antitank2 = {
		
		enable_equipments = {
			anti_tank_equipment_2
		}
		
		
		path = {
			leads_to_tech = antitank3
			research_cost_coeff = 1
		}

		
		research_cost = 1.2
		start_year = 1939
		folder = {
			name = artillery_folder
			position = { x = 13 y = @1939 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 5
				num_of_military_factories > 23
			}
			modifier = {
				factor = 4
				num_of_military_factories > 50
			}
			modifier = {
				factor = 2
				num_of_military_factories > 80
			}
			modifier = {
				factor = 2
				tag = SOV
			}
			modifier = {
				factor = 0.5
				tag = JAP
			}
			modifier = {
			factor = 5
			num_of_factories > 90
			date > 1939.2.1
			}
		}
		
		categories = {
			artillery
			cat_anti_tank
		}
	}
	antitank3 = {

		ss_anti_tank_brigade = {
			hard_attack = 0.05
			ap_attack = 0.05
		}
		anti_tank_brigade = {
			hard_attack = 0.05
			ap_attack = 0.05
		}
		ss_anti_tank_brigade_mot = {
			hard_attack = 0.05
			ap_attack = 0.05
		}
		anti_tank_brigade_mot = {
			hard_attack = 0.05
			ap_attack = 0.05
		}
		light_tank_destroyer_brigade = {
			hard_attack = 0.05
			ap_attack = 0.05
		}
		
		path = {
			leads_to_tech = antitank5
			research_cost_coeff = 1
		}
		
		research_cost = 1.2
		start_year = 1941
		folder = {
			name = artillery_folder
			position = { x = 13 y = @1941 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 6
				num_of_military_factories > 25
			}
			modifier = {
				factor = 5
				num_of_military_factories > 50
			}
			modifier = {
				factor = 0.5
				tag = JAP
			}
		}
		
		categories = {
			artillery
			cat_anti_tank
		}
	}
	
	antitank5 = {
		
		enable_equipments = {
			anti_tank_equipment_3
		}	
		
		path = {
			leads_to_tech = antitank6
			research_cost_coeff = 1
		}
		
		research_cost = 1.2
		start_year = 1942
		folder = {
			name = artillery_folder
			position = { x = 13 y = @1942 }
		}
		
		on_research_complete = {
			if = {
				limit = {
					is_ai = yes
					has_tech = tech_field_hospital
					has_tech = tech_logistics_company
					has_tech = tech_maintenance_company
					has_tech = basic_light_tank
					has_tech = basic_medium_tank
					NOT = { has_country_flag = mot_42 }
					NOT = { has_country_flag = no_deploying }
				}
				hidden_effect = {
					load_oob = "unlock_motorized_1942"
				}
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				num_of_military_factories > 35
			}
			modifier = {
				factor = 5
				num_of_military_factories > 60
			}
			modifier = {
				factor = 4
				date > 1942.10.1
				num_of_military_factories > 110
			}
			modifier = {
				factor = 0.5
				tag = JAP
			}
		}
		
		categories = {
			artillery
			cat_anti_tank
		}
	}
	antitank6 = {

		ss_anti_tank_brigade = {
			ap_attack = 0.05
		}
		anti_tank_brigade = {
			ap_attack = 0.05
		}
		ss_anti_tank_brigade_mot = {
			ap_attack = 0.05
		}
		anti_tank_brigade_mot = {
			ap_attack = 0.05
		}
		light_tank_destroyer_brigade = {
			ap_attack = 0.05
		}	
	
		path = {
			leads_to_tech = antitank7
			research_cost_coeff = 1
		}
		
		research_cost = 1.2
		start_year = 1943
		folder = {
			name = artillery_folder
			position = { x = 13 y = @1943 }
		}
		
		ai_will_do = {
			factor = 8
			modifier = {
				factor = 5
				num_of_military_factories > 50
			}
		}
		
		categories = {
			artillery
			cat_anti_tank
		}
	}
	antitank7 = {

		ss_anti_tank_brigade = {
			hard_attack = 0.08
		}
		anti_tank_brigade = {
			hard_attack = 0.08
		}
		ss_anti_tank_brigade_mot = {
			hard_attack = 0.08
		}
		anti_tank_brigade_mot = {
			hard_attack = 0.08
		}
		light_tank_destroyer_brigade = {
			hard_attack = 0.08
		}	
	
		path = {
			leads_to_tech = antitank8
			research_cost_coeff = 1
		}
		
		research_cost = 1.2
		start_year = 1944
		folder = {
			name = artillery_folder
			position = { x = 13 y = @1944 }
		}
		
		ai_will_do = {
			factor = 8
			modifier = {
				factor = 5
				num_of_military_factories > 50
			}
			modifier = {
				factor = 0.5
				tag = JAP
			}
		}
		
		categories = {
			artillery
			cat_anti_tank
		}
	}
	antitank8 = {

		enable_equipments = {
			anti_tank_equipment_4
		}
		
		research_cost = 1.2
		start_year = 1945
		folder = {
			name = artillery_folder
			position = { x = 13 y = @1945 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				num_of_military_factories > 25
			}
			modifier = {
				factor = 6
				num_of_military_factories > 50
			}
			modifier = {
				factor = 0.5
				tag = JAP
			}
		}
		
		categories = {
			artillery
			cat_anti_tank
		}
	}
}
